Content-Type: multipart/related; start=<op.mhtml.1340804405933.c7cee62a4773e6de@192.168.0.2>; boundary=----------6nhAxGuvOMzG6waYgcmWNI
Content-Location: http://php.net/manual/en/function.imagecopyresized.php
Subject: =?utf-8?Q?PHP:=20imagecopyresized=20-=20Manual?=
MIME-Version: 1.0

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline; filename=function.imagecopyresized.htm
Content-Type: text/html; charset=utf-8; name=function.imagecopyresized.htm
Content-ID: <op.mhtml.1340804405933.c7cee62a4773e6de@192.168.0.2>
Content-Location: http://php.net/manual/en/function.imagecopyresized.php
Content-Transfer-Encoding: Quoted-Printable

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd=
">
<html xmlns=3D"http://www.w3.org/1999/xhtml" xml:lang=3D"en" lang=3D"en"=
>
<head profile=3D"http://purl.org/NET/erdf/profile">
 <title>PHP: imagecopyresized - Manual</title>
 <style type=3D"text/css" media=3D"all">
  @import url("http://static.php.net/www.php.net/styles/site.css");
  @import url("http://static.php.net/www.php.net/styles/phpnet.css");
  =

 </style>
 <!--[if IE]><![if gte IE 6]><![endif]-->
  <style type=3D"text/css" media=3D"print">
   @import url("http://static.php.net/www.php.net/styles/print.css");
  </style>
 <!--[if IE]><![endif]><![endif]-->
 <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf-8=
"/>
 <link rel=3D"shortcut icon" href=3D"http://static.php.net/www.php.net/f=
avicon.ico" />
 <link rel=3D"contents" href=3D"index.php" />
 <link rel=3D"index" href=3D"ref.image.php" />
 <link rel=3D"prev" href=3D"function.imagecopyresampled.php" />
 <link rel=3D"next" href=3D"function.imagecreate.php" />
 <link rel=3D"schema.dc" href=3D"http://purl.org/dc/elements/1.1/" />
 <link rel=3D"schema.rdfs" href=3D"http://www.w3.org/2000/01/rdf-schema#=
" />
 <link rev=3D"canonical" rel=3D"self alternate shorter shorturl shortlin=
k" href=3D"http://php.net/imagecopyresized" />
 <link rel=3D"license" href=3D"http://creativecommons.org/licenses/by/3.=
0/" about=3D"#content" />
 <link rel=3D"canonical" href=3D"http://php.net/manual/en/function.image=
copyresized.php" />
 <script type=3D"text/javascript" src=3D"http://static.php.net/www.php.n=
et/userprefs.js"></script>
 <base href=3D"http://www.php.net/manual/en/function.imagecopyresized.ph=
p" />
 <meta http-equiv=3D"Content-language" content=3D"en" />
            <script type=3D"text/javascript" src=3D"http://ajax.googleap=
is.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
            <script type=3D"text/javascript" src=3D"http://ajax.googleap=
is.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js"></script>
<script type=3D"text/javascript">
$(document).ready(function() {
    var toggleImage =3D function(elem) {
        if ($(elem).hasClass("shown")) {
            $(elem).removeClass("shown").addClass("hidden");
            $("img", elem).attr("src", "/images/notes-add.gif");
        }
        else {
            $(elem).removeClass("hidden").addClass("shown");
            $("img", elem).attr("src", "/images/notes-reject.gif");
        }
    };

    $(".soft-deprecation-notice h1.title").each(function() {
        $(this).prepend("<a class=3D'toggler shown' href=3D'#'><img src=3D=
'/images/notes-reject.gif' alt=3D'minimize' /></a> ");
    });
    $(".refsect1 h3.title").each(function() {
        url =3D "https://bugs.php.net/report.php?bug_type=3DDocumentatio=
n+problem&amp;manpage=3D" + $(this).parent().parent().attr("id") + "%23"=
 + $(this).parent().attr("id");
        $(this).parent().prepend("<div class=3D'reportbug'><a href=3D'" =
+ url + "'>Report a bug</a></div>");
        $(this).prepend("<a class=3D'toggler shown' href=3D'#'><img src=3D=
'/images/notes-reject.gif' alt=3D'reject note' /></a> ");
    });
    $("#usernotes .head").each(function() {
        $(this).prepend("<a class=3D'toggler shown' href=3D'#'><img src=3D=
'/images/notes-reject.gif' alt=3D'reject note' /></a> ");
    });
    $(".soft-deprecation-notice h1.title .toggler").click(function() {
        $(this).parent().siblings().slideToggle("slow");
        toggleImage(this);
        return false;
    });
    $(".refsect1 h3.title .toggler").click(function() {
        $(this).parent().siblings().slideToggle("slow");
        toggleImage(this);
        return false;
    });
    $("#usernotes .head .toggler").click(function() {
        $(this).parent().next().slideToggle("slow");
        toggleImage(this);
        return false;
    });
});
</script>

</head>
<body>

<div id=3D"headnav">
 <a href=3D"/" rel=3D"home"><img src=3D"http://static.php.net/www.php.ne=
t/images/php.gif"
 alt=3D"PHP" width=3D"120" height=3D"67" id=3D"phplogo" /></a>
 <div id=3D"headmenu">
  <a href=3D"/downloads.php">downloads</a> |
  <a href=3D"/docs.php">documentation</a> |
  <a href=3D"/FAQ.php">faq</a> |
  <a href=3D"/support.php">getting help</a> |
  <a href=3D"/mailing-lists.php">mailing lists</a> |
  <a href=3D"/license">licenses</a> |
  <a href=3D"https://wiki.php.net/">wiki</a> |
  <a href=3D"https://bugs.php.net/">reporting bugs</a> |
  <a href=3D"/sites.php">php.net sites</a> |
  <a href=3D"/links.php">links</a> |
  <a href=3D"/conferences/">conferences</a> |
  <a href=3D"/my.php">my php.net</a>
 </div>
</div>

<div id=3D"headsearch">
 <form method=3D"post" action=3D"/search.php" id=3D"topsearch">
  <p>
   <span title=3D"Keyboard shortcut: Alt+S (Win), Ctrl+S (Apple)">
    <span class=3D"shortkey">s</span>earch for
   </span>
   <input type=3D"text" name=3D"pattern" value=3D"" size=3D"30" accesske=
y=3D"s" />
   <span>in the</span>
   <select name=3D"show">
    <option value=3D"all"      >all php.net sites</option>
    <option value=3D"local"    >this mirror only</option>
    <option value=3D"quickref" selected=3D"selected">function list</opti=
on>
    <option value=3D"manual"   >online documentation</option>
    <option value=3D"bugdb"    >bug database</option>
    <option value=3D"news_archive">Site News Archive</option>
    <option value=3D"changelogs">All Changelogs</option>
    <option value=3D"pear"     >just pear.php.net</option>
    <option value=3D"pecl"     >just pecl.php.net</option>
    <option value=3D"talks"    >just talks.php.net</option>
    <option value=3D"maillist" >general mailing list</option>
    <option value=3D"devlist"  >developer mailing list</option>
    <option value=3D"phpdoc"   >documentation mailing list</option>
   </select>
   <input type=3D"image"
          src=3D"http://static.php.net/www.php.net/images/small_submit_w=
hite.gif"
          class=3D"submit" alt=3D"search" />
   <input type=3D"hidden" name=3D"lang" value=3D"en" />
  </p>
 </form>
</div>

<div id=3D"layout_2">
 <div id=3D"leftbar">
<!--UdmComment-->
<ul class=3D"toc">
 <li class=3D"header home"><a href=3D"index.php">PHP Manual</a></li>
 <li class=3D"header up"><a href=3D"funcref.php">Function Reference</a><=
/li>
 <li class=3D"header up"><a href=3D"refs.utilspec.image.php">Image Proce=
ssing and Generation</a></li>
 <li class=3D"header up"><a href=3D"book.image.php">GD</a></li>
 <li class=3D"header up"><a href=3D"ref.image.php">GD and Image Function=
s</a></li>
 <li><a href=3D"function.gd-info.php">gd_<span class=3D"w"> </span>info<=
/a></li>
 <li><a href=3D"function.getimagesize.php">getimagesize</a></li>
 <li><a href=3D"function.getimagesizefromstring.php">getimagesizefromstr=
ing</a></li>
 <li><a href=3D"function.image-type-to-extension.php">image_<span class=3D=
"w"> </span>type_<span class=3D"w"> </span>to_<span class=3D"w"> </span>=
extension</a></li>
 <li><a href=3D"function.image-type-to-mime-type.php">image_<span class=3D=
"w"> </span>type_<span class=3D"w"> </span>to_<span class=3D"w"> </span>=
mime_<span class=3D"w"> </span>type</a></li>
 <li><a href=3D"function.image2wbmp.php">image2wbmp</a></li>
 <li><a href=3D"function.imagealphablending.php">imagealphablending</a><=
/li>
 <li><a href=3D"function.imageantialias.php">imageantialias</a></li>
 <li><a href=3D"function.imagearc.php">imagearc</a></li>
 <li><a href=3D"function.imagechar.php">imagechar</a></li>
 <li><a href=3D"function.imagecharup.php">imagecharup</a></li>
 <li><a href=3D"function.imagecolorallocate.php">imagecolorallocate</a><=
/li>
 <li><a href=3D"function.imagecolorallocatealpha.php">imagecolorallocate=
alpha</a></li>
 <li><a href=3D"function.imagecolorat.php">imagecolorat</a></li>
 <li><a href=3D"function.imagecolorclosest.php">imagecolorclosest</a></l=
i>
 <li><a href=3D"function.imagecolorclosestalpha.php">imagecolorclosestal=
pha</a></li>
 <li><a href=3D"function.imagecolorclosesthwb.php">imagecolorclosesthwb<=
/a></li>
 <li><a href=3D"function.imagecolordeallocate.php">imagecolordeallocate<=
/a></li>
 <li><a href=3D"function.imagecolorexact.php">imagecolorexact</a></li>
 <li><a href=3D"function.imagecolorexactalpha.php">imagecolorexactalpha<=
/a></li>
 <li><a href=3D"function.imagecolormatch.php">imagecolormatch</a></li>
 <li><a href=3D"function.imagecolorresolve.php">imagecolorresolve</a></l=
i>
 <li><a href=3D"function.imagecolorresolvealpha.php">imagecolorresolveal=
pha</a></li>
 <li><a href=3D"function.imagecolorset.php">imagecolorset</a></li>
 <li><a href=3D"function.imagecolorsforindex.php">imagecolorsforindex</a=
></li>
 <li><a href=3D"function.imagecolorstotal.php">imagecolorstotal</a></li>=

 <li><a href=3D"function.imagecolortransparent.php">imagecolortransparen=
t</a></li>
 <li><a href=3D"function.imageconvolution.php">imageconvolution</a></li>=

 <li><a href=3D"function.imagecopy.php">imagecopy</a></li>
 <li><a href=3D"function.imagecopymerge.php">imagecopymerge</a></li>
 <li><a href=3D"function.imagecopymergegray.php">imagecopymergegray</a><=
/li>
 <li><a href=3D"function.imagecopyresampled.php">imagecopyresampled</a><=
/li>
 <li class=3D"active"><a href=3D"function.imagecopyresized.php">imagecop=
yresized</a></li>
 <li><a href=3D"function.imagecreate.php">imagecreate</a></li>
 <li><a href=3D"function.imagecreatefromgd2.php">imagecreatefromgd2</a><=
/li>
 <li><a href=3D"function.imagecreatefromgd2part.php">imagecreatefromgd2p=
art</a></li>
 <li><a href=3D"function.imagecreatefromgd.php">imagecreatefromgd</a></l=
i>
 <li><a href=3D"function.imagecreatefromgif.php">imagecreatefromgif</a><=
/li>
 <li><a href=3D"function.imagecreatefromjpeg.php">imagecreatefromjpeg</a=
></li>
 <li><a href=3D"function.imagecreatefrompng.php">imagecreatefrompng</a><=
/li>
 <li><a href=3D"function.imagecreatefromstring.php">imagecreatefromstrin=
g</a></li>
 <li><a href=3D"function.imagecreatefromwbmp.php">imagecreatefromwbmp</a=
></li>
 <li><a href=3D"function.imagecreatefromxbm.php">imagecreatefromxbm</a><=
/li>
 <li><a href=3D"function.imagecreatefromxpm.php">imagecreatefromxpm</a><=
/li>
 <li><a href=3D"function.imagecreatetruecolor.php">imagecreatetruecolor<=
/a></li>
 <li><a href=3D"function.imagedashedline.php">imagedashedline</a></li>
 <li><a href=3D"function.imagedestroy.php">imagedestroy</a></li>
 <li><a href=3D"function.imageellipse.php">imageellipse</a></li>
 <li><a href=3D"function.imagefill.php">imagefill</a></li>
 <li><a href=3D"function.imagefilledarc.php">imagefilledarc</a></li>
 <li><a href=3D"function.imagefilledellipse.php">imagefilledellipse</a><=
/li>
 <li><a href=3D"function.imagefilledpolygon.php">imagefilledpolygon</a><=
/li>
 <li><a href=3D"function.imagefilledrectangle.php">imagefilledrectangle<=
/a></li>
 <li><a href=3D"function.imagefilltoborder.php">imagefilltoborder</a></l=
i>
 <li><a href=3D"function.imagefilter.php">imagefilter</a></li>
 <li><a href=3D"function.imagefontheight.php">imagefontheight</a></li>
 <li><a href=3D"function.imagefontwidth.php">imagefontwidth</a></li>
 <li><a href=3D"function.imageftbbox.php">imageftbbox</a></li>
 <li><a href=3D"function.imagefttext.php">imagefttext</a></li>
 <li><a href=3D"function.imagegammacorrect.php">imagegammacorrect</a></l=
i>
 <li><a href=3D"function.imagegd2.php">imagegd2</a></li>
 <li><a href=3D"function.imagegd.php">imagegd</a></li>
 <li><a href=3D"function.imagegif.php">imagegif</a></li>
 <li><a href=3D"function.imagegrabscreen.php">imagegrabscreen</a></li>
 <li><a href=3D"function.imagegrabwindow.php">imagegrabwindow</a></li>
 <li><a href=3D"function.imageinterlace.php">imageinterlace</a></li>
 <li><a href=3D"function.imageistruecolor.php">imageistruecolor</a></li>=

 <li><a href=3D"function.imagejpeg.php">imagejpeg</a></li>
 <li><a href=3D"function.imagelayereffect.php">imagelayereffect</a></li>=

 <li><a href=3D"function.imageline.php">imageline</a></li>
 <li><a href=3D"function.imageloadfont.php">imageloadfont</a></li>
 <li><a href=3D"function.imagepalettecopy.php">imagepalettecopy</a></li>=

 <li><a href=3D"function.imagepng.php">imagepng</a></li>
 <li><a href=3D"function.imagepolygon.php">imagepolygon</a></li>
 <li><a href=3D"function.imagepsbbox.php">imagepsbbox</a></li>
 <li><a href=3D"function.imagepsencodefont.php">imagepsencodefont</a></l=
i>
 <li><a href=3D"function.imagepsextendfont.php">imagepsextendfont</a></l=
i>
 <li><a href=3D"function.imagepsfreefont.php">imagepsfreefont</a></li>
 <li><a href=3D"function.imagepsloadfont.php">imagepsloadfont</a></li>
 <li><a href=3D"function.imagepsslantfont.php">imagepsslantfont</a></li>=

 <li><a href=3D"function.imagepstext.php">imagepstext</a></li>
 <li><a href=3D"function.imagerectangle.php">imagerectangle</a></li>
 <li><a href=3D"function.imagerotate.php">imagerotate</a></li>
 <li><a href=3D"function.imagesavealpha.php">imagesavealpha</a></li>
 <li><a href=3D"function.imagesetbrush.php">imagesetbrush</a></li>
 <li><a href=3D"function.imagesetpixel.php">imagesetpixel</a></li>
 <li><a href=3D"function.imagesetstyle.php">imagesetstyle</a></li>
 <li><a href=3D"function.imagesetthickness.php">imagesetthickness</a></l=
i>
 <li><a href=3D"function.imagesettile.php">imagesettile</a></li>
 <li><a href=3D"function.imagestring.php">imagestring</a></li>
 <li><a href=3D"function.imagestringup.php">imagestringup</a></li>
 <li><a href=3D"function.imagesx.php">imagesx</a></li>
 <li><a href=3D"function.imagesy.php">imagesy</a></li>
 <li><a href=3D"function.imagetruecolortopalette.php">imagetruecolortopa=
lette</a></li>
 <li><a href=3D"function.imagettfbbox.php">imagettfbbox</a></li>
 <li><a href=3D"function.imagettftext.php">imagettftext</a></li>
 <li><a href=3D"function.imagetypes.php">imagetypes</a></li>
 <li><a href=3D"function.imagewbmp.php">imagewbmp</a></li>
 <li><a href=3D"function.imagexbm.php">imagexbm</a></li>
 <li><a href=3D"function.iptcembed.php">iptcembed</a></li>
 <li><a href=3D"function.iptcparse.php">iptcparse</a></li>
 <li><a href=3D"function.jpeg2wbmp.php">jpeg2wbmp</a></li>
 <li><a href=3D"function.png2wbmp.php">png2wbmp</a></li>
</ul><!--/UdmComment-->

 </div>
 <div id=3D"content" class=3D"manual/en">
<!--UdmComment-->
<div class=3D"manualnavbar manualnavbar_top">
 <span class=3D"next">
  <a href=3D"function.imagecreate.php">imagecreate<img src=3D"http://sta=
tic.php.net/www.php.net/images/caret-r.gif" alt=3D"&gt;" width=3D"11" he=
ight=3D"7" /></a>
 </span>
 <span class=3D"prev">
  <a href=3D"function.imagecopyresampled.php"><img src=3D"http://static.=
php.net/www.php.net/images/caret-l.gif" alt=3D"&lt;" width=3D"11" height=
=3D"7" />imagecopyresampled</a>
 </span>
 <hr />
 <span class=3D"lastupdated">[<a href=3D"https://edit.php.net/?project=3D=
PHP&amp;perm=3Den/function.imagecopyresized.php">edit</a>] Last updated:=
 Fri, 22 Jun 2012</span>
 <div class=3D"langchooser">
  <form action=3D"/manual/change.php" method=3D"get">
   <p>view this page in </p><fieldset><select name=3D"page">
    <option value=3D"pt_BR/function.imagecopyresized.php">Brazilian Port=
uguese</option>
    <option value=3D"zh/function.imagecopyresized.php">Chinese (Simplifi=
ed)</option>
    <option value=3D"fr/function.imagecopyresized.php">French</option>
    <option value=3D"de/function.imagecopyresized.php">German</option>
    <option value=3D"ja/function.imagecopyresized.php">Japanese</option>=

    <option value=3D"pl/function.imagecopyresized.php">Polish</option>
    <option value=3D"ro/function.imagecopyresized.php">Romanian</option>=

    <option value=3D"ru/function.imagecopyresized.php">Russian</option>
    <option value=3D"fa/function.imagecopyresized.php">Persian</option>
    <option value=3D"es/function.imagecopyresized.php">Spanish</option>
    <option value=3D"tr/function.imagecopyresized.php">Turkish</option>
    <option value=3D"help-translate.php">Other</option>
   </select>
   <input type=3D"image" src=3D"http://static.php.net/www.php.net/images=
/small_submit.gif" id=3D"changeLangImage" alt=3D"Change language" />
  </fieldset></form>
 </div>
</div>
<!--/UdmComment-->

<div id=3D"function.imagecopyresized" class=3D"refentry">
 <div class=3D"refnamediv">
  <h1 class=3D"refname">imagecopyresized</h1>
  <p class=3D"verinfo">(PHP 4, PHP 5)</p><p class=3D"refpurpose"><span c=
lass=3D"refname">imagecopyresized</span> &mdash; <span class=3D"dc-title=
">Copy and resize part of an image</span></p>

 </div>
 <div class=3D"refsect1 description" id=3D"refsect1-function.imagecopyre=
sized-description">
  <h3 class=3D"title">Description</h3>
  <div class=3D"methodsynopsis dc-description">
   <span class=3D"type">bool</span> <span class=3D"methodname"><strong>i=
magecopyresized</strong></span>
    ( <span class=3D"methodparam"><span class=3D"type">resource</span> <=
code class=3D"parameter">$dst_image</code></span>
   , <span class=3D"methodparam"><span class=3D"type">resource</span> <c=
ode class=3D"parameter">$src_image</code></span>
   , <span class=3D"methodparam"><span class=3D"type">int</span> <code c=
lass=3D"parameter">$dst_x</code></span>
   , <span class=3D"methodparam"><span class=3D"type">int</span> <code c=
lass=3D"parameter">$dst_y</code></span>
   , <span class=3D"methodparam"><span class=3D"type">int</span> <code c=
lass=3D"parameter">$src_x</code></span>
   , <span class=3D"methodparam"><span class=3D"type">int</span> <code c=
lass=3D"parameter">$src_y</code></span>
   , <span class=3D"methodparam"><span class=3D"type">int</span> <code c=
lass=3D"parameter">$dst_w</code></span>
   , <span class=3D"methodparam"><span class=3D"type">int</span> <code c=
lass=3D"parameter">$dst_h</code></span>
   , <span class=3D"methodparam"><span class=3D"type">int</span> <code c=
lass=3D"parameter">$src_w</code></span>
   , <span class=3D"methodparam"><span class=3D"type">int</span> <code c=
lass=3D"parameter">$src_h</code></span>
   )</div>

  <p class=3D"para rdfs-comment">
    <span class=3D"function"><strong>imagecopyresized()</strong></span> =
copies a rectangular
   portion of one image to another image.
   <em><code class=3D"parameter">dst_image</code></em> is the destinatio=
n image,
   <em><code class=3D"parameter">src_image</code></em> is the source ima=
ge identifier.
  </p>
  <p class=3D"para">
   In other words,  <span class=3D"function"><strong>imagecopyresized()<=
/strong></span> will take an =

   rectangular area from <em><code class=3D"parameter">src_image</code><=
/em> of width =

   <em><code class=3D"parameter">src_w</code></em> and height <em><code =
class=3D"parameter">src_h</code></em> at =

   position (<em><code class=3D"parameter">src_x</code></em>,<em><code c=
lass=3D"parameter">src_y</code></em>) =

   and place it in a rectangular area of <em><code class=3D"parameter">d=
st_image</code></em> =

   of width <em><code class=3D"parameter">dst_w</code></em> and height <=
em><code class=3D"parameter">dst_h</code></em>
   at position (<em><code class=3D"parameter">dst_x</code></em>,<em><cod=
e class=3D"parameter">dst_y</code></em>).
  </p>
  <p class=3D"para">
   If the source and destination coordinates and width and heights
   differ, appropriate stretching or shrinking of the image fragment
   will be performed. The coordinates refer to the upper left
   corner. This function can be used to copy regions within the
   same image (if <em><code class=3D"parameter">dst_image</code></em> is=
 the same as
   <em><code class=3D"parameter">src_image</code></em>) but if the regio=
ns overlap the
   results will be unpredictable.
  </p>
 </div>

 <div class=3D"refsect1 parameters" id=3D"refsect1-function.imagecopyres=
ized-parameters">
  <h3 class=3D"title">Parameters</h3>
  <p class=3D"para">
   <dl>

    <dt>

     <span class=3D"term"><em><code class=3D"parameter">dst_image</code>=
</em></span>
     <dd>

      <p class=3D"para">Destination image link resource.</p>
     </dd>

    </dt>

    <dt>

     <span class=3D"term"><em><code class=3D"parameter">src_image</code>=
</em></span>
     <dd>

      <p class=3D"para">Source image link resource.</p>
     </dd>

    </dt>

    <dt>

     <span class=3D"term"><em><code class=3D"parameter">dst_x</code></em=
></span>
     <dd>

      <p class=3D"para">
       x-coordinate of destination point.
      </p>
     </dd>

    </dt>

    <dt>

     <span class=3D"term"><em><code class=3D"parameter">dst_y</code></em=
></span>
     <dd>

      <p class=3D"para">
       y-coordinate of destination point.
      </p>
     </dd>

    </dt>

    <dt>

     <span class=3D"term"><em><code class=3D"parameter">src_x</code></em=
></span>
     <dd>

      <p class=3D"para">
       x-coordinate of source point.
      </p>
     </dd>

    </dt>

    <dt>

     <span class=3D"term"><em><code class=3D"parameter">src_y</code></em=
></span>
     <dd>

      <p class=3D"para">
       y-coordinate of source point.
      </p>
     </dd>

    </dt>

    <dt>

     <span class=3D"term"><em><code class=3D"parameter">dst_w</code></em=
></span>
     <dd>

      <p class=3D"para">
       Destination width.
      </p>
     </dd>

    </dt>

    <dt>

     <span class=3D"term"><em><code class=3D"parameter">dst_h</code></em=
></span>
     <dd>

      <p class=3D"para">
       Destination height.
      </p>
     </dd>

    </dt>

    <dt>

     <span class=3D"term"><em><code class=3D"parameter">src_w</code></em=
></span>
     <dd>

      <p class=3D"para">Source width.</p>
     </dd>

    </dt>

    <dt>

     <span class=3D"term"><em><code class=3D"parameter">src_h</code></em=
></span>
     <dd>

      <p class=3D"para">Source height.</p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class=3D"refsect1 returnvalues" id=3D"refsect1-function.imagecopyr=
esized-returnvalues">
  <h3 class=3D"title">Return Values</h3>
  <p class=3D"para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><cod=
e>FALSE</code></strong> on failure.
  </p>
 </div>

 <div class=3D"refsect1 examples" id=3D"refsect1-function.imagecopyresiz=
ed-examples">
  <h3 class=3D"title">Examples</h3>
  <p class=3D"para">
   <div class=3D"example" id=3D"example-2994">
    <p><strong>Example #1 Resizing an image</strong></p>
    <div class=3D"example-contents"><p>
     This example will display the image at half size.
    </p></div>
    <div class=3D"example-contents">
<div class=3D"phpcode"><code><span style=3D"color: #000000">
<span style=3D"color: #0000BB">&lt;?php<br /></span><span style=3D"color=
: #FF8000">//&nbsp;File&nbsp;and&nbsp;new&nbsp;size<br /></span><span st=
yle=3D"color: #0000BB">$filename&nbsp;</span><span style=3D"color: #0077=
00">=3D&nbsp;</span><span style=3D"color: #DD0000">'test.jpg'</span><spa=
n style=3D"color: #007700">;<br /></span><span style=3D"color: #0000BB">=
$percent&nbsp;</span><span style=3D"color: #007700">=3D&nbsp;</span><spa=
n style=3D"color: #0000BB">0.5</span><span style=3D"color: #007700">;<br=
 /><br /></span><span style=3D"color: #FF8000">//&nbsp;Content&nbsp;type=
<br /></span><span style=3D"color: #0000BB">header</span><span style=3D"=
color: #007700">(</span><span style=3D"color: #DD0000">'Content-Type:&nb=
sp;image/jpeg'</span><span style=3D"color: #007700">);<br /><br /></span=
><span style=3D"color: #FF8000">//&nbsp;Get&nbsp;new&nbsp;sizes<br /></s=
pan><span style=3D"color: #007700">list(</span><span style=3D"color: #00=
00BB">$width</span><span style=3D"color: #007700">,&nbsp;</span><span st=
yle=3D"color: #0000BB">$height</span><span style=3D"color: #007700">)&nb=
sp;=3D&nbsp;</span><span style=3D"color: #0000BB">getimagesize</span><sp=
an style=3D"color: #007700">(</span><span style=3D"color: #0000BB">$file=
name</span><span style=3D"color: #007700">);<br /></span><span style=3D"=
color: #0000BB">$newwidth&nbsp;</span><span style=3D"color: #007700">=3D=
&nbsp;</span><span style=3D"color: #0000BB">$width&nbsp;</span><span sty=
le=3D"color: #007700">*&nbsp;</span><span style=3D"color: #0000BB">$perc=
ent</span><span style=3D"color: #007700">;<br /></span><span style=3D"co=
lor: #0000BB">$newheight&nbsp;</span><span style=3D"color: #007700">=3D&=
nbsp;</span><span style=3D"color: #0000BB">$height&nbsp;</span><span sty=
le=3D"color: #007700">*&nbsp;</span><span style=3D"color: #0000BB">$perc=
ent</span><span style=3D"color: #007700">;<br /><br /></span><span style=
=3D"color: #FF8000">//&nbsp;Load<br /></span><span style=3D"color: #0000=
BB">$thumb&nbsp;</span><span style=3D"color: #007700">=3D&nbsp;</span><s=
pan style=3D"color: #0000BB">imagecreatetruecolor</span><span style=3D"c=
olor: #007700">(</span><span style=3D"color: #0000BB">$newwidth</span><s=
pan style=3D"color: #007700">,&nbsp;</span><span style=3D"color: #0000BB=
">$newheight</span><span style=3D"color: #007700">);<br /></span><span s=
tyle=3D"color: #0000BB">$source&nbsp;</span><span style=3D"color: #00770=
0">=3D&nbsp;</span><span style=3D"color: #0000BB">imagecreatefromjpeg</s=
pan><span style=3D"color: #007700">(</span><span style=3D"color: #0000BB=
">$filename</span><span style=3D"color: #007700">);<br /><br /></span><s=
pan style=3D"color: #FF8000">//&nbsp;Resize<br /></span><span style=3D"c=
olor: #0000BB">imagecopyresized</span><span style=3D"color: #007700">(</=
span><span style=3D"color: #0000BB">$thumb</span><span style=3D"color: #=
007700">,&nbsp;</span><span style=3D"color: #0000BB">$source</span><span=
 style=3D"color: #007700">,&nbsp;</span><span style=3D"color: #0000BB">0=
</span><span style=3D"color: #007700">,&nbsp;</span><span style=3D"color=
: #0000BB">0</span><span style=3D"color: #007700">,&nbsp;</span><span st=
yle=3D"color: #0000BB">0</span><span style=3D"color: #007700">,&nbsp;</s=
pan><span style=3D"color: #0000BB">0</span><span style=3D"color: #007700=
">,&nbsp;</span><span style=3D"color: #0000BB">$newwidth</span><span sty=
le=3D"color: #007700">,&nbsp;</span><span style=3D"color: #0000BB">$newh=
eight</span><span style=3D"color: #007700">,&nbsp;</span><span style=3D"=
color: #0000BB">$width</span><span style=3D"color: #007700">,&nbsp;</spa=
n><span style=3D"color: #0000BB">$height</span><span style=3D"color: #00=
7700">);<br /><br /></span><span style=3D"color: #FF8000">//&nbsp;Output=
<br /></span><span style=3D"color: #0000BB">imagejpeg</span><span style=3D=
"color: #007700">(</span><span style=3D"color: #0000BB">$thumb</span><sp=
an style=3D"color: #007700">);<br /></span><span style=3D"color: #0000BB=
">?&gt;</span>
</span>
</code></div>
    </div>

    <div class=3D"example-contents"><p>The above example will output
something similar to:</p></div>
    <div class=3D"mediaobject">
     =

     <div class=3D"imageobject">
      <img src=3D"images/21009b70229598c6a80eef8b45bf282b-imagecopyresiz=
ed.jpg" alt=3D"Output of example : Resizing an image" width=3D"47" heigh=
t=3D"25" />
     </div>
    </div>
    <div class=3D"example-contents"><p>
     The image will be output at half size, though better
     quality could be obtained using  <span class=3D"function"><a href=3D=
"function.imagecopyresampled.php" class=3D"function">imagecopyresampled(=
)</a></span>.
    </p></div>
   </div>
  </p>
 </div>

 <div class=3D"refsect1 notes" id=3D"refsect1-function.imagecopyresized-=
notes">
  <h3 class=3D"title">Notes</h3>
  <blockquote class=3D"note"><p><strong class=3D"note">Note</strong>: =

   <p class=3D"para">
    There is a problem due to palette image limitations (255+1 colors).
    Resampling or filtering an image commonly needs more colors than 255=
, a
    kind of approximation is used to calculate the new resampled pixel a=
nd its
    color.  With a palette image we try to allocate a new color, if that=

    failed, we choose the closest (in theory) computed color.  This is
    not always the closest visual color. That may produce a weird result=
, like
    blank (or visually blank) images.  To skip this problem, please use =
a
    truecolor image as a destination image, such as one created by
     <span class=3D"function"><a href=3D"function.imagecreatetruecolor.p=
hp" class=3D"function">imagecreatetruecolor()</a></span>.
   </p>
  </p></blockquote>
 </div>

 <div class=3D"refsect1 seealso" id=3D"refsect1-function.imagecopyresize=
d-seealso">
  <h3 class=3D"title">See Also</h3>
  <p class=3D"para">
    <span class=3D"function"><a href=3D"function.imagecopyresampled.php"=
 class=3D"function" rel=3D"rdfs-seeAlso">imagecopyresampled()</a> - Copy=
 and resize part of an image with resampling</span>
  </p>
 </div>

</div><br /><br /><!--UdmComment-->
<div class=3D"manualnavbar manualnavbar_bottom">
 <span class=3D"next">
  <a href=3D"function.imagecreate.php">imagecreate<img src=3D"http://sta=
tic.php.net/www.php.net/images/caret-r.gif" alt=3D"&gt;" width=3D"11" he=
ight=3D"7" /></a>
 </span>
 <span class=3D"prev">
  <a href=3D"function.imagecopyresampled.php"><img src=3D"http://static.=
php.net/www.php.net/images/caret-l.gif" alt=3D"&lt;" width=3D"11" height=
=3D"7" />imagecopyresampled</a>
 </span>
 <hr />
 <span class=3D"lastupdated">[<a href=3D"https://edit.php.net/?project=3D=
PHP&amp;perm=3Den/function.imagecopyresized.php">edit</a>] Last updated:=
 Fri, 22 Jun 2012</span>
 <div class=3D"langchooser">
  &nbsp;
 </div>
</div>
<!--/UdmComment-->


<div id=3D"usernotes">
 <div class=3D"head">
  <span class=3D"action"><a href=3D"/manual/add-note.php?sect=3Dfunction=
.imagecopyresized&amp;redirect=3Dhttp://www.php.net/manual/en/function.i=
magecopyresized.php"><img src=3D"http://static.php.net/www.php.net/image=
s/notes-add.gif" alt=3D"add a note" width=3D"13" height=3D"13" class=3D"=
middle" /></a> <small><a href=3D"/manual/add-note.php?sect=3Dfunction.im=
agecopyresized&amp;redirect=3Dhttp://www.php.net/manual/en/function.imag=
ecopyresized.php">add a note</a></small></span>
  <small>User Contributed Notes</small>
  <strong>imagecopyresized</strong>
 </div><div id=3D"allnotes">
 <a name=3D"106539"></a>
 <div class=3D"note">
  <strong class=3D'user'>licson0729 at gmail dot com</strong>
  <a href=3D"#106539" class=3D"date">17-Nov-2011 03:09</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
I couldn't find any script that resize an image and give border to it. S=
o I made one myself. Hope that can help you.<br />
<br />
<span class=3D"default">&lt;?php<br />
</span><span class=3D"keyword">function </span><span class=3D"default">i=
magecopyresizedwithborder</span><span class=3D"keyword">(&amp;</span><sp=
an class=3D"default">$src</span><span class=3D"keyword">,</span><span cl=
ass=3D"default">$width</span><span class=3D"keyword">,</span><span class=
=3D"default">$height</span><span class=3D"keyword">,</span><span class=3D=
"default">$borderthickess</span><span class=3D"keyword">,</span><span cl=
ass=3D"default">$bordercolor</span><span class=3D"keyword">=3D</span><sp=
an class=3D"default">NULL</span><span class=3D"keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; list(</span><span class=3D"default">$width_orig</span=
><span class=3D"keyword">, </span><span class=3D"default">$height_orig</=
span><span class=3D"keyword">) =3D array(</span><span class=3D"default">=
imagesx</span><span class=3D"keyword">(</span><span class=3D"default">$s=
rc</span><span class=3D"keyword">),</span><span class=3D"default">images=
y</span><span class=3D"keyword">(</span><span class=3D"default">$src</sp=
an><span class=3D"keyword">));<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class=3D"default">$width </span><spa=
n class=3D"keyword">&amp;&amp; (</span><span class=3D"default">$width_or=
ig </span><span class=3D"keyword">&lt; </span><span class=3D"default">$h=
eight_orig</span><span class=3D"keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$width <=
/span><span class=3D"keyword">=3D (</span><span class=3D"default">$heigh=
t </span><span class=3D"keyword">/ </span><span class=3D"default">$heigh=
t_orig</span><span class=3D"keyword">) * </span><span class=3D"default">=
$width_orig</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$height =
</span><span class=3D"keyword">=3D (</span><span class=3D"default">$widt=
h </span><span class=3D"keyword">/ </span><span class=3D"default">$width=
_orig</span><span class=3D"keyword">) * </span><span class=3D"default">$=
height_orig</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$dst </span><span clas=
s=3D"keyword">=3D </span><span class=3D"default">imagecreatetruecolor</s=
pan><span class=3D"keyword">(</span><span class=3D"default">$width</span=
><span class=3D"keyword">+</span><span class=3D"default">2</span><span c=
lass=3D"keyword">*</span><span class=3D"default">$borderthickess</span><=
span class=3D"keyword">,</span><span class=3D"default">$height</span><sp=
an class=3D"keyword">+</span><span class=3D"default">2</span><span class=
=3D"keyword">*</span><span class=3D"default">$borderthickess</span><span=
 class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">imagecolortransparent<=
/span><span class=3D"keyword">(</span><span class=3D"default">$dst</span=
><span class=3D"keyword">,</span><span class=3D"default">imagecoloralloc=
ate</span><span class=3D"keyword">(</span><span class=3D"default">$dst</=
span><span class=3D"keyword">,</span><span class=3D"default">0</span><sp=
an class=3D"keyword">,</span><span class=3D"default">0</span><span class=
=3D"keyword">,</span><span class=3D"default">0</span><span class=3D"keyw=
ord">));<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">imagealphablending</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$dst</span><s=
pan class=3D"keyword">,</span><span class=3D"default">false</span><span =
class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">imagesavealpha</span><=
span class=3D"keyword">(</span><span class=3D"default">$dst</span><span =
class=3D"keyword">,</span><span class=3D"default">true</span><span class=
=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">imagefill</span><span =
class=3D"keyword">(</span><span class=3D"default">$dst</span><span class=
=3D"keyword">,</span><span class=3D"default">0</span><span class=3D"keyw=
ord">,</span><span class=3D"default">0</span><span class=3D"keyword">,(i=
sset(</span><span class=3D"default">$bordercolor</span><span class=3D"ke=
yword">) ? </span><span class=3D"default">$bordercolor </span><span clas=
s=3D"keyword">: </span><span class=3D"default">imagecolorallocate</span>=
<span class=3D"keyword">(</span><span class=3D"default">$dst</span><span=
 class=3D"keyword">,</span><span class=3D"default">255</span><span class=
=3D"keyword">,</span><span class=3D"default">255</span><span class=3D"ke=
yword">,</span><span class=3D"default">255</span><span class=3D"keyword"=
>)));<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">imagecopyresampled</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$dst</span><s=
pan class=3D"keyword">,</span><span class=3D"default">$src</span><span c=
lass=3D"keyword">,</span><span class=3D"default">$borderthickess</span><=
span class=3D"keyword">,</span><span class=3D"default">$borderthickess</=
span><span class=3D"keyword">,</span><span class=3D"default">0</span><sp=
an class=3D"keyword">,</span><span class=3D"default">0</span><span class=
=3D"keyword">,</span><span class=3D"default">$width</span><span class=3D=
"keyword">,</span><span class=3D"default">$height</span><span class=3D"k=
eyword">,</span><span class=3D"default">imagesx</span><span class=3D"key=
word">(</span><span class=3D"default">$src</span><span class=3D"keyword"=
>),</span><span class=3D"default">imagesy</span><span class=3D"keyword">=
(</span><span class=3D"default">$src</span><span class=3D"keyword">));<b=
r />
&nbsp;&nbsp;&nbsp; return </span><span class=3D"default">$dst</span><spa=
n class=3D"keyword">;<br />
}<br />
<br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"104556"></a>
 <div class=3D"note">
  <strong class=3D'user'>email at vladislav dot net</strong>
  <a href=3D"#104556" class=3D"date">22-Jun-2011 03:30</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
I didn't find here before any script giving both GIF and PNG transparent=
 images correct, so I offer you mine.
<br />
Here is the code for 'image.php' script to generate a resized or origina=
l sized images of any type (JPEG, GIF, PNG) with respect to possible tra=
nsparency of GIF and PNG.
<br />
The following script can be used in HTML tag IMG (to display an image ma=
rked in database with ID equal to 1 and resized to max 100px) like this:=

<br />
&lt;img src=3D"image.php?id=3D1&amp;size=3D100" /&gt;.
<br />

<br />
<span class=3D"default">&lt;?php
<br />
</span><span class=3D"comment">/* *************************
<br />
&nbsp;* Script by A. Vladislav I.
<br />
&nbsp;* ************************* */
<br />
</span><span class=3D"default">$id </span><span class=3D"keyword">=3D </=
span><span class=3D"default">$_GET</span><span class=3D"keyword">[</span=
><span class=3D"string">'id'</span><span class=3D"keyword">];
<br />
</span><span class=3D"default">$size </span><span class=3D"keyword">=3D =
</span><span class=3D"default">$_GET</span><span class=3D"keyword">[</sp=
an><span class=3D"string">'size'</span><span class=3D"keyword">];
<br />
if(!empty(</span><span class=3D"default">$id</span><span class=3D"keywor=
d">))
<br />
{
<br />
</span><span class=3D"comment">/* Here you may take the source image pat=
h from where you want: current direcory, databse etc.
<br />
&nbsp;I used the $_GET['id'] for giving the script an ID of the image in=
 database, where its real name is stored.
<br />
&nbsp;I consider later the $f variable responsible to store file name an=
d $type variable responsible to store mime type of the image. You may us=
e function GetImageSize() to discover the mime type.
<br />
&nbsp;So don't forget to set the */
<br />
&nbsp; </span><span class=3D"default">$f </span><span class=3D"keyword">=
=3D </span><span class=3D"comment">/*...*/ </span><span class=3D"keyword=
">;
<br />
</span><span class=3D"comment">/* and */
<br />
&nbsp; </span><span class=3D"default">$type </span><span class=3D"keywor=
d">=3D </span><span class=3D"comment">/*...*/ </span><span class=3D"keyw=
ord">;
<br />
</span><span class=3D"comment">/* ... */
<br />
</span><span class=3D"keyword">}
<br />
</span><span class=3D"default">$imgFunc </span><span class=3D"keyword">=3D=
 </span><span class=3D"string">''</span><span class=3D"keyword">;
<br />
switch(</span><span class=3D"default">$type</span><span class=3D"keyword=
">)
<br />
{
<br />
&nbsp;&nbsp;&nbsp; case </span><span class=3D"string">'image/gif'</span>=
<span class=3D"keyword">:
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$img </s=
pan><span class=3D"keyword">=3D </span><span class=3D"default">ImageCrea=
teFromGIF</span><span class=3D"keyword">(</span><span class=3D"default">=
$f</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$imgFunc=
 </span><span class=3D"keyword">=3D </span><span class=3D"string">'Image=
GIF'</span><span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$transpa=
rent_index </span><span class=3D"keyword">=3D </span><span class=3D"defa=
ult">ImageColorTransparent</span><span class=3D"keyword">(</span><span c=
lass=3D"default">$img</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class=3D"default">$tran=
sparent_index</span><span class=3D"keyword">!=3D(-</span><span class=3D"=
default">1</span><span class=3D"keyword">)) </span><span class=3D"defaul=
t">$transparent_color </span><span class=3D"keyword">=3D </span><span cl=
ass=3D"default">ImageColorsForIndex</span><span class=3D"keyword">(</spa=
n><span class=3D"default">$img</span><span class=3D"keyword">,</span><sp=
an class=3D"default">$transparent_index</span><span class=3D"keyword">);=

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; break;
<br />
&nbsp;&nbsp;&nbsp; case </span><span class=3D"string">'image/jpeg'</span=
><span class=3D"keyword">:
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$img </s=
pan><span class=3D"keyword">=3D </span><span class=3D"default">ImageCrea=
teFromJPEG</span><span class=3D"keyword">(</span><span class=3D"default"=
>$f</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$imgFunc=
 </span><span class=3D"keyword">=3D </span><span class=3D"string">'Image=
JPEG'</span><span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; break;
<br />
&nbsp;&nbsp;&nbsp; case </span><span class=3D"string">'image/png'</span>=
<span class=3D"keyword">:
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$img </s=
pan><span class=3D"keyword">=3D </span><span class=3D"default">ImageCrea=
teFromPNG</span><span class=3D"keyword">(</span><span class=3D"default">=
$f</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">ImageAlp=
haBlending</span><span class=3D"keyword">(</span><span class=3D"default"=
>$img</span><span class=3D"keyword">,</span><span class=3D"default">true=
</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">ImageSav=
eAlpha</span><span class=3D"keyword">(</span><span class=3D"default">$im=
g</span><span class=3D"keyword">,</span><span class=3D"default">true</sp=
an><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$imgFunc=
 </span><span class=3D"keyword">=3D </span><span class=3D"string">'Image=
PNG'</span><span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; break;
<br />
&nbsp;&nbsp;&nbsp; default:
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; die(</span><span class=3D"string">"ERRO=
R - no image found"</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; break;
<br />
}
<br />
</span><span class=3D"default">header</span><span class=3D"keyword">(</s=
pan><span class=3D"string">"Content-Type: "</span><span class=3D"keyword=
">.</span><span class=3D"default">$type</span><span class=3D"keyword">);=

<br />
if(!empty(</span><span class=3D"default">$size</span><span class=3D"keyw=
ord">))
<br />
{
<br />
&nbsp;&nbsp;&nbsp; =

<br />
&nbsp;&nbsp;&nbsp; list(</span><span class=3D"default">$w</span><span cl=
ass=3D"keyword">,</span><span class=3D"default">$h</span><span class=3D"=
keyword">) =3D </span><span class=3D"default">GetImageSize</span><span c=
lass=3D"keyword">(</span><span class=3D"default">$f</span><span class=3D=
"keyword">);
<br />
&nbsp;&nbsp;&nbsp; if( </span><span class=3D"default">$w</span><span cla=
ss=3D"keyword">=3D=3D</span><span class=3D"default">0 </span><span class=
=3D"keyword">or </span><span class=3D"default">$h</span><span class=3D"k=
eyword">=3D=3D</span><span class=3D"default">0 </span><span class=3D"key=
word">) die(</span><span class=3D"string">"ERROR - zero image size"</spa=
n><span class=3D"keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$percent </span><span =
class=3D"keyword">=3D </span><span class=3D"default">$size </span><span =
class=3D"keyword">/ ((</span><span class=3D"default">$w</span><span clas=
s=3D"keyword">&gt;</span><span class=3D"default">$h</span><span class=3D=
"keyword">)?</span><span class=3D"default">$w</span><span class=3D"keywo=
rd">:</span><span class=3D"default">$h</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">$percent</span><spa=
n class=3D"keyword">&gt;</span><span class=3D"default">0 </span><span cl=
ass=3D"keyword">and </span><span class=3D"default">$percent</span><span =
class=3D"keyword">&lt;</span><span class=3D"default">1</span><span class=
=3D"keyword">)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$nw </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">intval</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$w</span><spa=
n class=3D"keyword">*</span><span class=3D"default">$percent</span><span=
 class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$nh </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">intval</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$h</span><spa=
n class=3D"keyword">*</span><span class=3D"default">$percent</span><span=
 class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$img_res=
ized </span><span class=3D"keyword">=3D </span><span class=3D"default">I=
mageCreateTrueColor</span><span class=3D"keyword">(</span><span class=3D=
"default">$nw</span><span class=3D"keyword">,</span><span class=3D"defau=
lt">$nh</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class=3D"default">$type=
</span><span class=3D"keyword">=3D=3D</span><span class=3D"string">'imag=
e/png'</span><span class=3D"keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">ImageAlphaBlending</span><span class=3D"keyword">(</span><span cla=
ss=3D"default">$img_resized</span><span class=3D"keyword">,</span><span =
class=3D"default">false</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">ImageSaveAlpha</span><span class=3D"keyword">(</span><span class=3D=
"default">$img_resized</span><span class=3D"keyword">,</span><span class=
=3D"default">true</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!empty(</span><span class=3D"default=
">$transparent_color</span><span class=3D"keyword">))
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$transparent_new </span><span class=3D"keyword">=3D </span><span c=
lass=3D"default">ImageColorAllocate</span><span class=3D"keyword">(</spa=
n><span class=3D"default">$img_resized</span><span class=3D"keyword">,</=
span><span class=3D"default">$transparent_color</span><span class=3D"key=
word">[</span><span class=3D"string">'red'</span><span class=3D"keyword"=
>],</span><span class=3D"default">$transparent_color</span><span class=3D=
"keyword">[</span><span class=3D"string">'green'</span><span class=3D"ke=
yword">],</span><span class=3D"default">$transparent_color</span><span c=
lass=3D"keyword">[</span><span class=3D"string">'blue'</span><span class=
=3D"keyword">]);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$transparent_new_index </span><span class=3D"keyword">=3D </span><=
span class=3D"default">ImageColorTransparent</span><span class=3D"keywor=
d">(</span><span class=3D"default">$img_resized</span><span class=3D"key=
word">,</span><span class=3D"default">$transparent_new</span><span class=
=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">ImageFill</span><span class=3D"keyword">(</span><span class=3D"def=
ault">$img_resized</span><span class=3D"keyword">, </span><span class=3D=
"default">0</span><span class=3D"keyword">,</span><span class=3D"default=
">0</span><span class=3D"keyword">, </span><span class=3D"default">$tran=
sparent_new_index</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class=3D"default">Image=
CopyResized</span><span class=3D"keyword">(</span><span class=3D"default=
">$img_resized</span><span class=3D"keyword">,</span><span class=3D"defa=
ult">$img</span><span class=3D"keyword">, </span><span class=3D"default"=
>0</span><span class=3D"keyword">,</span><span class=3D"default">0</span=
><span class=3D"keyword">,</span><span class=3D"default">0</span><span c=
lass=3D"keyword">,</span><span class=3D"default">0</span><span class=3D"=
keyword">, </span><span class=3D"default">$nw</span><span class=3D"keywo=
rd">,</span><span class=3D"default">$nh</span><span class=3D"keyword">, =
</span><span class=3D"default">$w</span><span class=3D"keyword">,</span>=
<span class=3D"default">$h </span><span class=3D"keyword">))
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">ImageDestroy</span><span class=3D"keyword">(</span><span class=3D"=
default">$img</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$img </span><span class=3D"keyword">=3D </span><span class=3D"defa=
ult">$img_resized</span><span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; =

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
}
<br />
</span><span class=3D"default">$imgFunc</span><span class=3D"keyword">(<=
/span><span class=3D"default">$img</span><span class=3D"keyword">);
<br />
</span><span class=3D"default">ImageDestroy</span><span class=3D"keyword=
">(</span><span class=3D"default">$img</span><span class=3D"keyword">);
<br />
</span><span class=3D"default">?&gt;
<br />
</span>
<br />
P.S.
<br />
The script can be written better (optimized etc.), but I hope you can do=
 it by yourself.</span>
</code></div>
  </div>
 </div>
 <a name=3D"90651"></a>
 <div class=3D"note">
  <strong class=3D'user'>kvslaap</strong>
  <a href=3D"#90651" class=3D"date">02-May-2009 07:17</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
this is a script which loops trough a directory that is currently set to=
 "files" and resizes all images with respecting the image ratio
<br />

<br />
<span class=3D"default">&lt;?php
<br />
</span><span class=3D"comment">//use this line if you get the error mess=
age of using too much memory (strip '//')
<br />
//ini_set ( "memory_limit", "48M");
<br />

<br />
</span><span class=3D"default">$target_width </span><span class=3D"keywo=
rd">=3D </span><span class=3D"default">800</span><span class=3D"keyword"=
>;
<br />
</span><span class=3D"default">$target_height </span><span class=3D"keyw=
ord">=3D </span><span class=3D"default">600</span><span class=3D"keyword=
">;
<br />

<br />
if (</span><span class=3D"default">ob_get_level</span><span class=3D"key=
word">() =3D=3D </span><span class=3D"default">0</span><span class=3D"ke=
yword">) </span><span class=3D"default">ob_start</span><span class=3D"ke=
yword">();
<br />
if (</span><span class=3D"default">$handle </span><span class=3D"keyword=
">=3D </span><span class=3D"default">opendir</span><span class=3D"keywor=
d">(</span><span class=3D"string">'files/'</span><span class=3D"keyword"=
>)) {
<br />
&nbsp; while (</span><span class=3D"default">false </span><span class=3D=
"keyword">!=3D=3D (</span><span class=3D"default">$file </span><span cla=
ss=3D"keyword">=3D </span><span class=3D"default">readdir</span><span cl=
ass=3D"keyword">(</span><span class=3D"default">$handle</span><span clas=
s=3D"keyword">))) {
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class=3D"default">$file </span><span=
 class=3D"keyword">!=3D </span><span class=3D"string">"." </span><span c=
lass=3D"keyword">&amp;&amp; </span><span class=3D"default">$file </span>=
<span class=3D"keyword">!=3D </span><span class=3D"string">".."</span><s=
pan class=3D"keyword">) {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$destination_pa=
th </span><span class=3D"keyword">=3D </span><span class=3D"string">'./f=
iles/'</span><span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$target_path </=
span><span class=3D"keyword">=3D </span><span class=3D"default">$destina=
tion_path </span><span class=3D"keyword">. </span><span class=3D"default=
">basename</span><span class=3D"keyword">(</span><span class=3D"default"=
>$file</span><span class=3D"keyword">);
<br />

<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$extension </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">pathinfo</=
span><span class=3D"keyword">(</span><span class=3D"default">$target_pat=
h</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$allowed_ext </=
span><span class=3D"keyword">=3D </span><span class=3D"string">"jpg, gif=
, png, bmp, jpeg, JPG"</span><span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$extension </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">$extension=
</span><span class=3D"keyword">[</span><span class=3D"default">extension=
</span><span class=3D"keyword">];
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$allowed_paths =
</span><span class=3D"keyword">=3D </span><span class=3D"default">explod=
e</span><span class=3D"keyword">(</span><span class=3D"string">", "</spa=
n><span class=3D"keyword">, </span><span class=3D"default">$allowed_ext<=
/span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$ok </span><spa=
n class=3D"keyword">=3D </span><span class=3D"default">0</span><span cla=
ss=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; for(</span><span class=3D"default">$i </span><=
span class=3D"keyword">=3D </span><span class=3D"default">0</span><span =
class=3D"keyword">; </span><span class=3D"default">$i </span><span class=
=3D"keyword">&lt; </span><span class=3D"default">count</span><span class=
=3D"keyword">(</span><span class=3D"default">$allowed_paths</span><span =
class=3D"keyword">); </span><span class=3D"default">$i</span><span class=
=3D"keyword">++) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class=3D"default">$all=
owed_paths</span><span class=3D"keyword">[</span><span class=3D"default"=
>$i</span><span class=3D"keyword">] =3D=3D </span><span class=3D"string"=
>"$extension"</span><span class=3D"keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$=
ok </span><span class=3D"keyword">=3D </span><span class=3D"string">"1"<=
/span><span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class=3D"default">$ok </span>=
<span class=3D"keyword">=3D=3D </span><span class=3D"string">"1"</span><=
span class=3D"keyword">) {
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class=3D"default">$exte=
nsion </span><span class=3D"keyword">=3D=3D </span><span class=3D"string=
">"jpg" </span><span class=3D"keyword">|| </span><span class=3D"default"=
>$extension </span><span class=3D"keyword">=3D=3D </span><span class=3D"=
string">"jpeg" </span><span class=3D"keyword">|| </span><span class=3D"d=
efault">$extension </span><span class=3D"keyword">=3D=3D </span><span cl=
ass=3D"string">"JPG"</span><span class=3D"keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$=
tmp_image</span><span class=3D"keyword">=3D</span><span class=3D"default=
">imagecreatefromjpeg</span><span class=3D"keyword">(</span><span class=3D=
"default">$target_path</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class=3D"default">$exte=
nsion </span><span class=3D"keyword">=3D=3D </span><span class=3D"string=
">"png"</span><span class=3D"keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$=
tmp_image</span><span class=3D"keyword">=3D</span><span class=3D"default=
">imagecreatefrompng</span><span class=3D"keyword">(</span><span class=3D=
"default">$target_path</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class=3D"default">$exte=
nsion </span><span class=3D"keyword">=3D=3D </span><span class=3D"string=
">"gif"</span><span class=3D"keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$=
tmp_image</span><span class=3D"keyword">=3D</span><span class=3D"default=
">imagecreatefromgif</span><span class=3D"keyword">(</span><span class=3D=
"default">$target_path</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$width <=
/span><span class=3D"keyword">=3D </span><span class=3D"default">imagesx=
</span><span class=3D"keyword">(</span><span class=3D"default">$tmp_imag=
e</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$height =
</span><span class=3D"keyword">=3D </span><span class=3D"default">images=
y</span><span class=3D"keyword">(</span><span class=3D"default">$tmp_ima=
ge</span><span class=3D"keyword">);
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">//calcul=
ate the image ratio
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$imgrati=
o </span><span class=3D"keyword">=3D (</span><span class=3D"default">$wi=
dth </span><span class=3D"keyword">/ </span><span class=3D"default">$hei=
ght</span><span class=3D"keyword">);
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class=3D"default">$img=
ratio</span><span class=3D"keyword">&gt;</span><span class=3D"default">1=
</span><span class=3D"keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$=
new_width </span><span class=3D"keyword">=3D </span><span class=3D"defau=
lt">$target_width</span><span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$=
new_height </span><span class=3D"keyword">=3D (</span><span class=3D"def=
ault">$target_width </span><span class=3D"keyword">/ </span><span class=3D=
"default">$imgratio</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$=
new_height </span><span class=3D"keyword">=3D </span><span class=3D"defa=
ult">$target_height</span><span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$=
new_width </span><span class=3D"keyword">=3D (</span><span class=3D"defa=
ult">$target_height </span><span class=3D"keyword">* </span><span class=3D=
"default">$imgratio</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$new_ima=
ge </span><span class=3D"keyword">=3D </span><span class=3D"default">ima=
gecreatetruecolor</span><span class=3D"keyword">(</span><span class=3D"d=
efault">$new_width</span><span class=3D"keyword">,</span><span class=3D"=
default">$new_height</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">ImageCop=
yResized</span><span class=3D"keyword">(</span><span class=3D"default">$=
new_image</span><span class=3D"keyword">, </span><span class=3D"default"=
>$tmp_image</span><span class=3D"keyword">,</span><span class=3D"default=
">0</span><span class=3D"keyword">,</span><span class=3D"default">0</spa=
n><span class=3D"keyword">,</span><span class=3D"default">0</span><span =
class=3D"keyword">,</span><span class=3D"default">0</span><span class=3D=
"keyword">, </span><span class=3D"default">$new_width</span><span class=3D=
"keyword">, </span><span class=3D"default">$new_height</span><span class=
=3D"keyword">, </span><span class=3D"default">$width</span><span class=3D=
"keyword">, </span><span class=3D"default">$height</span><span class=3D"=
keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">//Grab n=
ew image
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagejpe=
g</span><span class=3D"keyword">(</span><span class=3D"default">$new_ima=
ge</span><span class=3D"keyword">, </span><span class=3D"default">$targe=
t_path</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$image_b=
uffer </span><span class=3D"keyword">=3D </span><span class=3D"default">=
ob_get_contents</span><span class=3D"keyword">();
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">ImageDes=
troy</span><span class=3D"keyword">(</span><span class=3D"default">$new_=
image</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">ImageDes=
troy</span><span class=3D"keyword">(</span><span class=3D"default">$tmp_=
image</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class=3D"string">" $f=
ile resized to $new_width x $new_height &lt;br&gt; \n"</span><span class=
=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class=3D"default">str=
_pad</span><span class=3D"keyword">(</span><span class=3D"string">''</sp=
an><span class=3D"keyword">,</span><span class=3D"default">4096</span><s=
pan class=3D"keyword">).</span><span class=3D"string">"\n"</span><span c=
lass=3D"keyword">;&nbsp; =

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">ob_flush=
</span><span class=3D"keyword">();
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">flush</s=
pan><span class=3D"keyword">();
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp; }
<br />
&nbsp; </span><span class=3D"default">closedir</span><span class=3D"keyw=
ord">(</span><span class=3D"default">$handle</span><span class=3D"keywor=
d">);
<br />
&nbsp; echo </span><span class=3D"string">"Done."</span><span class=3D"k=
eyword">;
<br />
&nbsp; </span><span class=3D"default">ob_end_flush</span><span class=3D"=
keyword">();
<br />
}
<br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"88533"></a>
 <div class=3D"note">
  <strong class=3D'user'>david from quidware</strong>
  <a href=3D"#88533" class=3D"date">28-Jan-2009 12:50</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
If the script should resize and save thumb I use this simple code, I mad=
e a couple corrections from last one and added the possibility to resize=
 to a max HEIGHT:<br />
<br />
<span class=3D"default">&lt;?php<br />
</span><span class=3D"comment">/**<br />
&nbsp;* Make thumbs from JPEG, PNG, GIF source file<br />
&nbsp;*<br />
&nbsp;* $tmpname =3D $_FILES['source']['tmp_name'];&nbsp;&nbsp; <br />
&nbsp;* $size - max width size<br />
&nbsp;* $save_dir - destination folder<br />
&nbsp;* $save_name - tnumb new name<br />
&nbsp;* $maxisheight - is max for width (if not is for height)<br />
&nbsp;*<br />
&nbsp;* Author:&nbsp; David Taubmann <a href=3D"http://www.quidware.com"=
 rel=3D"nofollow" target=3D"_blank">http://www.quidware.com</a> (edited =
from LEDok - <a href=3D"http://www.citadelavto.ru/" rel=3D"nofollow" tar=
get=3D"_blank">http://www.citadelavto.ru/</a>)<br />
&nbsp;*/<br />
&nbsp;<br />
/*/&nbsp; &nbsp; // And now how using this function fast:<br />
if ($_POST[pic])<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; $tmpname&nbsp; =3D $_FILES['pic']['tmp_name'];<br />
&nbsp;&nbsp;&nbsp; @img_resize( $tmpname , 600 , "../album" , "album_".$=
id.".jpg");<br />
&nbsp;&nbsp;&nbsp; @img_resize( $tmpname , 120 , "../album" , "album_".$=
id."_small.jpg");<br />
&nbsp;&nbsp;&nbsp; @img_resize( $tmpname , 60 , "../album" , "album_".$i=
d."_maxheight.jpg", 1);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; echo "No Images uploaded via POST";<br />
/**/<br />
<br />
</span><span class=3D"keyword">function </span><span class=3D"default">i=
mg_resize</span><span class=3D"keyword">( </span><span class=3D"default"=
>$tmpname</span><span class=3D"keyword">, </span><span class=3D"default"=
>$size</span><span class=3D"keyword">, </span><span class=3D"default">$s=
ave_dir</span><span class=3D"keyword">, </span><span class=3D"default">$=
save_name</span><span class=3D"keyword">, </span><span class=3D"default"=
>$maxisheight </span><span class=3D"keyword">=3D </span><span class=3D"d=
efault">0 </span><span class=3D"keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$save_dir&nbsp; &nbsp;=
&nbsp; </span><span class=3D"keyword">.=3D ( </span><span class=3D"defau=
lt">substr</span><span class=3D"keyword">(</span><span class=3D"default"=
>$save_dir</span><span class=3D"keyword">,-</span><span class=3D"default=
">1</span><span class=3D"keyword">) !=3D </span><span class=3D"string">"=
/"</span><span class=3D"keyword">) ? </span><span class=3D"string">"/" <=
/span><span class=3D"keyword">: </span><span class=3D"string">""</span><=
span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$gis&nbsp; &nbsp; &nbs=
p; &nbsp; </span><span class=3D"keyword">=3D </span><span class=3D"defau=
lt">getimagesize</span><span class=3D"keyword">(</span><span class=3D"de=
fault">$tmpname</span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$type&nbsp; &nbsp; &nb=
sp; &nbsp; </span><span class=3D"keyword">=3D </span><span class=3D"defa=
ult">$gis</span><span class=3D"keyword">[</span><span class=3D"default">=
2</span><span class=3D"keyword">];<br />
&nbsp;&nbsp;&nbsp; switch(</span><span class=3D"default">$type</span><sp=
an class=3D"keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D"string">"1"<=
/span><span class=3D"keyword">: </span><span class=3D"default">$imorig <=
/span><span class=3D"keyword">=3D </span><span class=3D"default">imagecr=
eatefromgif</span><span class=3D"keyword">(</span><span class=3D"default=
">$tmpname</span><span class=3D"keyword">); break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D"string">"2"<=
/span><span class=3D"keyword">: </span><span class=3D"default">$imorig <=
/span><span class=3D"keyword">=3D </span><span class=3D"default">imagecr=
eatefromjpeg</span><span class=3D"keyword">(</span><span class=3D"defaul=
t">$tmpname</span><span class=3D"keyword">);break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D"string">"3"<=
/span><span class=3D"keyword">: </span><span class=3D"default">$imorig <=
/span><span class=3D"keyword">=3D </span><span class=3D"default">imagecr=
eatefrompng</span><span class=3D"keyword">(</span><span class=3D"default=
">$tmpname</span><span class=3D"keyword">); break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default:&nbsp; </span><span class=3D"de=
fault">$imorig </span><span class=3D"keyword">=3D </span><span class=3D"=
default">imagecreatefromjpeg</span><span class=3D"keyword">(</span><span=
 class=3D"default">$tmpname</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$x </spa=
n><span class=3D"keyword">=3D </span><span class=3D"default">imagesx</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$imorig</span=
><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$y </spa=
n><span class=3D"keyword">=3D </span><span class=3D"default">imagesy</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$imorig</span=
><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$woh </s=
pan><span class=3D"keyword">=3D (!</span><span class=3D"default">$maxish=
eight</span><span class=3D"keyword">)? </span><span class=3D"default">$g=
is</span><span class=3D"keyword">[</span><span class=3D"default">0</span=
><span class=3D"keyword">] : </span><span class=3D"default">$gis</span><=
span class=3D"keyword">[</span><span class=3D"default">1</span><span cla=
ss=3D"keyword">] ;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class=3D"default">$woh =
</span><span class=3D"keyword">&lt;=3D </span><span class=3D"default">$s=
ize</span><span class=3D"keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$aw </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">$x</span><=
span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$ah </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">$y</span><=
span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class=3D=
"default">$maxisheight</span><span class=3D"keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><spa=
n class=3D"default">$aw </span><span class=3D"keyword">=3D </span><span =
class=3D"default">$size</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><spa=
n class=3D"default">$ah </span><span class=3D"keyword">=3D </span><span =
class=3D"default">$size </span><span class=3D"keyword">* </span><span cl=
ass=3D"default">$y </span><span class=3D"keyword">/ </span><span class=3D=
"default">$x</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><spa=
n class=3D"default">$aw </span><span class=3D"keyword">=3D </span><span =
class=3D"default">$size </span><span class=3D"keyword">* </span><span cl=
ass=3D"default">$x </span><span class=3D"keyword">/ </span><span class=3D=
"default">$y</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><spa=
n class=3D"default">$ah </span><span class=3D"keyword">=3D </span><span =
class=3D"default">$size</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$im </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">imagecreat=
etruecolor</span><span class=3D"keyword">(</span><span class=3D"default"=
>$aw</span><span class=3D"keyword">,</span><span class=3D"default">$ah</=
span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class=3D"default">imagecopyresampled=
</span><span class=3D"keyword">(</span><span class=3D"default">$im</span=
><span class=3D"keyword">,</span><span class=3D"default">$imorig </span>=
<span class=3D"keyword">, </span><span class=3D"default">0</span><span c=
lass=3D"keyword">,</span><span class=3D"default">0</span><span class=3D"=
keyword">,</span><span class=3D"default">0</span><span class=3D"keyword"=
>,</span><span class=3D"default">0</span><span class=3D"keyword">,</span=
><span class=3D"default">$aw</span><span class=3D"keyword">,</span><span=
 class=3D"default">$ah</span><span class=3D"keyword">,</span><span class=
=3D"default">$x</span><span class=3D"keyword">,</span><span class=3D"def=
ault">$y</span><span class=3D"keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class=3D"default">imag=
ejpeg</span><span class=3D"keyword">(</span><span class=3D"default">$im<=
/span><span class=3D"keyword">, </span><span class=3D"default">$save_dir=
</span><span class=3D"keyword">.</span><span class=3D"default">$save_nam=
e</span><span class=3D"keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class=
=3D"default">true</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class=
=3D"default">false</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"85152"></a>
 <div class=3D"note">
  <strong class=3D'user'>it at chmzap dot ru</strong>
  <a href=3D"#85152" class=3D"date">17-Aug-2008 10:52</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
If the script should resize and save thumb I use this simple code:
<br />

<br />
<span class=3D"default">&lt;?php
<br />
</span><span class=3D"comment">/**
<br />
&nbsp;* Make thumbs from JPEG, PNG, GIF source file
<br />
&nbsp;*
<br />
&nbsp;* $tmpname =3D $_FILES['source']['tmp_name'];&nbsp; &nbsp; =

<br />
&nbsp;* $size - max width size
<br />
&nbsp;* $save_dir - destination folder
<br />
&nbsp;* $save_name - tnumb new name
<br />
&nbsp;* =

<br />
&nbsp;* Author:&nbsp; LEDok - <a href=3D"http://www.citadelavto.ru/" rel=
=3D"nofollow" target=3D"_blank">http://www.citadelavto.ru/</a>
<br />
&nbsp;*/
<br />

<br />
</span><span class=3D"keyword">function </span><span class=3D"default">i=
mg_resize</span><span class=3D"keyword">( </span><span class=3D"default"=
>$tmpname</span><span class=3D"keyword">, </span><span class=3D"default"=
>$size</span><span class=3D"keyword">, </span><span class=3D"default">$s=
ave_dir</span><span class=3D"keyword">, </span><span class=3D"default">$=
save_name </span><span class=3D"keyword">)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$save_dir </span><span=
 class=3D"keyword">.=3D ( </span><span class=3D"default">substr</span><s=
pan class=3D"keyword">(</span><span class=3D"default">$save_dir</span><s=
pan class=3D"keyword">,-</span><span class=3D"default">1</span><span cla=
ss=3D"keyword">) !=3D </span><span class=3D"string">"/"</span><span clas=
s=3D"keyword">) ? </span><span class=3D"string">"/" </span><span class=3D=
"keyword">: </span><span class=3D"string">""</span><span class=3D"keywor=
d">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$gis&nbs=
p; &nbsp; &nbsp;&nbsp; </span><span class=3D"keyword">=3D </span><span c=
lass=3D"default">GetImageSize</span><span class=3D"keyword">(</span><spa=
n class=3D"default">$tmpname</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$type&nbsp; &nbsp; &nb=
sp;&nbsp; </span><span class=3D"keyword">=3D </span><span class=3D"defau=
lt">$gis</span><span class=3D"keyword">[</span><span class=3D"default">2=
</span><span class=3D"keyword">];
<br />
&nbsp;&nbsp;&nbsp; switch(</span><span class=3D"default">$type</span><sp=
an class=3D"keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D"string">"1"<=
/span><span class=3D"keyword">: </span><span class=3D"default">$imorig <=
/span><span class=3D"keyword">=3D </span><span class=3D"default">imagecr=
eatefromgif</span><span class=3D"keyword">(</span><span class=3D"default=
">$tmpname</span><span class=3D"keyword">); break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D"string">"2"<=
/span><span class=3D"keyword">: </span><span class=3D"default">$imorig <=
/span><span class=3D"keyword">=3D </span><span class=3D"default">imagecr=
eatefromjpeg</span><span class=3D"keyword">(</span><span class=3D"defaul=
t">$tmpname</span><span class=3D"keyword">);break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D"string">"3"<=
/span><span class=3D"keyword">: </span><span class=3D"default">$imorig <=
/span><span class=3D"keyword">=3D </span><span class=3D"default">imagecr=
eatefrompng</span><span class=3D"keyword">(</span><span class=3D"default=
">$tmpname</span><span class=3D"keyword">); break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default:&nbsp; </span><span class=3D"de=
fault">$imorig </span><span class=3D"keyword">=3D </span><span class=3D"=
default">imagecreatefromjpeg</span><span class=3D"keyword">(</span><span=
 class=3D"default">$tmpname</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } =

<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$x </spa=
n><span class=3D"keyword">=3D </span><span class=3D"default">imageSX</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$imorig</span=
><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$y </spa=
n><span class=3D"keyword">=3D </span><span class=3D"default">imageSY</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$imorig</span=
><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class=3D"default">$gis<=
/span><span class=3D"keyword">[</span><span class=3D"default">0</span><s=
pan class=3D"keyword">] &lt;=3D </span><span class=3D"default">$size</sp=
an><span class=3D"keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$av </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">$x</span><=
span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$ah </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">$y</span><=
span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$yc </span><span class=3D"keyword">=3D </span><span class=3D"defau=
lt">$y</span><span class=3D"keyword">*</span><span class=3D"default">1.3=
333333</span><span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$d </span><span class=3D"keyword">=3D </span><span class=3D"defaul=
t">$x</span><span class=3D"keyword">&gt;</span><span class=3D"default">$=
yc</span><span class=3D"keyword">?</span><span class=3D"default">$x</spa=
n><span class=3D"keyword">:</span><span class=3D"default">$yc</span><spa=
n class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$c </span><span class=3D"keyword">=3D </span><span class=3D"defaul=
t">$d</span><span class=3D"keyword">&gt;</span><span class=3D"default">$=
size </span><span class=3D"keyword">? </span><span class=3D"default">$si=
ze</span><span class=3D"keyword">/</span><span class=3D"default">$d </sp=
an><span class=3D"keyword">: </span><span class=3D"default">$size</span>=
<span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=
=3D"default">$av </span><span class=3D"keyword">=3D </span><span class=3D=
"default">$x</span><span class=3D"keyword">*</span><span class=3D"defaul=
t">$c</span><span class=3D"keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span>=
<span class=3D"comment">//=D0=B2=D1=8B=D1=81=D0=BE=D1=82=D0=B0 =D0=B8=D1=
=81=D1=85=D0=BE=D0=B4=D0=BD=D0=BE=D0=B9 =D0=BA=D0=B0=D1=80=D1=82=D0=B8=D0=
=BD=D0=BA=D0=B8
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=
=3D"default">$ah </span><span class=3D"keyword">=3D </span><span class=3D=
"default">$y</span><span class=3D"keyword">*</span><span class=3D"defaul=
t">$c</span><span class=3D"keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span>=
<span class=3D"comment">//=D0=B4=D0=BB=D0=B8=D0=BD=D0=B0 =D0=B8=D1=81=D1=
=85=D0=BE=D0=B4=D0=BD=D0=BE=D0=B9 =D0=BA=D0=B0=D1=80=D1=82=D0=B8=D0=BD=D0=
=BA=D0=B8
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"keyword">}&nbsp; =
&nbsp; =

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$im </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">imagecreat=
e</span><span class=3D"keyword">(</span><span class=3D"default">$av</spa=
n><span class=3D"keyword">, </span><span class=3D"default">$ah</span><sp=
an class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$im </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">imagecreat=
etruecolor</span><span class=3D"keyword">(</span><span class=3D"default"=
>$av</span><span class=3D"keyword">,</span><span class=3D"default">$ah</=
span><span class=3D"keyword">);
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class=3D"default">imagecopyresampled=
</span><span class=3D"keyword">(</span><span class=3D"default">$im</span=
><span class=3D"keyword">,</span><span class=3D"default">$imorig </span>=
<span class=3D"keyword">, </span><span class=3D"default">0</span><span c=
lass=3D"keyword">,</span><span class=3D"default">0</span><span class=3D"=
keyword">,</span><span class=3D"default">0</span><span class=3D"keyword"=
>,</span><span class=3D"default">0</span><span class=3D"keyword">,</span=
><span class=3D"default">$av</span><span class=3D"keyword">,</span><span=
 class=3D"default">$ah</span><span class=3D"keyword">,</span><span class=
=3D"default">$x</span><span class=3D"keyword">,</span><span class=3D"def=
ault">$y</span><span class=3D"keyword">))
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class=3D"default">imag=
ejpeg</span><span class=3D"keyword">(</span><span class=3D"default">$im<=
/span><span class=3D"keyword">, </span><span class=3D"default">$save_dir=
</span><span class=3D"keyword">.</span><span class=3D"default">$save_nam=
e</span><span class=3D"keyword">))
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class=
=3D"default">true</span><span class=3D"keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class=
=3D"default">false</span><span class=3D"keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
</span><span class=3D"default">?&gt;
<br />
</span>
<br />
And now how using this function fast
<br />

<br />
<span class=3D"default">&lt;?php
<br />
</span><span class=3D"keyword">if (</span><span class=3D"default">$_POST=
</span><span class=3D"keyword">[</span><span class=3D"default">pic</span=
><span class=3D"keyword">])
<br />
{
<br />
</span><span class=3D"default">$tmpname&nbsp; </span><span class=3D"keyw=
ord">=3D </span><span class=3D"default">$_FILES</span><span class=3D"key=
word">[</span><span class=3D"string">'pic'</span><span class=3D"keyword"=
>][</span><span class=3D"string">'tmp_name'</span><span class=3D"keyword=
">];
<br />
@</span><span class=3D"default">img_resize</span><span class=3D"keyword"=
>( </span><span class=3D"default">$tmpname </span><span class=3D"keyword=
">, </span><span class=3D"default">600 </span><span class=3D"keyword">, =
</span><span class=3D"string">"../album" </span><span class=3D"keyword">=
, </span><span class=3D"string">"album_"</span><span class=3D"keyword">.=
</span><span class=3D"default">$id</span><span class=3D"keyword">.</span=
><span class=3D"string">".jpg"</span><span class=3D"keyword">);
<br />
@</span><span class=3D"default">img_resize</span><span class=3D"keyword"=
>( </span><span class=3D"default">$tmpname </span><span class=3D"keyword=
">, </span><span class=3D"default">120 </span><span class=3D"keyword">, =
</span><span class=3D"string">"../album" </span><span class=3D"keyword">=
, </span><span class=3D"string">"album_"</span><span class=3D"keyword">.=
</span><span class=3D"default">$id</span><span class=3D"keyword">.</span=
><span class=3D"string">"_small.jpg"</span><span class=3D"keyword">);
<br />
@</span><span class=3D"default">img_resize</span><span class=3D"keyword"=
>( </span><span class=3D"default">$tmpname </span><span class=3D"keyword=
">, </span><span class=3D"default">60 </span><span class=3D"keyword">, <=
/span><span class=3D"string">"../album" </span><span class=3D"keyword">,=
 </span><span class=3D"string">"album_"</span><span class=3D"keyword">.<=
/span><span class=3D"default">$id</span><span class=3D"keyword">.</span>=
<span class=3D"string">"verysmall.jpg"</span><span class=3D"keyword">);
<br />
}
<br />
else
<br />
echo </span><span class=3D"string">"No Images uploaded via POST"</span><=
span class=3D"keyword">;
<br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"78482"></a>
 <div class=3D"note">
  <strong class=3D'user'>andrvm at andrvm dot ru</strong>
  <a href=3D"#78482" class=3D"date">14-Oct-2007 04:09</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
One more version of setMemoryForImage (see below)
<br />

<br />
<span class=3D"default">&lt;?php
<br />

<br />
</span><span class=3D"keyword">function </span><span class=3D"default">s=
etMemoryForImage</span><span class=3D"keyword">(</span><span class=3D"de=
fault">$filename</span><span class=3D"keyword">)
<br />
{
<br />
&nbsp;&nbsp; </span><span class=3D"default">$imageInfo&nbsp; &nbsp; </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">getimagesi=
ze</span><span class=3D"keyword">(</span><span class=3D"default">$filena=
me</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; </span><span class=3D"default">$memoryNeeded </span><span c=
lass=3D"keyword">=3D </span><span class=3D"default">round</span><span cl=
ass=3D"keyword">((</span><span class=3D"default">$imageInfo</span><span =
class=3D"keyword">[</span><span class=3D"default">0</span><span class=3D=
"keyword">] * </span><span class=3D"default">$imageInfo</span><span clas=
s=3D"keyword">[</span><span class=3D"default">1</span><span class=3D"key=
word">] * </span><span class=3D"default">$imageInfo</span><span class=3D=
"keyword">[</span><span class=3D"string">'bits'</span><span class=3D"key=
word">] * </span><span class=3D"default">$imageInfo</span><span class=3D=
"keyword">[</span><span class=3D"string">'channels'</span><span class=3D=
"keyword">] / </span><span class=3D"default">8 </span><span class=3D"key=
word">+ </span><span class=3D"default">Pow</span><span class=3D"keyword"=
>(</span><span class=3D"default">2</span><span class=3D"keyword">, </spa=
n><span class=3D"default">16</span><span class=3D"keyword">)) * </span><=
span class=3D"default">1.65</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; =

<br />
&nbsp;&nbsp; </span><span class=3D"default">$memoryLimit </span><span cl=
ass=3D"keyword">=3D (int) </span><span class=3D"default">ini_get</span><=
span class=3D"keyword">(</span><span class=3D"string">'memory_limit'</sp=
an><span class=3D"keyword">)*</span><span class=3D"default">1048576</spa=
n><span class=3D"keyword">;
<br />

<br />
&nbsp; if ((</span><span class=3D"default">memory_get_usage</span><span =
class=3D"keyword">() + </span><span class=3D"default">$memoryNeeded</spa=
n><span class=3D"keyword">) &gt; </span><span class=3D"default">$memoryL=
imit</span><span class=3D"keyword">)
<br />
&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; </span><span class=3D"default">ini_set</span><span c=
lass=3D"keyword">(</span><span class=3D"string">'memory_limit'</span><sp=
an class=3D"keyword">, </span><span class=3D"default">ceil</span><span c=
lass=3D"keyword">((</span><span class=3D"default">memory_get_usage</span=
><span class=3D"keyword">() + </span><span class=3D"default">$memoryNeed=
ed </span><span class=3D"keyword">+ </span><span class=3D"default">$memo=
ryLimit</span><span class=3D"keyword">)/</span><span class=3D"default">1=
048576</span><span class=3D"keyword">).</span><span class=3D"string">'M'=
</span><span class=3D"keyword">);
<br />
&nbsp;&nbsp; &nbsp; return (</span><span class=3D"default">true</span><s=
pan class=3D"keyword">);
<br />
&nbsp;&nbsp; }
<br />
&nbsp;&nbsp; else return(</span><span class=3D"default">false</span><spa=
n class=3D"keyword">);
<br />
}
<br />

<br />
</span><span class=3D"default">?&gt;
<br />
</span>//work's it. no problem!</span>
</code></div>
  </div>
 </div>
 <a name=3D"76648"></a>
 <div class=3D"note">
  <strong class=3D'user'>heshan at sjtu dot edu dot cn</strong>
  <a href=3D"#76648" class=3D"date">24-Jul-2007 09:11</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
Create thumbnail in GIF format for JPEG and GIF ( with or without transp=
arency, for animated GIF, only the first frame is retained ) originals, =
thumbnails for PNG images should save in PNG format to support alpha tra=
nsparency.<br />
<br />
For JPEG image and GIF without transparency, simply use imagecopyresized=
 will be OK. For GIF with transparency, we should first understand the b=
ehavior of imagecopyresized: it extracts pixels that are not transparent=
 from the specified rectangle area of the source image, resizs the recta=
ngle, probably does some color approximation, then copys to the target i=
mage. Suppose that you want to put a picture frame image( only the borde=
r is non-transparent ) over a photo( opaque ) to compose a final image, =
just imagecopyresize the picture frame image to the photo will be OK. To=
 better understand the behavior, consider the case you want to copy seve=
ral GIF images with transparency together to form a new one, note that t=
he GIF image can only have one transparent color, if the old transparent=
 colors are not dropped by imagecopyresize, it will be confused which co=
lor from the originals will be the transparent color in the final image.=
 So imagecopyresize does the right thing. To this point, it is not hard =
to understand why some people get a black background when they want to c=
reate thumbnails for transparent GIF: the original transparent pixels ar=
e gone, and the non-transparent pixels are put onto an empty canvas( no =
color allocated ). Then we arrive<br />
<br />
<span class=3D"default">&lt;?php<br />
<br />
$im </span><span class=3D"keyword">=3D </span><span class=3D"default">im=
agecreatefromgif</span><span class=3D"keyword">( </span><span class=3D"s=
tring">'test.gif' </span><span class=3D"keyword">);<br />
</span><span class=3D"comment">// or $im =3D imagecreatefromjpeg( 'test.=
jpg' );<br />
</span><span class=3D"default">$mw </span><span class=3D"keyword">=3D </=
span><span class=3D"default">360</span><span class=3D"keyword">; </span>=
<span class=3D"comment">// max width<br />
</span><span class=3D"default">$mh </span><span class=3D"keyword">=3D </=
span><span class=3D"default">360</span><span class=3D"keyword">; </span>=
<span class=3D"comment">// max height<br />
</span><span class=3D"default">$ow </span><span class=3D"keyword">=3D </=
span><span class=3D"default">imagesx</span><span class=3D"keyword">( </s=
pan><span class=3D"default">$im </span><span class=3D"keyword">);<br />
</span><span class=3D"default">$oh </span><span class=3D"keyword">=3D </=
span><span class=3D"default">imagesy</span><span class=3D"keyword">( </s=
pan><span class=3D"default">$im </span><span class=3D"keyword">);<br />
if( </span><span class=3D"default">$ow </span><span class=3D"keyword">&g=
t; </span><span class=3D"default">$mw </span><span class=3D"keyword">|| =
</span><span class=3D"default">$oh </span><span class=3D"keyword">&gt; <=
/span><span class=3D"default">$mh </span><span class=3D"keyword">) {<br =
/>
&nbsp;&nbsp;&nbsp; if( </span><span class=3D"default">$ow </span><span c=
lass=3D"keyword">&gt; </span><span class=3D"default">$oh </span><span cl=
ass=3D"keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$tnw </s=
pan><span class=3D"keyword">=3D </span><span class=3D"default">$mw</span=
><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$tnh </s=
pan><span class=3D"keyword">=3D </span><span class=3D"default">$tnw </sp=
an><span class=3D"keyword">* </span><span class=3D"default">$oh </span><=
span class=3D"keyword">/ </span><span class=3D"default">$ow</span><span =
class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$tnh </s=
pan><span class=3D"keyword">=3D </span><span class=3D"default">$mh</span=
><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$tnw </s=
pan><span class=3D"keyword">=3D </span><span class=3D"default">$tnh </sp=
an><span class=3D"keyword">* </span><span class=3D"default">$ow </span><=
span class=3D"keyword">/ </span><span class=3D"default">$oh</span><span =
class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
} else {<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"comment">// although within siz=
e restriction, we still do the copy/resize process<br />
&nbsp;&nbsp;&nbsp; // which can make an animated GIF still<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$tnw </span><span clas=
s=3D"keyword">=3D </span><span class=3D"default">$ow</span><span class=3D=
"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$tnh </span><span clas=
s=3D"keyword">=3D </span><span class=3D"default">$oh</span><span class=3D=
"keyword">;<br />
}<br />
</span><span class=3D"comment">// the document recommends you to use tru=
ecolor to get better result<br />
</span><span class=3D"default">$imtn </span><span class=3D"keyword">=3D =
</span><span class=3D"default">imagecreatetruecolor</span><span class=3D=
"keyword">( </span><span class=3D"default">$tnw</span><span class=3D"key=
word">, </span><span class=3D"default">$tnh </span><span class=3D"keywor=
d">);<br />
</span><span class=3D"comment">// if the image has transparent color, we=
 first extract the RGB value of it,<br />
// then use this color to fill the thumbnail image as the background. Th=
is color<br />
// is safe to be assigned as the new transparent color later on because =
it will<br />
// be filtered by imagecopyresize.<br />
</span><span class=3D"default">$originaltransparentcolor </span><span cl=
ass=3D"keyword">=3D </span><span class=3D"default">imagecolortransparent=
</span><span class=3D"keyword">( </span><span class=3D"default">$im </sp=
an><span class=3D"keyword">);<br />
if(<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$originaltransparentco=
lor </span><span class=3D"keyword">&gt;=3D </span><span class=3D"default=
">0 </span><span class=3D"comment">// -1 for opaque image<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"keyword">&amp;&amp; </span><spa=
n class=3D"default">$originaltransparentcolor </span><span class=3D"keyw=
ord">&lt; </span><span class=3D"default">imagecolorstotal</span><span cl=
ass=3D"keyword">( </span><span class=3D"default">$im </span><span class=3D=
"keyword">)<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"comment">// for animated GIF, i=
magecolortransparent will return a color index larger<br />
&nbsp;&nbsp;&nbsp; // than total colors, in this case the image is treat=
ed as opaque ( actually<br />
&nbsp;&nbsp;&nbsp; // it is opaque )<br />
</span><span class=3D"keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$transparentcolor </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">imagecolor=
sforindex</span><span class=3D"keyword">( </span><span class=3D"default"=
>$im</span><span class=3D"keyword">, </span><span class=3D"default">$ori=
ginaltransparentcolor </span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$newtransparentcolor <=
/span><span class=3D"keyword">=3D </span><span class=3D"default">imageco=
lorallocate</span><span class=3D"keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$imtn</s=
pan><span class=3D"keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$transpa=
rentcolor</span><span class=3D"keyword">[</span><span class=3D"string">'=
red'</span><span class=3D"keyword">],<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$transpa=
rentcolor</span><span class=3D"keyword">[</span><span class=3D"string">'=
green'</span><span class=3D"keyword">],<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$transpa=
rentcolor</span><span class=3D"keyword">[</span><span class=3D"string">'=
blue'</span><span class=3D"keyword">]<br />
&nbsp;&nbsp;&nbsp; );<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"comment">// for true color imag=
e, we must fill the background manually<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">imagefill</span><span =
class=3D"keyword">( </span><span class=3D"default">$imtn</span><span cla=
ss=3D"keyword">, </span><span class=3D"default">0</span><span class=3D"k=
eyword">, </span><span class=3D"default">0</span><span class=3D"keyword"=
>, </span><span class=3D"default">$newtransparentcolor </span><span clas=
s=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"comment">// assign the transpar=
ent color in the thumbnail image<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">imagecolortransparent<=
/span><span class=3D"keyword">( </span><span class=3D"default">$imtn</sp=
an><span class=3D"keyword">, </span><span class=3D"default">$newtranspar=
entcolor </span><span class=3D"keyword">);<br />
}<br />
</span><span class=3D"comment">// copy/resize as usual<br />
</span><span class=3D"default">imagecopyresized</span><span class=3D"key=
word">( </span><span class=3D"default">$imtn</span><span class=3D"keywor=
d">, </span><span class=3D"default">$im</span><span class=3D"keyword">, =
</span><span class=3D"default">0</span><span class=3D"keyword">, </span>=
<span class=3D"default">0</span><span class=3D"keyword">, </span><span c=
lass=3D"default">0</span><span class=3D"keyword">, </span><span class=3D=
"default">0</span><span class=3D"keyword">, </span><span class=3D"defaul=
t">$tnw</span><span class=3D"keyword">, </span><span class=3D"default">$=
tnh</span><span class=3D"keyword">, </span><span class=3D"default">$ow</=
span><span class=3D"keyword">, </span><span class=3D"default">$oh </span=
><span class=3D"keyword">);<br />
</span><span class=3D"default">imagegif</span><span class=3D"keyword">( =
</span><span class=3D"default">$imtn</span><span class=3D"keyword">, </s=
pan><span class=3D"string">'test.thumbnail.gif' </span><span class=3D"ke=
yword">);<br />
</span><span class=3D"default">imagedestroy</span><span class=3D"keyword=
">( </span><span class=3D"default">$im </span><span class=3D"keyword">);=
<br />
</span><span class=3D"default">imagedestroy</span><span class=3D"keyword=
">( </span><span class=3D"default">$imtn </span><span class=3D"keyword">=
);<br />
<br />
</span><span class=3D"default">?&gt;<br />
</span><br />
Only do imagecolortransparent( $thumbnail, imagecolortransparent( $sourc=
e ) ); some times works, just because the color indexes for background t=
ransparent pixels in the two images happens to be the same.<br />
<br />
PHP5.2.0 with GD bundled (2.0.28 compatible)</span>
</code></div>
  </div>
 </div>
 <a name=3D"75624"></a>
 <div class=3D"note">
  <strong class=3D'user'>nils dot clark-bernhard at human-aspects dot de=
</strong>
  <a href=3D"#75624" class=3D"date">08-Jun-2007 04:52</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
Regarding ob at babcom dot biz's function Resize($Dir,$Image,$NewDir,$Ne=
wImage,$MaxWidth,$MaxHeight,$Quality) <br />
<br />
Make sure to not use a quality of 9 or higher for png resizing.<br />
<br />
PHP will output an error like:<br />
fatal libpng error: zlib failed to initialize compressor<br />
or<br />
gd-png error: setjmp returns error condition</span>
</code></div>
  </div>
 </div>
 <a name=3D"74084"></a>
 <div class=3D"note">
  <strong class=3D'user'>Halit Yesil mail at halityesil dot com</strong>=

  <a href=3D"#74084" class=3D"date">23-Mar-2007 08:34</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
This Class image resize or crop,<br />
your copyright text write on the image and your logo marge on the image.=
<br />
<br />
Full Class code =3D&gt; <a href=3D"http://www.phpbuilder.com/snippet/dow=
nload.php?type=3Dsnippet&amp;id=3D2188" rel=3D"nofollow" target=3D"_blan=
k">http://www.phpbuilder.com/snippet/download.php?type=3Dsnippet&amp;id=3D=
2188</a><br />
/**<br />
&nbsp;&nbsp; &nbsp; * Author&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; : Halit YE=
SIL<br />
&nbsp;&nbsp; &nbsp; * www&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : www=
.halityesil.com, www.prografik.net, www.trteknik.net<br />
&nbsp;&nbsp; &nbsp; * email&nbsp; &nbsp; &nbsp; &nbsp; : mail@halityesil=
.com, halit.yesil@prografik.net, halit.yesil@trteknik.net<br />
&nbsp;&nbsp; &nbsp; * GSM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : +90=
.535 648 3504<br />
&nbsp;&nbsp; &nbsp; * Create Date&nbsp; &nbsp; : 21 / 03 / 2007<br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; * Script&nbsp; &nbsp; &nbsp; &nbsp; : Image resize a=
nd croping class. <br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; You can Write copyright text and attach your logo write on i=
mage with this class<br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; * $obj =3D new pg_image($arg);<br />
&nbsp;&nbsp; &nbsp; *<br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; * Varibles Information<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] type =3D&gt; =
(POST | FILE) =3D&gt; Source File Send Type _FILES OR Dir<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] file =3D&gt; =
({if POST Array file =3D $_FILES['yourfile']}|{if FILE false}) =3D&gt; S=
ource File filesource<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] path =3D&gt; =
({if FILE String [ dirname/filename.extension ]}) =3D&gt; Source File Ro=
ot Path<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [3] target =3D&gt=
; ({if FILE String [ dirname/filename.extension ]}) =3D&gt; Target File =
Root Path<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [4] width =3D&gt;=
 (integer) =3D&gt; Target File Width<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [5] height =3D&gt=
; (integer) =3D&gt; Target File Height<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [6] quality =3D&g=
t; (integer 1 - 100) =3D&gt; Target File Quality 0-100 %<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [7] action =3D&gt=
; (crop | resize) =3D&gt; Target Action "resize" OR "crop"<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [8] bordersize =3D=
&gt; (integer 0-5) =3D&gt; Target Border Size<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [9] bordercolor =3D=
&gt; (color hex) =3D&gt; Target Border Color<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [10] bgcolor =3D&=
gt; (color hex) =3D&gt; Target Background Color<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [11] copytext =3D=
&gt; (String) =3D&gt; Copyright Content Text<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [12] copycolor =3D=
&gt; (color hex) =3D&gt; Copyright Text Color<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [13] copyshadow =3D=
&gt; (color hex) =3D&gt; Copyright Text Shadow color<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [14] copybgcolor =
=3D&gt; (color hex) =3D&gt; Copyright Background Color<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [15] copybgshadow=
 =3D&gt; (color hex) =3D&gt; Copyright Background Shadow Color<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [16] copybordersi=
ze =3D&gt; (integer 0-5) =3D&gt; Copyright Border Size 1-3<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [17] copyborderco=
lor =3D&gt; (color hex) =3D&gt; Copyright Border Color<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; [18] copyposition =3D&gt; (top=
 | topright | topleft | center | left | right | bottom | bottomright | b=
ottomleft) =3D&gt; Copyright Position<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [19] logoposition=
 =3D&gt; (top | topright | topleft | center | left | right | bottom | bo=
ttomright | bottomleft) =3D&gt; Logo Image Position<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [20] logoimage =3D=
&gt; (String [ dirname/filename.extension] Allow Extension (PNG | GIF | =
JPG)) =3D&gt; Logo Image Root Path "PNG" OR "GIF" OR "JPG"<br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; */<br />
<br />
<span class=3D"default">&lt;?php<br />
<br />
$source </span><span class=3D"keyword">=3D (</span><span class=3D"defaul=
t">$_REQUEST</span><span class=3D"keyword">[</span><span class=3D"string=
">'img'</span><span class=3D"keyword">] !=3D </span><span class=3D"strin=
g">''</span><span class=3D"keyword">)?</span><span class=3D"default">$_R=
EQUEST</span><span class=3D"keyword">[</span><span class=3D"string">'img=
'</span><span class=3D"keyword">]:</span><span class=3D"string">'braille=
3.jpg'</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$arg </span><span clas=
s=3D"keyword">=3Darray(&nbsp; &nbsp;&nbsp; </span><span class=3D"default=
">type </span><span class=3D"keyword">=3D&gt;</span><span class=3D"strin=
g">'FILE'</span><span class=3D"keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbs=
p; </span><span class=3D"default">file </span><span class=3D"keyword">=3D=
&gt;</span><span class=3D"default">false</span><span class=3D"keyword">,=
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">path </span><span class=3D"keyword">=3D=
&gt;</span><span class=3D"default">$source</span><span class=3D"keyword"=
>,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">target </span><span class=3D"keyword"=
>=3D&gt;</span><span class=3D"string">''</span><span class=3D"keyword">,=
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">width </span><span class=3D"keyword">=
=3D&gt;</span><span class=3D"default">150</span><span class=3D"keyword">=
,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">height </span><span class=3D"keyword"=
>=3D&gt;</span><span class=3D"default">50</span><span class=3D"keyword">=
,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">quality </span><span class=3D"keyword=
">=3D&gt;</span><span class=3D"default">80</span><span class=3D"keyword"=
>,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">action </span><span class=3D"keyword"=
>=3D&gt;</span><span class=3D"string">'resize'</span><span class=3D"keyw=
ord">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">bordersize </span><span class=3D"keyw=
ord">=3D&gt;</span><span class=3D"default">1</span><span class=3D"keywor=
d">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">bordercolor </span><span class=3D"key=
word">=3D&gt;</span><span class=3D"string">'#00CCFF'</span><span class=3D=
"keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">bgcolor </span><span class=3D"keyword=
">=3D&gt;</span><span class=3D"string">'#000000'</span><span class=3D"ke=
yword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">copytext </span><span class=3D"keywor=
d">=3D&gt;</span><span class=3D"string">'Bodrum 1998'</span><span class=3D=
"keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">copycolor </span><span class=3D"keywo=
rd">=3D&gt;</span><span class=3D"string">'#FFFFFF'</span><span class=3D"=
keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"comment">//copyshadow =3D&gt;'#000000',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; //copybgcolor =3D&gt;'#D0FFCC',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; //copybgshadow =3D&gt;'#656565',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">copybordersize </span><span class=3D"=
keyword">=3D&gt;</span><span class=3D"default">0</span><span class=3D"ke=
yword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">copybordercolor </span><span class=3D=
"keyword">=3D&gt;</span><span class=3D"string">'#FFFFFF'</span><span cla=
ss=3D"keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">copyposition </span><span class=3D"ke=
yword">=3D&gt;</span><span class=3D"string">'bottom'</span><span class=3D=
"keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">logoposition </span><span class=3D"ke=
yword">=3D&gt;</span><span class=3D"string">'topleft'</span><span class=3D=
"keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; </span><span class=3D"default">logoimage </span><span class=3D"keywo=
rd">=3D&gt;</span><span class=3D"string">'logo.png'</span><span class=3D=
"keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"comment">//$arg =3D "$source,,4=
00,300,80,resize";<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"keyword">new </span><span class=
=3D"default">pg_image</span><span class=3D"keyword">(</span><span class=3D=
"default">$arg</span><span class=3D"keyword">);<br />
<br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"71182"></a>
 <div class=3D"note">
  <strong class=3D'user'>feip at feip dot net</strong>
  <a href=3D"#71182" class=3D"date">15-Nov-2006 04:23</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
This code convert images to thumbs. <br />
How he work - <br />
Check source image - Width and Height, <br />
crop a maximum from original image,<br />
resize croped to user defined size<br />
<br />
// makeIcons_MergeCenter($src, $dst, $dstx, $dsty);<br />
<br />
<span class=3D"default">&lt;?php<br />
<br />
</span><span class=3D"keyword">function </span><span class=3D"default">m=
akeIcons_MergeCenter</span><span class=3D"keyword">(</span><span class=3D=
"default">$src</span><span class=3D"keyword">, </span><span class=3D"def=
ault">$dst</span><span class=3D"keyword">, </span><span class=3D"default=
">$dstx</span><span class=3D"keyword">, </span><span class=3D"default">$=
dsty</span><span class=3D"keyword">){<br />
<br />
</span><span class=3D"comment">//$src =3D original image location<br />
//$dst =3D destination image location<br />
//$dstx =3D user defined width of image<br />
//$dsty =3D user defined height of image<br />
<br />
</span><span class=3D"default">$allowedExtensions </span><span class=3D"=
keyword">=3D </span><span class=3D"string">'jpg jpeg gif png'</span><spa=
n class=3D"keyword">;<br />
<br />
</span><span class=3D"default">$name </span><span class=3D"keyword">=3D =
</span><span class=3D"default">explode</span><span class=3D"keyword">(</=
span><span class=3D"string">"."</span><span class=3D"keyword">, </span><=
span class=3D"default">$src</span><span class=3D"keyword">);<br />
</span><span class=3D"default">$currentExtensions </span><span class=3D"=
keyword">=3D </span><span class=3D"default">$name</span><span class=3D"k=
eyword">[</span><span class=3D"default">count</span><span class=3D"keywo=
rd">(</span><span class=3D"default">$name</span><span class=3D"keyword">=
)-</span><span class=3D"default">1</span><span class=3D"keyword">];<br /=
>
</span><span class=3D"default">$extensions </span><span class=3D"keyword=
">=3D </span><span class=3D"default">explode</span><span class=3D"keywor=
d">(</span><span class=3D"string">" "</span><span class=3D"keyword">, </=
span><span class=3D"default">$allowedExtensions</span><span class=3D"key=
word">);<br />
<br />
for(</span><span class=3D"default">$i</span><span class=3D"keyword">=3D<=
/span><span class=3D"default">0</span><span class=3D"keyword">; </span><=
span class=3D"default">count</span><span class=3D"keyword">(</span><span=
 class=3D"default">$extensions</span><span class=3D"keyword">)&gt;</span=
><span class=3D"default">$i</span><span class=3D"keyword">; </span><span=
 class=3D"default">$i</span><span class=3D"keyword">=3D</span><span clas=
s=3D"default">$i</span><span class=3D"keyword">+</span><span class=3D"de=
fault">1</span><span class=3D"keyword">){<br />
if(</span><span class=3D"default">$extensions</span><span class=3D"keywo=
rd">[</span><span class=3D"default">$i</span><span class=3D"keyword">]=3D=
=3D</span><span class=3D"default">$currentExtensions</span><span class=3D=
"keyword">)<br />
{ </span><span class=3D"default">$extensionOK</span><span class=3D"keywo=
rd">=3D</span><span class=3D"default">1</span><span class=3D"keyword">; =
<br />
</span><span class=3D"default">$fileExtension</span><span class=3D"keywo=
rd">=3D</span><span class=3D"default">$extensions</span><span class=3D"k=
eyword">[</span><span class=3D"default">$i</span><span class=3D"keyword"=
>]; <br />
break; }<br />
}<br />
<br />
if(</span><span class=3D"default">$extensionOK</span><span class=3D"keyw=
ord">){<br />
<br />
</span><span class=3D"default">$size </span><span class=3D"keyword">=3D =
</span><span class=3D"default">getImageSize</span><span class=3D"keyword=
">(</span><span class=3D"default">$src</span><span class=3D"keyword">);<=
br />
</span><span class=3D"default">$width </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">$size</span><span class=3D"keyword">[</s=
pan><span class=3D"default">0</span><span class=3D"keyword">];<br />
</span><span class=3D"default">$height </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">$size</span><span class=3D"keyword">[</s=
pan><span class=3D"default">1</span><span class=3D"keyword">];<br />
<br />
if(</span><span class=3D"default">$width </span><span class=3D"keyword">=
&gt;=3D </span><span class=3D"default">$dstx </span><span class=3D"keywo=
rd">AND </span><span class=3D"default">$height </span><span class=3D"key=
word">&gt;=3D </span><span class=3D"default">$dsty</span><span class=3D"=
keyword">){<br />
<br />
</span><span class=3D"default">$proportion_X </span><span class=3D"keywo=
rd">=3D </span><span class=3D"default">$width </span><span class=3D"keyw=
ord">/ </span><span class=3D"default">$dstx</span><span class=3D"keyword=
">;<br />
</span><span class=3D"default">$proportion_Y </span><span class=3D"keywo=
rd">=3D </span><span class=3D"default">$height </span><span class=3D"key=
word">/ </span><span class=3D"default">$dsty</span><span class=3D"keywor=
d">;<br />
<br />
if(</span><span class=3D"default">$proportion_X </span><span class=3D"ke=
yword">&gt; </span><span class=3D"default">$proportion_Y </span><span cl=
ass=3D"keyword">){<br />
</span><span class=3D"default">$proportion </span><span class=3D"keyword=
">=3D </span><span class=3D"default">$proportion_Y</span><span class=3D"=
keyword">;<br />
}else{<br />
</span><span class=3D"default">$proportion </span><span class=3D"keyword=
">=3D </span><span class=3D"default">$proportion_X </span><span class=3D=
"keyword">;<br />
}<br />
</span><span class=3D"default">$target</span><span class=3D"keyword">[</=
span><span class=3D"string">'width'</span><span class=3D"keyword">] =3D =
</span><span class=3D"default">$dstx </span><span class=3D"keyword">* </=
span><span class=3D"default">$proportion</span><span class=3D"keyword">;=
<br />
</span><span class=3D"default">$target</span><span class=3D"keyword">[</=
span><span class=3D"string">'height'</span><span class=3D"keyword">] =3D=
 </span><span class=3D"default">$dsty </span><span class=3D"keyword">* <=
/span><span class=3D"default">$proportion</span><span class=3D"keyword">=
;<br />
<br />
</span><span class=3D"default">$original</span><span class=3D"keyword">[=
</span><span class=3D"string">'diagonal_center'</span><span class=3D"key=
word">] =3D <br />
</span><span class=3D"default">round</span><span class=3D"keyword">(</sp=
an><span class=3D"default">sqrt</span><span class=3D"keyword">((</span><=
span class=3D"default">$width</span><span class=3D"keyword">*</span><spa=
n class=3D"default">$width</span><span class=3D"keyword">)+(</span><span=
 class=3D"default">$height</span><span class=3D"keyword">*</span><span c=
lass=3D"default">$height</span><span class=3D"keyword">))/</span><span c=
lass=3D"default">2</span><span class=3D"keyword">);<br />
</span><span class=3D"default">$target</span><span class=3D"keyword">[</=
span><span class=3D"string">'diagonal_center'</span><span class=3D"keywo=
rd">] =3D <br />
</span><span class=3D"default">round</span><span class=3D"keyword">(</sp=
an><span class=3D"default">sqrt</span><span class=3D"keyword">((</span><=
span class=3D"default">$target</span><span class=3D"keyword">[</span><sp=
an class=3D"string">'width'</span><span class=3D"keyword">]*</span><span=
 class=3D"default">$target</span><span class=3D"keyword">[</span><span c=
lass=3D"string">'width'</span><span class=3D"keyword">])+<br />
(</span><span class=3D"default">$target</span><span class=3D"keyword">[<=
/span><span class=3D"string">'height'</span><span class=3D"keyword">]*</=
span><span class=3D"default">$target</span><span class=3D"keyword">[</sp=
an><span class=3D"string">'height'</span><span class=3D"keyword">]))/</s=
pan><span class=3D"default">2</span><span class=3D"keyword">);<br />
<br />
</span><span class=3D"default">$crop </span><span class=3D"keyword">=3D =
</span><span class=3D"default">round</span><span class=3D"keyword">(</sp=
an><span class=3D"default">$original</span><span class=3D"keyword">[</sp=
an><span class=3D"string">'diagonal_center'</span><span class=3D"keyword=
">] - </span><span class=3D"default">$target</span><span class=3D"keywor=
d">[</span><span class=3D"string">'diagonal_center'</span><span class=3D=
"keyword">]);<br />
<br />
if(</span><span class=3D"default">$proportion_X </span><span class=3D"ke=
yword">&lt; </span><span class=3D"default">$proportion_Y </span><span cl=
ass=3D"keyword">){<br />
</span><span class=3D"default">$target</span><span class=3D"keyword">[</=
span><span class=3D"string">'x'</span><span class=3D"keyword">] =3D </sp=
an><span class=3D"default">0</span><span class=3D"keyword">;<br />
</span><span class=3D"default">$target</span><span class=3D"keyword">[</=
span><span class=3D"string">'y'</span><span class=3D"keyword">] =3D </sp=
an><span class=3D"default">round</span><span class=3D"keyword">(((</span=
><span class=3D"default">$height</span><span class=3D"keyword">/</span><=
span class=3D"default">2</span><span class=3D"keyword">)*</span><span cl=
ass=3D"default">$crop</span><span class=3D"keyword">)/</span><span class=
=3D"default">$target</span><span class=3D"keyword">[</span><span class=3D=
"string">'diagonal_center'</span><span class=3D"keyword">]);<br />
}else{<br />
</span><span class=3D"default">$target</span><span class=3D"keyword">[</=
span><span class=3D"string">'x'</span><span class=3D"keyword">] =3D&nbsp=
; </span><span class=3D"default">round</span><span class=3D"keyword">(((=
</span><span class=3D"default">$width</span><span class=3D"keyword">/</s=
pan><span class=3D"default">2</span><span class=3D"keyword">)*</span><sp=
an class=3D"default">$crop</span><span class=3D"keyword">)/</span><span =
class=3D"default">$target</span><span class=3D"keyword">[</span><span cl=
ass=3D"string">'diagonal_center'</span><span class=3D"keyword">]);<br />=

</span><span class=3D"default">$target</span><span class=3D"keyword">[</=
span><span class=3D"string">'y'</span><span class=3D"keyword">] =3D </sp=
an><span class=3D"default">0</span><span class=3D"keyword">;<br />
}<br />
<br />
if(</span><span class=3D"default">$fileExtension </span><span class=3D"k=
eyword">=3D=3D </span><span class=3D"string">"jpg" </span><span class=3D=
"keyword">OR </span><span class=3D"default">$fileExtension</span><span c=
lass=3D"keyword">=3D=3D</span><span class=3D"string">'jpeg'</span><span =
class=3D"keyword">){ <br />
</span><span class=3D"default">$from </span><span class=3D"keyword">=3D =
</span><span class=3D"default">ImageCreateFromJpeg</span><span class=3D"=
keyword">(</span><span class=3D"default">$src</span><span class=3D"keywo=
rd">); <br />
}elseif (</span><span class=3D"default">$fileExtension </span><span clas=
s=3D"keyword">=3D=3D </span><span class=3D"string">"gif"</span><span cla=
ss=3D"keyword">){ <br />
</span><span class=3D"default">$from </span><span class=3D"keyword">=3D =
</span><span class=3D"default">ImageCreateFromGIF</span><span class=3D"k=
eyword">(</span><span class=3D"default">$src</span><span class=3D"keywor=
d">); <br />
}elseif (</span><span class=3D"default">$fileExtension </span><span clas=
s=3D"keyword">=3D=3D </span><span class=3D"string">'png'</span><span cla=
ss=3D"keyword">){<br />
&nbsp;</span><span class=3D"default">$from </span><span class=3D"keyword=
">=3D </span><span class=3D"default">imageCreateFromPNG</span><span clas=
s=3D"keyword">(</span><span class=3D"default">$src</span><span class=3D"=
keyword">);<br />
}<br />
<br />
</span><span class=3D"default">$new </span><span class=3D"keyword">=3D <=
/span><span class=3D"default">ImageCreateTrueColor </span><span class=3D=
"keyword">(</span><span class=3D"default">$dstx</span><span class=3D"key=
word">,</span><span class=3D"default">$dsty</span><span class=3D"keyword=
">);<br />
<br />
</span><span class=3D"default">imagecopyresampled </span><span class=3D"=
keyword">(</span><span class=3D"default">$new</span><span class=3D"keywo=
rd">,&nbsp; </span><span class=3D"default">$from</span><span class=3D"ke=
yword">,&nbsp; </span><span class=3D"default">0</span><span class=3D"key=
word">, </span><span class=3D"default">0</span><span class=3D"keyword">,=
 </span><span class=3D"default">$target</span><span class=3D"keyword">[<=
/span><span class=3D"string">'x'</span><span class=3D"keyword">], <br />=

</span><span class=3D"default">$target</span><span class=3D"keyword">[</=
span><span class=3D"string">'y'</span><span class=3D"keyword">], </span>=
<span class=3D"default">$dstx</span><span class=3D"keyword">, </span><sp=
an class=3D"default">$dsty</span><span class=3D"keyword">, </span><span =
class=3D"default">$target</span><span class=3D"keyword">[</span><span cl=
ass=3D"string">'width'</span><span class=3D"keyword">], </span><span cla=
ss=3D"default">$target</span><span class=3D"keyword">[</span><span class=
=3D"string">'height'</span><span class=3D"keyword">]);<br />
<br />
&nbsp;if(</span><span class=3D"default">$fileExtension </span><span clas=
s=3D"keyword">=3D=3D </span><span class=3D"string">"jpg" </span><span cl=
ass=3D"keyword">OR </span><span class=3D"default">$fileExtension </span>=
<span class=3D"keyword">=3D=3D </span><span class=3D"string">'jpeg'</spa=
n><span class=3D"keyword">){ <br />
</span><span class=3D"default">imagejpeg</span><span class=3D"keyword">(=
</span><span class=3D"default">$new</span><span class=3D"keyword">, </sp=
an><span class=3D"default">$dst</span><span class=3D"keyword">, </span><=
span class=3D"default">70</span><span class=3D"keyword">); <br />
}elseif (</span><span class=3D"default">$fileExtension </span><span clas=
s=3D"keyword">=3D=3D </span><span class=3D"string">"gif"</span><span cla=
ss=3D"keyword">){ <br />
</span><span class=3D"default">imagegif</span><span class=3D"keyword">(<=
/span><span class=3D"default">$new</span><span class=3D"keyword">, </spa=
n><span class=3D"default">$dst</span><span class=3D"keyword">); <br />
}elseif (</span><span class=3D"default">$fileExtension </span><span clas=
s=3D"keyword">=3D=3D </span><span class=3D"string">'png'</span><span cla=
ss=3D"keyword">){<br />
</span><span class=3D"default">imagepng</span><span class=3D"keyword">(<=
/span><span class=3D"default">$new</span><span class=3D"keyword">, </spa=
n><span class=3D"default">$dst</span><span class=3D"keyword">);<br />
}<br />
}<br />
}<br />
}<br />
<br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"69699"></a>
 <div class=3D"note">
  <strong class=3D'user'>kyle dot florence at gmail dot com</strong>
  <a href=3D"#69699" class=3D"date">15-Sep-2006 06:38</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
The function below will resize an image based on max width and height, t=
hen it will create a thumbnail image from the center of the resized imag=
e of a width and height specified.&nbsp; This function will not resize t=
he image to max_w pixels by max_h pixels, those are only the max width's=
 and heights the image can be, it resizes the image to the first 1:1 rat=
io below max_w and max_h.<br />
<br />
For example, if you have an image that is 800x600 and you specify your n=
ew image to be 400x200, it will resize based on the smallest number (in =
this case 200) and maintain the images 1:1 ratio.&nbsp; So your final im=
age would end up at something like 262x200.<br />
<br />
UPDATE:&nbsp; I have updated this function, I added the 'newdir' option =
in case you want the images saved in a different directory than the scri=
pt.&nbsp; I also fixed the thumbnail slice so it is perfectly in the cen=
ter now and fixed the bug that 'ob at babcom dot biz' mentioned so you c=
an safely resize based on width or height now.<br />
<br />
&lt;?<br />
/**********************************************************<br />
&nbsp;* function resizejpeg:<br />
&nbsp;*<br />
&nbsp;*&nbsp; =3D creates a resized image based on the max width<br />
&nbsp;*&nbsp; &nbsp; specified as well as generates a thumbnail from<br =
/>
&nbsp;*&nbsp; &nbsp; a rectangle cut from the middle of the image.<br />=

&nbsp;*<br />
&nbsp;*&nbsp; &nbsp; @dir&nbsp; &nbsp; =3D directory image is stored in<=
br />
&nbsp;*&nbsp; &nbsp; @newdir =3D directory new image will be stored in<b=
r />
&nbsp;*&nbsp; &nbsp; @img&nbsp; &nbsp; =3D the image name<br />
&nbsp;*&nbsp; &nbsp; @max_w&nbsp; =3D the max width of the resized image=
<br />
&nbsp;*&nbsp; &nbsp; @max_h&nbsp; =3D the max height of the resized imag=
e<br />
&nbsp;*&nbsp; &nbsp; @th_w&nbsp;&nbsp; =3D the width of the thumbnail<br=
 />
&nbsp;*&nbsp; &nbsp; @th_h&nbsp;&nbsp; =3D the height of the thumbnail<b=
r />
&nbsp;*<br />
&nbsp;**********************************************************/<br />
<br />
function resizejpeg($dir, $newdir, $img, $max_w, $max_h, $th_w, $th_h)<b=
r />
{<br />
&nbsp;&nbsp;&nbsp; // set destination directory<br />
&nbsp;&nbsp;&nbsp; if (!$newdir) $newdir =3D $dir;<br />
<br />
&nbsp;&nbsp;&nbsp; // get original images width and height<br />
&nbsp;&nbsp;&nbsp; list($or_w, $or_h, $or_t) =3D getimagesize($dir.$img)=
;<br />
<br />
&nbsp;&nbsp;&nbsp; // make sure image is a jpeg<br />
&nbsp;&nbsp;&nbsp; if ($or_t =3D=3D 2) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // obtain the image's ratio<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $ratio =3D ($or_h / $or_w);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // original image<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $or_image =3D imagecreatefromjpeg($dir.=
$img);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // resize image?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($or_w &gt; $max_w || $or_h &gt; $ma=
x_h) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // resize by height, then=
 width (height dominant)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($max_h &lt; $max_w) {=
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $rs_h =3D $=
max_h;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $rs_w =3D $=
rs_h / $ratio;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // resize by width, then =
height (width dominant)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $rs_w =3D $=
max_w;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $rs_h =3D $=
ratio * $rs_w;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // copy old image to new =
image<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $rs_image =3D imagecreate=
truecolor($rs_w, $rs_h);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; imagecopyresampled($rs_im=
age, $or_image, 0, 0, 0, 0, $rs_w, $rs_h, $or_w, $or_h);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // image requires no resizing<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $rs_w =3D $or_w;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $rs_h =3D $or_h;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $rs_image =3D $or_image;<=
br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // generate resized image<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; imagejpeg($rs_image, $newdir.$img, 100)=
;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $th_image =3D imagecreatetruecolor($th_=
w, $th_h);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // cut out a rectangle from the resized=
 image and store in thumbnail<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $new_w =3D (($rs_w / 2) - ($th_w / 2));=
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $new_h =3D (($rs_h / 2) - ($th_h / 2));=
<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; imagecopyresized($th_image, $rs_image, =
0, 0, $new_w, $new_h, $rs_w, $rs_h, $rs_w, $rs_h);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // generate thumbnail<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; imagejpeg($th_image, $newdir.'thumb_'.$=
img, 100);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return true;<br />
&nbsp;&nbsp;&nbsp; } <br />
<br />
&nbsp;&nbsp;&nbsp; // Image type was not jpeg!<br />
&nbsp;&nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
?&gt;<br />
<br />
Example:<br />
<br />
<span class=3D"default">&lt;?php<br />
$dir </span><span class=3D"keyword">=3D </span><span class=3D"string">'.=
/'</span><span class=3D"keyword">;<br />
</span><span class=3D"default">$img </span><span class=3D"keyword">=3D <=
/span><span class=3D"string">'test.jpg'</span><span class=3D"keyword">;<=
br />
<br />
</span><span class=3D"default">resizejpeg</span><span class=3D"keyword">=
(</span><span class=3D"default">$dir</span><span class=3D"keyword">, </s=
pan><span class=3D"string">''</span><span class=3D"keyword">, </span><sp=
an class=3D"default">$img</span><span class=3D"keyword">, </span><span c=
lass=3D"default">600</span><span class=3D"keyword">, </span><span class=3D=
"default">400</span><span class=3D"keyword">, </span><span class=3D"defa=
ult">300</span><span class=3D"keyword">, </span><span class=3D"default">=
150</span><span class=3D"keyword">);<br />
</span><span class=3D"default">?&gt;<br />
</span><br />
The example would resize the image 'test.jpg' into something 600x400 or =
less (retains the 1:1 ratio of the image) and creates the file 'thumb_te=
st.jpg' at 300x150.</span>
</code></div>
  </div>
 </div>
 <a name=3D"69123"></a>
 <div class=3D"note">
  <strong class=3D'user'>nworld3d at yahoo dot com</strong>
  <a href=3D"#69123" class=3D"date">23-Aug-2006 05:06</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
Belows is the code snipet that allows you to resize a transparent PNG an=
d composite it into another image.&nbsp; The code is tested to work with=
 PHP5.1.2, GD2, but I think it can also work with other versions of PHP =
and GD.&nbsp; <br />
<br />
The code has been commented to help you read through it.&nbsp; The idea =
of resizing the transparent PNG image is to create a new destination ima=
ge which is completely transparent then turn off the imageAlphaBlending =
of this new image so that when the PNG source file is copied, its alpha =
channel is still retained.<br />
<br />
<span class=3D"default">&lt;?php<br />
</span><span class=3D"comment">/**<br />
&nbsp;* Compose a PNG file over a src file.<br />
&nbsp;* If new width/ height are defined, then resize the PNG (and keep =
all the transparency info)<br />
&nbsp;* Author:&nbsp; Alex Le - <a href=3D"http://www.alexle.net" rel=3D=
"nofollow" target=3D"_blank">http://www.alexle.net</a><br />
&nbsp;*/<br />
</span><span class=3D"keyword">function </span><span class=3D"default">i=
mageComposeAlpha</span><span class=3D"keyword">( &amp;</span><span class=
=3D"default">$src</span><span class=3D"keyword">, &amp;</span><span clas=
s=3D"default">$ovr</span><span class=3D"keyword">, </span><span class=3D=
"default">$ovr_x</span><span class=3D"keyword">, </span><span class=3D"d=
efault">$ovr_y</span><span class=3D"keyword">, </span><span class=3D"def=
ault">$ovr_w </span><span class=3D"keyword">=3D </span><span class=3D"de=
fault">false</span><span class=3D"keyword">, </span><span class=3D"defau=
lt">$ovr_h </span><span class=3D"keyword">=3D </span><span class=3D"defa=
ult">false</span><span class=3D"keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if( </span><span class=3D"default">$ovr_w </span><spa=
n class=3D"keyword">&amp;&amp; </span><span class=3D"default">$ovr_h </s=
pan><span class=3D"keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$ovr </s=
pan><span class=3D"keyword">=3D </span><span class=3D"default">imageResi=
zeAlpha</span><span class=3D"keyword">( </span><span class=3D"default">$=
ovr</span><span class=3D"keyword">, </span><span class=3D"default">$ovr_=
w</span><span class=3D"keyword">, </span><span class=3D"default">$ovr_h =
</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"comment">/* Noew compose the 2 =
images */<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">imagecopy</span><span =
class=3D"keyword">(</span><span class=3D"default">$src</span><span class=
=3D"keyword">, </span><span class=3D"default">$ovr</span><span class=3D"=
keyword">, </span><span class=3D"default">$ovr_x</span><span class=3D"ke=
yword">, </span><span class=3D"default">$ovr_y</span><span class=3D"keyw=
ord">, </span><span class=3D"default">0</span><span class=3D"keyword">, =
</span><span class=3D"default">0</span><span class=3D"keyword">, </span>=
<span class=3D"default">imagesx</span><span class=3D"keyword">(</span><s=
pan class=3D"default">$ovr</span><span class=3D"keyword">), </span><span=
 class=3D"default">imagesy</span><span class=3D"keyword">(</span><span c=
lass=3D"default">$ovr</span><span class=3D"keyword">) );&nbsp; &nbsp; <b=
r />
}<br />
<br />
</span><span class=3D"comment">/**<br />
&nbsp;* Resize a PNG file with transparency to given dimensions<br />
&nbsp;* and still retain the alpha channel information<br />
&nbsp;* Author:&nbsp; Alex Le - <a href=3D"http://www.alexle.net" rel=3D=
"nofollow" target=3D"_blank">http://www.alexle.net</a><br />
&nbsp;*/<br />
</span><span class=3D"keyword">function </span><span class=3D"default">i=
mageResizeAlpha</span><span class=3D"keyword">(&amp;</span><span class=3D=
"default">$src</span><span class=3D"keyword">, </span><span class=3D"def=
ault">$w</span><span class=3D"keyword">, </span><span class=3D"default">=
$h</span><span class=3D"keyword">)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">/* creat=
e a new image with the new width and height */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$temp </=
span><span class=3D"keyword">=3D </span><span class=3D"default">imagecre=
atetruecolor</span><span class=3D"keyword">(</span><span class=3D"defaul=
t">$w</span><span class=3D"keyword">, </span><span class=3D"default">$h<=
/span><span class=3D"keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">/* makin=
g the new image transparent */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$backgro=
und </span><span class=3D"keyword">=3D </span><span class=3D"default">im=
agecolorallocate</span><span class=3D"keyword">(</span><span class=3D"de=
fault">$temp</span><span class=3D"keyword">, </span><span class=3D"defau=
lt">0</span><span class=3D"keyword">, </span><span class=3D"default">0</=
span><span class=3D"keyword">, </span><span class=3D"default">0</span><s=
pan class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">ImageCol=
orTransparent</span><span class=3D"keyword">(</span><span class=3D"defau=
lt">$temp</span><span class=3D"keyword">, </span><span class=3D"default"=
>$background</span><span class=3D"keyword">); </span><span class=3D"comm=
ent">// make the new temp image all transparent<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagealp=
hablending</span><span class=3D"keyword">(</span><span class=3D"default"=
>$temp</span><span class=3D"keyword">, </span><span class=3D"default">fa=
lse</span><span class=3D"keyword">); </span><span class=3D"comment">// t=
urn off the alpha blending to keep the alpha channel<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* Resize the PNG file */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* use imagecopyresized to gain some pe=
rformance but loose some quality */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagecop=
yresized</span><span class=3D"keyword">(</span><span class=3D"default">$=
temp</span><span class=3D"keyword">, </span><span class=3D"default">$src=
</span><span class=3D"keyword">, </span><span class=3D"default">0</span>=
<span class=3D"keyword">, </span><span class=3D"default">0</span><span c=
lass=3D"keyword">, </span><span class=3D"default">0</span><span class=3D=
"keyword">, </span><span class=3D"default">0</span><span class=3D"keywor=
d">, </span><span class=3D"default">$w</span><span class=3D"keyword">, <=
/span><span class=3D"default">$h</span><span class=3D"keyword">, </span>=
<span class=3D"default">imagesx</span><span class=3D"keyword">(</span><s=
pan class=3D"default">$src</span><span class=3D"keyword">), </span><span=
 class=3D"default">imagesy</span><span class=3D"keyword">(</span><span c=
lass=3D"default">$src</span><span class=3D"keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">/* use i=
magecopyresampled if you concern more about the quality */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //imagecopyresampled($temp, $src, 0, 0,=
 0, 0, $w, $h, imagesx($src), imagesy($src));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"keyword">return <=
/span><span class=3D"default">$temp</span><span class=3D"keyword">;<br /=
>
}<br />
</span><span class=3D"default">?&gt;<br />
</span>Example usage:<br />
<br />
<span class=3D"default">&lt;?php<br />
header</span><span class=3D"keyword">(</span><span class=3D"string">'Con=
tent-type: image/png'</span><span class=3D"keyword">);<br />
<br />
</span><span class=3D"comment">/* Open the photo and the overlay image *=
/<br />
</span><span class=3D"default">$photoImage </span><span class=3D"keyword=
">=3D </span><span class=3D"default">ImageCreateFromJPEG</span><span cla=
ss=3D"keyword">(</span><span class=3D"string">'images/MiuMiu.jpg'</span>=
<span class=3D"keyword">);<br />
</span><span class=3D"default">$overlay </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">ImageCreateFromPNG</span><span class=3D"=
keyword">(</span><span class=3D"string">'images/hair-trans.png'</span><s=
pan class=3D"keyword">);<br />
<br />
</span><span class=3D"default">$percent </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">0.8</span><span class=3D"keyword">;<br /=
>
</span><span class=3D"default">$newW </span><span class=3D"keyword">=3D =
</span><span class=3D"default">ceil</span><span class=3D"keyword">(</spa=
n><span class=3D"default">imagesx</span><span class=3D"keyword">(</span>=
<span class=3D"default">$overlay</span><span class=3D"keyword">) * </spa=
n><span class=3D"default">$percent</span><span class=3D"keyword">);<br /=
>
</span><span class=3D"default">$newH </span><span class=3D"keyword">=3D =
</span><span class=3D"default">ceil</span><span class=3D"keyword">(</spa=
n><span class=3D"default">imagesy</span><span class=3D"keyword">(</span>=
<span class=3D"default">$overlay</span><span class=3D"keyword">) * </spa=
n><span class=3D"default">$percent</span><span class=3D"keyword">);<br /=
>
<br />
</span><span class=3D"comment">/* Compose the overlay photo over the tar=
get image */<br />
</span><span class=3D"default">imageComposeAlpha</span><span class=3D"ke=
yword">( </span><span class=3D"default">$photoImage</span><span class=3D=
"keyword">, </span><span class=3D"default">$overlay</span><span class=3D=
"keyword">, </span><span class=3D"default">86</span><span class=3D"keywo=
rd">, </span><span class=3D"default">15</span><span class=3D"keyword">, =
</span><span class=3D"default">$newW</span><span class=3D"keyword">, </s=
pan><span class=3D"default">$newH </span><span class=3D"keyword">);<br /=
>
<br />
</span><span class=3D"comment">/* Open another PNG file, then resize and=
 compose it */<br />
</span><span class=3D"default">$watermark </span><span class=3D"keyword"=
>=3D </span><span class=3D"default">imagecreatefrompng</span><span class=
=3D"keyword">(</span><span class=3D"string">'images/watermark.png'</span=
><span class=3D"keyword">);<br />
</span><span class=3D"default">imageComposeAlpha</span><span class=3D"ke=
yword">( </span><span class=3D"default">$photoImage</span><span class=3D=
"keyword">, </span><span class=3D"default">$watermark</span><span class=3D=
"keyword">, </span><span class=3D"default">10</span><span class=3D"keywo=
rd">, </span><span class=3D"default">20</span><span class=3D"keyword">, =
</span><span class=3D"default">imagesx</span><span class=3D"keyword">(</=
span><span class=3D"default">$watermark</span><span class=3D"keyword">)/=
</span><span class=3D"default">2</span><span class=3D"keyword">, </span>=
<span class=3D"default">imagesy</span><span class=3D"keyword">(</span><s=
pan class=3D"default">$watermark</span><span class=3D"keyword">)/</span>=
<span class=3D"default">2 </span><span class=3D"keyword">);<br />
<br />
</span><span class=3D"comment">/**<br />
&nbsp;* Open the same PNG file then compose without resizing <br />
&nbsp;* As the original $watermark is passed by reference, it was resize=
d already.<br />
&nbsp;* So we have to reopen it.<br />
&nbsp;*/<br />
</span><span class=3D"default">$watermark </span><span class=3D"keyword"=
>=3D </span><span class=3D"default">imagecreatefrompng</span><span class=
=3D"keyword">(</span><span class=3D"string">'images/watermark.png'</span=
><span class=3D"keyword">);<br />
</span><span class=3D"default">imageComposeAlpha</span><span class=3D"ke=
yword">( </span><span class=3D"default">$photoImage</span><span class=3D=
"keyword">, </span><span class=3D"default">$watermark</span><span class=3D=
"keyword">, </span><span class=3D"default">80</span><span class=3D"keywo=
rd">, </span><span class=3D"default">350</span><span class=3D"keyword">)=
;<br />
</span><span class=3D"default">Imagepng</span><span class=3D"keyword">(<=
/span><span class=3D"default">$photoImage</span><span class=3D"keyword">=
); </span><span class=3D"comment">// output to browser<br />
<br />
</span><span class=3D"default">ImageDestroy</span><span class=3D"keyword=
">(</span><span class=3D"default">$photoImage</span><span class=3D"keywo=
rd">);<br />
</span><span class=3D"default">ImageDestroy</span><span class=3D"keyword=
">(</span><span class=3D"default">$overlay</span><span class=3D"keyword"=
>); <br />
</span><span class=3D"default">ImageDestroy</span><span class=3D"keyword=
">(</span><span class=3D"default">$watermark</span><span class=3D"keywor=
d">);<br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"69042"></a>
 <div class=3D"note">
  <strong class=3D'user'>ob at babcom dot biz</strong>
  <a href=3D"#69042" class=3D"date">21-Aug-2006 04:32</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
Regarding the note and function of kyle.florence on August 3rd 2006:<br =
/>
<br />
I tried to use his function resizejpeg() for resizing images in my galle=
ry. As far as I can tell it contains a small bug.<br />
<br />
Resizing worked fine as long as I had the same maximum width and maximum=
 height specified. Wanting all thumbnails to have the same height - so m=
y images would appear in a straight line on my website both in portrait =
format and in landscape format - I soon encountered the problem that res=
izing with different values of maximum width and maximum height would no=
t work proberly.<br />
<br />
If you are using the script change the following 2 lines where the resiz=
ed width and the resized height are calculated:<br />
<br />
<span class=3D"default">&lt;?php <br />
$rs_h </span><span class=3D"keyword">=3D </span><span class=3D"default">=
$ratio </span><span class=3D"keyword">* </span><span class=3D"default">$=
max_h</span><span class=3D"keyword">; <br />
</span><span class=3D"default">?&gt;<br />
</span>should be:<br />
<span class=3D"default">&lt;?php <br />
$rs_h </span><span class=3D"keyword">=3D </span><span class=3D"default">=
$ratio </span><span class=3D"keyword">* </span><span class=3D"default">$=
rs_w</span><span class=3D"keyword">; <br />
</span><span class=3D"default">?&gt;<br />
</span><br />
and:<br />
<span class=3D"default">&lt;?php <br />
$rs_w </span><span class=3D"keyword">=3D </span><span class=3D"default">=
$max_w </span><span class=3D"keyword">/ </span><span class=3D"default">$=
ratio</span><span class=3D"keyword">; <br />
</span><span class=3D"default">?&gt;<br />
</span>should be:<br />
<span class=3D"default">&lt;?php <br />
$rs_w </span><span class=3D"keyword">=3D </span><span class=3D"default">=
$rs_h </span><span class=3D"keyword">/ </span><span class=3D"default">$r=
atio</span><span class=3D"keyword">; <br />
</span><span class=3D"default">?&gt;<br />
</span><br />
The following function is based on Kyle Florence's function. I left out =
the thumbnail-part and rather added the possibiliy of defining a new dir=
 and new filename for the image. If you need to resize and then create a=
 thumbnail just run the function twice. Here, the thumbnail will contain=
 the full picture and not a cutout of the original image. <br />
<br />
The function supports JPG, GIF and PNG resizing. The quality in case of =
JPG is given to the function as the last parameter $Quality.<br />
<br />
The variable names should speak for their usage.<br />
<br />
<span class=3D"default">&lt;?php<br />
</span><span class=3D"keyword">function </span><span class=3D"default">R=
esize</span><span class=3D"keyword">(</span><span class=3D"default">$Dir=
</span><span class=3D"keyword">,</span><span class=3D"default">$Image</s=
pan><span class=3D"keyword">,</span><span class=3D"default">$NewDir</spa=
n><span class=3D"keyword">,</span><span class=3D"default">$NewImage</spa=
n><span class=3D"keyword">,</span><span class=3D"default">$MaxWidth</spa=
n><span class=3D"keyword">,</span><span class=3D"default">$MaxHeight</sp=
an><span class=3D"keyword">,</span><span class=3D"default">$Quality</spa=
n><span class=3D"keyword">) {<br />
&nbsp; list(</span><span class=3D"default">$ImageWidth</span><span class=
=3D"keyword">,</span><span class=3D"default">$ImageHeight</span><span cl=
ass=3D"keyword">,</span><span class=3D"default">$TypeCode</span><span cl=
ass=3D"keyword">)=3D</span><span class=3D"default">getimagesize</span><s=
pan class=3D"keyword">(</span><span class=3D"default">$Dir</span><span c=
lass=3D"keyword">.</span><span class=3D"default">$Image</span><span clas=
s=3D"keyword">);<br />
&nbsp; </span><span class=3D"default">$ImageType</span><span class=3D"ke=
yword">=3D(</span><span class=3D"default">$TypeCode</span><span class=3D=
"keyword">=3D=3D</span><span class=3D"default">1</span><span class=3D"ke=
yword">?</span><span class=3D"string">"gif"</span><span class=3D"keyword=
">:(</span><span class=3D"default">$TypeCode</span><span class=3D"keywor=
d">=3D=3D</span><span class=3D"default">2</span><span class=3D"keyword">=
?</span><span class=3D"string">"jpeg"</span><span class=3D"keyword">:<br=
 />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (</span><span class=3D"d=
efault">$TypeCode</span><span class=3D"keyword">=3D=3D</span><span class=
=3D"default">3</span><span class=3D"keyword">?</span><span class=3D"stri=
ng">"png"</span><span class=3D"keyword">:</span><span class=3D"default">=
FALSE</span><span class=3D"keyword">)));<br />
&nbsp; </span><span class=3D"default">$CreateFunction</span><span class=3D=
"keyword">=3D</span><span class=3D"string">"imagecreatefrom"</span><span=
 class=3D"keyword">.</span><span class=3D"default">$ImageType</span><spa=
n class=3D"keyword">;<br />
&nbsp; </span><span class=3D"default">$OutputFunction</span><span class=3D=
"keyword">=3D</span><span class=3D"string">"image"</span><span class=3D"=
keyword">.</span><span class=3D"default">$ImageType</span><span class=3D=
"keyword">;<br />
&nbsp; if (</span><span class=3D"default">$ImageType</span><span class=3D=
"keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$Ratio</span><span cla=
ss=3D"keyword">=3D(</span><span class=3D"default">$ImageHeight</span><sp=
an class=3D"keyword">/</span><span class=3D"default">$ImageWidth</span><=
span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$ImageSource</span><sp=
an class=3D"keyword">=3D</span><span class=3D"default">$CreateFunction</=
span><span class=3D"keyword">(</span><span class=3D"default">$Dir</span>=
<span class=3D"keyword">.</span><span class=3D"default">$Image</span><sp=
an class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class=3D"default">$ImageWidth </span=
><span class=3D"keyword">&gt; </span><span class=3D"default">$MaxWidth <=
/span><span class=3D"keyword">|| </span><span class=3D"default">$ImageHe=
ight </span><span class=3D"keyword">&gt; </span><span class=3D"default">=
$MaxHeight</span><span class=3D"keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class=3D"default">$ImageWidth=
 </span><span class=3D"keyword">&gt; </span><span class=3D"default">$Max=
Width</span><span class=3D"keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=3D"default">$Resize=
dWidth</span><span class=3D"keyword">=3D</span><span class=3D"default">$=
MaxWidth</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=3D"default">$Resize=
dHeight</span><span class=3D"keyword">=3D</span><span class=3D"default">=
$ResizedWidth</span><span class=3D"keyword">*</span><span class=3D"defau=
lt">$Ratio</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$Resized=
Width</span><span class=3D"keyword">=3D</span><span class=3D"default">$I=
mageWidth</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$Resized=
Height</span><span class=3D"keyword">=3D</span><span class=3D"default">$=
ImageHeight</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class=3D"default">$ResizedHei=
ght </span><span class=3D"keyword">&gt; </span><span class=3D"default">$=
MaxHeight</span><span class=3D"keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$Resized=
Height</span><span class=3D"keyword">=3D</span><span class=3D"default">$=
MaxHeight</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$Resized=
Width</span><span class=3D"keyword">=3D</span><span class=3D"default">$R=
esizedHeight</span><span class=3D"keyword">/</span><span class=3D"defaul=
t">$Ratio</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$ResizedImage</=
span><span class=3D"keyword">=3D</span><span class=3D"default">imagecrea=
tetruecolor</span><span class=3D"keyword">(</span><span class=3D"default=
">$ResizedWidth</span><span class=3D"keyword">,</span><span class=3D"def=
ault">$ResizedHeight</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagecopyresamp=
led</span><span class=3D"keyword">(</span><span class=3D"default">$Resiz=
edImage</span><span class=3D"keyword">,</span><span class=3D"default">$I=
mageSource</span><span class=3D"keyword">,</span><span class=3D"default"=
>0</span><span class=3D"keyword">,</span><span class=3D"default">0</span=
><span class=3D"keyword">,</span><span class=3D"default">0</span><span c=
lass=3D"keyword">,</span><span class=3D"default">0</span><span class=3D"=
keyword">,</span><span class=3D"default">$ResizedWidth</span><span class=
=3D"keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; </span><span class=3D"default">$ResizedHeight</span><s=
pan class=3D"keyword">,</span><span class=3D"default">$ImageWidth</span>=
<span class=3D"keyword">,</span><span class=3D"default">$ImageHeight</sp=
an><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; } <br />
&nbsp;&nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$ResizedWidth</=
span><span class=3D"keyword">=3D</span><span class=3D"default">$ImageWid=
th</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$ResizedHeight<=
/span><span class=3D"keyword">=3D</span><span class=3D"default">$ImageHe=
ight</span><span class=3D"keyword">;&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$ResizedImage</=
span><span class=3D"keyword">=3D</span><span class=3D"default">$ImageSou=
rce</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$OutputFunction</span>=
<span class=3D"keyword">(</span><span class=3D"default">$ResizedImage</s=
pan><span class=3D"keyword">,</span><span class=3D"default">$NewDir</spa=
n><span class=3D"keyword">.</span><span class=3D"default">$NewImage</spa=
n><span class=3D"keyword">,</span><span class=3D"default">$Quality</span=
><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class=3D"default">true</span><spa=
n class=3D"keyword">;<br />
&nbsp; }&nbsp; &nbsp; <br />
&nbsp; else<br />
&nbsp;&nbsp;&nbsp; return </span><span class=3D"default">false</span><sp=
an class=3D"keyword">;<br />
}<br />
</span><span class=3D"default">?&gt;<br />
</span><br />
Before calling the function support for JPG, PNG or GIF should be checke=
d.</span>
</code></div>
  </div>
 </div>
 <a name=3D"68737"></a>
 <div class=3D"note">
  <strong class=3D'user'>hodgman at ali dot com dot au</strong>
  <a href=3D"#68737" class=3D"date">08-Aug-2006 04:37</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
Users of this function should be aware that this function can return fal=
se in certain circumstances! I am assuming this is an indicator of failu=
re.<br />
<br />
None of the example code displayed in these notes takes this into accoun=
t, so all of these examples contain weaknesses that could crash a progra=
m if not used with care.<br />
<br />
However, it is not documented what kinds situations will cause it to fai=
l, and what side effects (if it is not atomic) occur if the operation fa=
ils, so we will have to wait for the documentation to be updated before =
this function can be used in rock-solid (crash-proof) code.<br />
<br />
[[I posted this information earlier, but I phrased it as a question so i=
t was removed by the editors]]</span>
</code></div>
  </div>
 </div>
 <a name=3D"68631"></a>
 <div class=3D"note">
  <strong class=3D'user'>kyle(dot)florence(_[at]_)gmail(dot)com</strong>=

  <a href=3D"#68631" class=3D"date">03-Aug-2006 06:43</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
The function below will resize an image based on max width and height, t=
hen it will create a thumbnail image from the center of the resized imag=
e of a width and height specified.<br />
<br />
<span class=3D"default">&lt;?php<br />
</span><span class=3D"comment">/****************************************=
******************<br />
&nbsp;* function resizejpeg:<br />
&nbsp;*<br />
&nbsp;*&nbsp; =3D creates a resized image based on the max width<br />
&nbsp;*&nbsp; &nbsp; specified as well as generates a thumbnail from<br =
/>
&nbsp;*&nbsp; &nbsp; a rectangle cut from the middle of the image.<br />=

&nbsp;*<br />
&nbsp;*&nbsp; &nbsp; @dir&nbsp;&nbsp; =3D directory image is stored in<b=
r />
&nbsp;*&nbsp; &nbsp; @img&nbsp;&nbsp; =3D the image name<br />
&nbsp;*&nbsp; &nbsp; @max_w =3D the max width of the resized image<br />=

&nbsp;*&nbsp; &nbsp; @max_h =3D the max height of the resized image<br /=
>
&nbsp;*&nbsp; &nbsp; @th_w&nbsp; =3D the width of the thumbnail<br />
&nbsp;*&nbsp; &nbsp; @th_h&nbsp; =3D the height of the thumbnail<br />
&nbsp;*<br />
&nbsp;**********************************************************/<br />
<br />
</span><span class=3D"keyword">function </span><span class=3D"default">r=
esizejpeg</span><span class=3D"keyword">(</span><span class=3D"default">=
$dir</span><span class=3D"keyword">, </span><span class=3D"default">$img=
</span><span class=3D"keyword">, </span><span class=3D"default">$max_w</=
span><span class=3D"keyword">, </span><span class=3D"default">$max_h</sp=
an><span class=3D"keyword">, </span><span class=3D"default">$th_w</span>=
<span class=3D"keyword">, </span><span class=3D"default">$th_h</span><sp=
an class=3D"keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"comment">// get original images=
 width and height<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"keyword">list(</span><span clas=
s=3D"default">$or_w</span><span class=3D"keyword">, </span><span class=3D=
"default">$or_h</span><span class=3D"keyword">, </span><span class=3D"de=
fault">$or_t</span><span class=3D"keyword">) =3D </span><span class=3D"d=
efault">getimagesize</span><span class=3D"keyword">(</span><span class=3D=
"default">$dir</span><span class=3D"keyword">.</span><span class=3D"defa=
ult">$img</span><span class=3D"keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"comment">// make sure image is =
a jpeg<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"keyword">if (</span><span class=
=3D"default">$or_t </span><span class=3D"keyword">=3D=3D </span><span cl=
ass=3D"default">2</span><span class=3D"keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">// obtai=
n the image's ratio<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$ratio <=
/span><span class=3D"keyword">=3D (</span><span class=3D"default">$or_h =
</span><span class=3D"keyword">/ </span><span class=3D"default">$or_w</s=
pan><span class=3D"keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">// origi=
nal image<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$or_imag=
e </span><span class=3D"keyword">=3D </span><span class=3D"default">imag=
ecreatefromjpeg</span><span class=3D"keyword">(</span><span class=3D"def=
ault">$dir</span><span class=3D"keyword">.</span><span class=3D"default"=
>$img</span><span class=3D"keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">// resiz=
e image<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"keyword">if (</sp=
an><span class=3D"default">$or_w </span><span class=3D"keyword">&gt; </s=
pan><span class=3D"default">$max_w </span><span class=3D"keyword">|| </s=
pan><span class=3D"default">$or_h </span><span class=3D"keyword">&gt; </=
span><span class=3D"default">$max_h</span><span class=3D"keyword">) {<br=
 />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"com=
ment">// first resize by width (less than $max_w)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"key=
word">if (</span><span class=3D"default">$or_w </span><span class=3D"key=
word">&gt; </span><span class=3D"default">$max_w</span><span class=3D"ke=
yword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><spa=
n class=3D"default">$rs_w </span><span class=3D"keyword">=3D </span><spa=
n class=3D"default">$max_w</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><spa=
n class=3D"default">$rs_h </span><span class=3D"keyword">=3D </span><spa=
n class=3D"default">$ratio </span><span class=3D"keyword">* </span><span=
 class=3D"default">$max_h</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><spa=
n class=3D"default">$rs_w </span><span class=3D"keyword">=3D </span><spa=
n class=3D"default">$or_w</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><spa=
n class=3D"default">$rs_h </span><span class=3D"keyword">=3D </span><spa=
n class=3D"default">$or_h</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"com=
ment">// then resize by height (less than $max_h)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"key=
word">if (</span><span class=3D"default">$rs_h </span><span class=3D"key=
word">&gt; </span><span class=3D"default">$max_h</span><span class=3D"ke=
yword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><spa=
n class=3D"default">$rs_w </span><span class=3D"keyword">=3D </span><spa=
n class=3D"default">$max_w </span><span class=3D"keyword">/ </span><span=
 class=3D"default">$ratio</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><spa=
n class=3D"default">$rs_h </span><span class=3D"keyword">=3D </span><spa=
n class=3D"default">$max_h</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"com=
ment">// copy old image to new image<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$rs_image </span><span class=3D"keyword">=3D </span><span class=3D=
"default">imagecreatetruecolor</span><span class=3D"keyword">(</span><sp=
an class=3D"default">$rs_w</span><span class=3D"keyword">, </span><span =
class=3D"default">$rs_h</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">imagecopyresampled</span><span class=3D"keyword">(</span><span cla=
ss=3D"default">$rs_image</span><span class=3D"keyword">, </span><span cl=
ass=3D"default">$or_image</span><span class=3D"keyword">, </span><span c=
lass=3D"default">0</span><span class=3D"keyword">, </span><span class=3D=
"default">0</span><span class=3D"keyword">, </span><span class=3D"defaul=
t">0</span><span class=3D"keyword">, </span><span class=3D"default">0</s=
pan><span class=3D"keyword">, </span><span class=3D"default">$rs_w</span=
><span class=3D"keyword">, </span><span class=3D"default">$rs_h</span><s=
pan class=3D"keyword">, </span><span class=3D"default">$or_w</span><span=
 class=3D"keyword">, </span><span class=3D"default">$or_h</span><span cl=
ass=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$rs_w </span><span class=3D"keyword">=3D </span><span class=3D"def=
ault">$or_w</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$rs_h </span><span class=3D"keyword">=3D </span><span class=3D"def=
ault">$or_h</span><span class=3D"keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$rs_image </span><span class=3D"keyword">=3D </span><span class=3D=
"default">$or_image</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">// gener=
ate resized image<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagejpe=
g</span><span class=3D"keyword">(</span><span class=3D"default">$rs_imag=
e</span><span class=3D"keyword">, </span><span class=3D"default">$dir</s=
pan><span class=3D"keyword">.</span><span class=3D"default">$img</span><=
span class=3D"keyword">, </span><span class=3D"default">100</span><span =
class=3D"keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$th_imag=
e </span><span class=3D"keyword">=3D </span><span class=3D"default">imag=
ecreatetruecolor</span><span class=3D"keyword">(</span><span class=3D"de=
fault">$th_w</span><span class=3D"keyword">, </span><span class=3D"defau=
lt">$th_h</span><span class=3D"keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">// cut o=
ut a rectangle from the resized image and store in thumbnail<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$new_w <=
/span><span class=3D"keyword">=3D ((</span><span class=3D"default">$rs_w=
 </span><span class=3D"keyword">/ </span><span class=3D"default">4</span=
><span class=3D"keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$new_h <=
/span><span class=3D"keyword">=3D ((</span><span class=3D"default">$rs_h=
 </span><span class=3D"keyword">/ </span><span class=3D"default">4</span=
><span class=3D"keyword">));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagecop=
yresized</span><span class=3D"keyword">(</span><span class=3D"default">$=
th_image</span><span class=3D"keyword">, </span><span class=3D"default">=
$rs_image</span><span class=3D"keyword">, </span><span class=3D"default"=
>0</span><span class=3D"keyword">, </span><span class=3D"default">0</spa=
n><span class=3D"keyword">, </span><span class=3D"default">$new_w</span>=
<span class=3D"keyword">, </span><span class=3D"default">$new_h</span><s=
pan class=3D"keyword">, </span><span class=3D"default">$rs_w</span><span=
 class=3D"keyword">, </span><span class=3D"default">$rs_h</span><span cl=
ass=3D"keyword">, </span><span class=3D"default">$rs_w</span><span class=
=3D"keyword">, </span><span class=3D"default">$rs_h</span><span class=3D=
"keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">// gener=
ate thumbnail<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagejpe=
g</span><span class=3D"keyword">(</span><span class=3D"default">$th_imag=
e</span><span class=3D"keyword">, </span><span class=3D"default">$dir</s=
pan><span class=3D"keyword">.</span><span class=3D"string">'thumb_'</spa=
n><span class=3D"keyword">.</span><span class=3D"default">$img</span><sp=
an class=3D"keyword">, </span><span class=3D"default">100</span><span cl=
ass=3D"keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class=3D"default">t=
rue</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; } <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"comment">// Image type was not =
jpeg!<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"keyword">else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class=3D"default">f=
alse</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class=3D"default">?&gt;<br />
</span><br />
Example:<br />
<br />
<span class=3D"default">&lt;?php<br />
$dir </span><span class=3D"keyword">=3D </span><span class=3D"string">'.=
/'</span><span class=3D"keyword">;<br />
</span><span class=3D"default">$img </span><span class=3D"keyword">=3D <=
/span><span class=3D"string">'test.jpg'</span><span class=3D"keyword">;<=
br />
<br />
</span><span class=3D"default">resizejpeg</span><span class=3D"keyword">=
(</span><span class=3D"default">$dir</span><span class=3D"keyword">, </s=
pan><span class=3D"default">$img</span><span class=3D"keyword">, </span>=
<span class=3D"default">600</span><span class=3D"keyword">, </span><span=
 class=3D"default">600</span><span class=3D"keyword">, </span><span clas=
s=3D"default">300</span><span class=3D"keyword">, </span><span class=3D"=
default">150</span><span class=3D"keyword">);<br />
</span><span class=3D"default">?&gt;<br />
</span><br />
The example would resize the image 'test.jpg' into something 600x600 or =
less (1:1 ratio) and create the file 'thumb_test.jpg' at 300x150.</span>=

</code></div>
  </div>
 </div>
 <a name=3D"64830"></a>
 <div class=3D"note">
  <strong class=3D'user'>06madsenl at westseneca dot wnyric dot org</str=
ong>
  <a href=3D"#64830" class=3D"date">21-Apr-2006 06:05</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
I was fiddling with this a few days trying to figure out how to resize t=
he original images on my website, but this site:<br />
<br />
<a href=3D"http://www.sitepoint.com/article/image-resizing-php" rel=3D"n=
ofollow" target=3D"_blank">http://www.sitepoint.com/article/image-resizi=
ng-php</a><br />
<br />
Has a great tutorial on using PHP to resize images without creating thum=
bnails.&nbsp; It was exactly what I was looking to do.</span>
</code></div>
  </div>
 </div>
 <a name=3D"61962"></a>
 <div class=3D"note">
  <strong class=3D'user'>konteineris at yahoo dot com</strong>
  <a href=3D"#61962" class=3D"date">15-Feb-2006 06:42</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
Function creates a thumbnail from the source image, resizes it so that i=
t fits the desired thumb width and height or fills it grabbing maximum i=
mage part and resizing it, and lastly writes it to destination<br />
<br />
&lt;?<br />
<br />
function thumb($filename, $destination, $th_width, $th_height, $forcefil=
l)<br />
{&nbsp; &nbsp; <br />
&nbsp;&nbsp; list($width, $height) =3D getimagesize($filename);<br />
<br />
&nbsp;&nbsp; $source =3D imagecreatefromjpeg($filename);<br />
<br />
&nbsp;&nbsp; if($width &gt; $th_width || $height &gt; $th_height){<br />=

&nbsp;&nbsp; &nbsp;&nbsp; $a =3D $th_width/$th_height;<br />
&nbsp;&nbsp; &nbsp;&nbsp; $b =3D $width/$height;<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(($a &gt; $b)^$forcefill)<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $src_rect_width&nbsp; =3D $a * $height=
;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $src_rect_height =3D $height;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; if(!$forcefill)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $src_rect_width =3D $widt=
h;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $th_width =3D $th_height/=
$height*$width;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $src_rect_height =3D $width/$a;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $src_rect_width&nbsp; =3D $width;<br /=
>
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; if(!$forcefill)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $src_rect_height =3D $hei=
ght;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $th_height =3D $th_width/=
$width*$height;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; $src_rect_xoffset =3D ($width - $src_rect_widt=
h)/2*intval($forcefill);<br />
&nbsp;&nbsp; &nbsp;&nbsp; $src_rect_yoffset =3D ($height - $src_rect_hei=
ght)/2*intval($forcefill);<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; $thumb&nbsp; =3D imagecreatetruecolor($th_widt=
h, $th_height);<br />
&nbsp;&nbsp; &nbsp;&nbsp; imagecopyresized($thumb, $source, 0, 0, $src_r=
ect_xoffset, $src_rect_yoffset, $th_width, $th_height, $src_rect_width, =
$src_rect_height);<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; imagejpeg($thumb,$destination);<br />
&nbsp;&nbsp; }<br />
}<br />
<br />
?&gt;</span>
</code></div>
  </div>
 </div>
 <a name=3D"57453"></a>
 <div class=3D"note">
  <strong class=3D'user'>jesse at method studios</strong>
  <a href=3D"#57453" class=3D"date">04-Oct-2005 12:07</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
imagecopyresized() does not do any resampling.&nbsp; This makes it extre=
mely quick.&nbsp; If quality is an issue, use imagecopyresampled().</spa=
n>
</code></div>
  </div>
 </div>
 <a name=3D"55743"></a>
 <div class=3D"note">
  <strong class=3D'user'>MaLaZ</strong>
  <a href=3D"#55743" class=3D"date">11-Aug-2005 07:24</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
simple script for creating thumbnails with process information and savin=
g original ratio thumbnail to new destination...good then useing with up=
load or uploaded images:<br />
<br />
<span class=3D"default">&lt;?php<br />
<br />
</span><span class=3D"comment">//Upload---------------------------------=
---<br />
</span><span class=3D"keyword">if(isset( </span><span class=3D"default">=
$submit </span><span class=3D"keyword">))<br />
{<br />
if (</span><span class=3D"default">$_FILES</span><span class=3D"keyword"=
>[</span><span class=3D"string">'imagefile'</span><span class=3D"keyword=
">][</span><span class=3D"string">'type'</span><span class=3D"keyword">]=
 =3D=3D </span><span class=3D"string">"image/jpeg"</span><span class=3D"=
keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">copy </span><span clas=
s=3D"keyword">(</span><span class=3D"default">$_FILES</span><span class=3D=
"keyword">[</span><span class=3D"string">'imagefile'</span><span class=3D=
"keyword">][</span><span class=3D"string">'tmp_name'</span><span class=3D=
"keyword">], </span><span class=3D"string">"../images/"</span><span clas=
s=3D"keyword">.</span><span class=3D"default">$_FILES</span><span class=3D=
"keyword">[</span><span class=3D"string">'imagefile'</span><span class=3D=
"keyword">][</span><span class=3D"string">'name'</span><span class=3D"ke=
yword">])<br />
&nbsp;&nbsp;&nbsp; or die (</span><span class=3D"string">"Could not copy=
"</span><span class=3D"keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class=3D"string">""</=
span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class=3D"string">"Ima=
ge Name: "</span><span class=3D"keyword">.</span><span class=3D"default"=
>$_FILES</span><span class=3D"keyword">[</span><span class=3D"string">'i=
magefile'</span><span class=3D"keyword">][</span><span class=3D"string">=
'name'</span><span class=3D"keyword">].</span><span class=3D"string">""<=
/span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class=3D"string">"&lt=
;br&gt;Image Size: "</span><span class=3D"keyword">.</span><span class=3D=
"default">$_FILES</span><span class=3D"keyword">[</span><span class=3D"s=
tring">'imagefile'</span><span class=3D"keyword">][</span><span class=3D=
"string">'size'</span><span class=3D"keyword">].</span><span class=3D"st=
ring">""</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class=3D"string">"&lt=
;br&gt;Image Type: "</span><span class=3D"keyword">.</span><span class=3D=
"default">$_FILES</span><span class=3D"keyword">[</span><span class=3D"s=
tring">'imagefile'</span><span class=3D"keyword">][</span><span class=3D=
"string">'type'</span><span class=3D"keyword">].</span><span class=3D"st=
ring">""</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class=3D"string">"&lt=
;br&gt;Image Copy Done....&lt;br&gt;"</span><span class=3D"keyword">;<br=
 />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class=3D=
"string">"&lt;br&gt;&lt;br&gt;"</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class=3D=
"string">"bad file type ("</span><span class=3D"keyword">.</span><span c=
lass=3D"default">$_FILES</span><span class=3D"keyword">[</span><span cla=
ss=3D"string">'imagefile'</span><span class=3D"keyword">][</span><span c=
lass=3D"string">'name'</span><span class=3D"keyword">].</span><span clas=
s=3D"string">")&lt;br&gt;"</span><span class=3D"keyword">;exit;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
</span><span class=3D"comment">//-----upload end<br />
<br />
//------start thumbnailer<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$thumbsize</span><span=
 class=3D"keyword">=3D</span><span class=3D"default">120</span><span cla=
ss=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class=3D"string">"Thumbnail Info: &=
lt;br&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 1.Thumb defined size: - OK: $thumbsize=
&lt;br&gt;"</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$imgfile </span><span =
class=3D"keyword">=3D </span><span class=3D"string">"../images/$imagefil=
e_name"</span><span class=3D"keyword">;</span><span class=3D"comment">//=
processed image<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"keyword">echo </span><span clas=
s=3D"string">"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 2.Image destination: - OK: $imgfile&lt=
;br&gt;"</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">header</span><span cla=
ss=3D"keyword">(</span><span class=3D"string">'Content-type: image/jpeg'=
</span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; list(</span><span class=3D"default">$width</span><spa=
n class=3D"keyword">, </span><span class=3D"default">$height</span><span=
 class=3D"keyword">) =3D </span><span class=3D"default">getimagesize</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$imgfile</spa=
n><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class=3D"string">"3.Image size - OK=
: W=3D$width x H=3D$height&lt;br&gt;"</span><span class=3D"keyword">;<br=
 />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$imgratio</span><span =
class=3D"keyword">=3D</span><span class=3D"default">$width</span><span c=
lass=3D"keyword">/</span><span class=3D"default">$height</span><span cla=
ss=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class=3D"string">"3.Image ratio - O=
K: $imgratio&lt;br&gt;"</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; if (</span><span class=3D"default">$imgratio</span><s=
pan class=3D"keyword">&gt;</span><span class=3D"default">1</span><span c=
lass=3D"keyword">){<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$newwidth </spa=
n><span class=3D"keyword">=3D </span><span class=3D"default">$thumbsize<=
/span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$newheight </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">$thumbsize=
</span><span class=3D"keyword">/</span><span class=3D"default">$imgratio=
</span><span class=3D"keyword">;}<br />
&nbsp;&nbsp;&nbsp; else{<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$newheight </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">$thumbsize=
</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class=3D"default">$newwidth </spa=
n><span class=3D"keyword">=3D </span><span class=3D"default">$thumbsize<=
/span><span class=3D"keyword">*</span><span class=3D"default">$imgratio<=
/span><span class=3D"keyword">;}<br />
&nbsp;&nbsp;&nbsp; echo </span><span class=3D"string">"4.Thumb new size =
-OK: W=3D$newwidth x H=3D$newheight&lt;br&gt;"</span><span class=3D"keyw=
ord">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$thumb </span><span cl=
ass=3D"keyword">=3D </span><span class=3D"default">ImageCreateTrueColor<=
/span><span class=3D"keyword">(</span><span class=3D"default">$newwidth<=
/span><span class=3D"keyword">,</span><span class=3D"default">$newheight=
</span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class=3D"string">"5.TrueColor - OK&=
lt;br&gt;"</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$source </span><span c=
lass=3D"keyword">=3D </span><span class=3D"default">imagecreatefromjpeg<=
/span><span class=3D"keyword">(</span><span class=3D"default">$imgfile</=
span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class=3D"string">"6.From JPG - OK&l=
t;br&gt;"</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">imagecopyresized</span=
><span class=3D"keyword">(</span><span class=3D"default">$thumb</span><s=
pan class=3D"keyword">, </span><span class=3D"default">$source</span><sp=
an class=3D"keyword">, </span><span class=3D"default">0</span><span clas=
s=3D"keyword">, </span><span class=3D"default">0</span><span class=3D"ke=
yword">, </span><span class=3D"default">0</span><span class=3D"keyword">=
, </span><span class=3D"default">0</span><span class=3D"keyword">, </spa=
n><span class=3D"default">$newwidth</span><span class=3D"keyword">, </sp=
an><span class=3D"default">$newheight</span><span class=3D"keyword">, </=
span><span class=3D"default">$width</span><span class=3D"keyword">, </sp=
an><span class=3D"default">$height</span><span class=3D"keyword">);<br /=
>
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">imagejpeg</span><span =
class=3D"keyword">(</span><span class=3D"default">$thumb</span><span cla=
ss=3D"keyword">,</span><span class=3D"string">"../images/thumbs/thumb_$i=
magefile_name"</span><span class=3D"keyword">,</span><span class=3D"defa=
ult">100</span><span class=3D"keyword">);echo </span><span class=3D"stri=
ng">"7.Done... - OK&lt;br&gt;"</span><span class=3D"keyword">;<br />
</span><span class=3D"comment">//-----------end--------------&nbsp; &nbs=
p; <br />
</span><span class=3D"default">?&gt;<br />
</span><br />
or without any info, just resizing:<br />
<br />
<span class=3D"default">&lt;?php<br />
</span><span class=3D"comment">//------start thumbnailer<br />
&nbsp;&nbsp; </span><span class=3D"default">$thumbsize</span><span class=
=3D"keyword">=3D</span><span class=3D"default">120</span><span class=3D"=
keyword">;<br />
&nbsp;&nbsp; </span><span class=3D"default">$imgfile </span><span class=3D=
"keyword">=3D </span><span class=3D"string">"../images/$imagefile_name"<=
/span><span class=3D"keyword">;<br />
&nbsp;&nbsp; </span><span class=3D"default">header</span><span class=3D"=
keyword">(</span><span class=3D"string">'Content-type: image/jpeg'</span=
><span class=3D"keyword">);<br />
&nbsp;&nbsp; list(</span><span class=3D"default">$width</span><span clas=
s=3D"keyword">, </span><span class=3D"default">$height</span><span class=
=3D"keyword">) =3D </span><span class=3D"default">getimagesize</span><sp=
an class=3D"keyword">(</span><span class=3D"default">$imgfile</span><spa=
n class=3D"keyword">);<br />
&nbsp;&nbsp; </span><span class=3D"default">$imgratio</span><span class=3D=
"keyword">=3D</span><span class=3D"default">$width</span><span class=3D"=
keyword">/</span><span class=3D"default">$height</span><span class=3D"ke=
yword">;<br />
&nbsp;&nbsp; if (</span><span class=3D"default">$imgratio</span><span cl=
ass=3D"keyword">&gt;</span><span class=3D"default">1</span><span class=3D=
"keyword">){<br />
&nbsp;&nbsp; &nbsp; </span><span class=3D"default">$newwidth </span><spa=
n class=3D"keyword">=3D </span><span class=3D"default">$thumbsize</span>=
<span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; </span><span class=3D"default">$newheight </span><sp=
an class=3D"keyword">=3D </span><span class=3D"default">$thumbsize</span=
><span class=3D"keyword">/</span><span class=3D"default">$imgratio</span=
><span class=3D"keyword">;}<br />
&nbsp;&nbsp; else{<br />
&nbsp;&nbsp; &nbsp; </span><span class=3D"default">$newheight </span><sp=
an class=3D"keyword">=3D </span><span class=3D"default">$thumbsize</span=
><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; </span><span class=3D"default">$newwidth </span><spa=
n class=3D"keyword">=3D </span><span class=3D"default">$thumbsize</span>=
<span class=3D"keyword">*</span><span class=3D"default">$imgratio</span>=
<span class=3D"keyword">;}<br />
&nbsp;&nbsp; </span><span class=3D"default">$thumb </span><span class=3D=
"keyword">=3D </span><span class=3D"default">ImageCreateTrueColor</span>=
<span class=3D"keyword">(</span><span class=3D"default">$newwidth</span>=
<span class=3D"keyword">,</span><span class=3D"default">$newheight</span=
><span class=3D"keyword">);<br />
&nbsp;&nbsp; </span><span class=3D"default">$source </span><span class=3D=
"keyword">=3D </span><span class=3D"default">imagecreatefromjpeg</span><=
span class=3D"keyword">(</span><span class=3D"default">$imgfile</span><s=
pan class=3D"keyword">);<br />
&nbsp;&nbsp; </span><span class=3D"default">imagecopyresized</span><span=
 class=3D"keyword">(</span><span class=3D"default">$thumb</span><span cl=
ass=3D"keyword">, </span><span class=3D"default">$source</span><span cla=
ss=3D"keyword">, </span><span class=3D"default">0</span><span class=3D"k=
eyword">, </span><span class=3D"default">0</span><span class=3D"keyword"=
>, </span><span class=3D"default">0</span><span class=3D"keyword">, </sp=
an><span class=3D"default">0</span><span class=3D"keyword">, </span><spa=
n class=3D"default">$newwidth</span><span class=3D"keyword">, </span><sp=
an class=3D"default">$newheight</span><span class=3D"keyword">, </span><=
span class=3D"default">$width</span><span class=3D"keyword">, </span><sp=
an class=3D"default">$height</span><span class=3D"keyword">);<br />
</span><span class=3D"default">imagejpeg</span><span class=3D"keyword">(=
</span><span class=3D"default">$thumb</span><span class=3D"keyword">,</s=
pan><span class=3D"string">"../images/thumbs/thumb_$imagefile_name"</spa=
n><span class=3D"keyword">,</span><span class=3D"default">100</span><spa=
n class=3D"keyword">);<br />
</span><span class=3D"comment">//-----------end--------------&nbsp;&nbsp=
; <br />
</span><span class=3D"default">?&gt;<br />
</span><br />
i hope it helps.</span>
</code></div>
  </div>
 </div>
 <a name=3D"55692"></a>
 <div class=3D"note">
  <strong class=3D'user'>FearINC at gmail dot com</strong>
  <a href=3D"#55692" class=3D"date">10-Aug-2005 10:35</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
I wrote a function not long ago that creates a thumbnail out of a large =
picture. Unlike other notes on this page, the code is a function so it c=
an be used many times on the same script. The function allows the progra=
mer to set max height and width and resizes the picture proportionally.<=
br />
<span class=3D"default">&lt;?php<br />
</span><span class=3D"keyword">function </span><span class=3D"default">s=
aveThumbnail</span><span class=3D"keyword">(</span><span class=3D"defaul=
t">$saveToDir</span><span class=3D"keyword">, </span><span class=3D"defa=
ult">$imagePath</span><span class=3D"keyword">, </span><span class=3D"de=
fault">$imageName</span><span class=3D"keyword">, </span><span class=3D"=
default">$max_x</span><span class=3D"keyword">, </span><span class=3D"de=
fault">$max_y</span><span class=3D"keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">preg_match</span><span=
 class=3D"keyword">(</span><span class=3D"string">"'^(.*)\.(gif|jpe?g|pn=
g)$'i"</span><span class=3D"keyword">, </span><span class=3D"default">$i=
mageName</span><span class=3D"keyword">, </span><span class=3D"default">=
$ext</span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; switch (</span><span class=3D"default">strtolower</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$ext</span><s=
pan class=3D"keyword">[</span><span class=3D"default">2</span><span clas=
s=3D"keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D"string">'jpg=
' </span><span class=3D"keyword">: <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D"string">'jpe=
g'</span><span class=3D"keyword">: </span><span class=3D"default">$im&nb=
sp;&nbsp; </span><span class=3D"keyword">=3D </span><span class=3D"defau=
lt">imagecreatefromjpeg </span><span class=3D"keyword">(</span><span cla=
ss=3D"default">$imagePath</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D"string">'gif=
' </span><span class=3D"keyword">: </span><span class=3D"default">$im&nb=
sp;&nbsp; </span><span class=3D"keyword">=3D </span><span class=3D"defau=
lt">imagecreatefromgif&nbsp; </span><span class=3D"keyword">(</span><spa=
n class=3D"default">$imagePath</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D"string">'png=
' </span><span class=3D"keyword">: </span><span class=3D"default">$im&nb=
sp;&nbsp; </span><span class=3D"keyword">=3D </span><span class=3D"defau=
lt">imagecreatefrompng&nbsp; </span><span class=3D"keyword">(</span><spa=
n class=3D"default">$imagePath</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default&nbsp; &nbsp; : </span><span cla=
ss=3D"default">$stop </span><span class=3D"keyword">=3D </span><span cla=
ss=3D"default">true</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; break;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if (!isset(</span><span class=3D"default">$stop</span=
><span class=3D"keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$x </spa=
n><span class=3D"keyword">=3D </span><span class=3D"default">imagesx</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$im</span><sp=
an class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$y </spa=
n><span class=3D"keyword">=3D </span><span class=3D"default">imagesy</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$im</span><sp=
an class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class=3D"default">$ma=
x_x</span><span class=3D"keyword">/</span><span class=3D"default">$max_y=
</span><span class=3D"keyword">) &lt; (</span><span class=3D"default">$x=
</span><span class=3D"keyword">/</span><span class=3D"default">$y</span>=
<span class=3D"keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$save </span><span class=3D"keyword">=3D </span><span class=3D"def=
ault">imagecreatetruecolor</span><span class=3D"keyword">(</span><span c=
lass=3D"default">$x</span><span class=3D"keyword">/(</span><span class=3D=
"default">$x</span><span class=3D"keyword">/</span><span class=3D"defaul=
t">$max_x</span><span class=3D"keyword">), </span><span class=3D"default=
">$y</span><span class=3D"keyword">/(</span><span class=3D"default">$x</=
span><span class=3D"keyword">/</span><span class=3D"default">$max_x</spa=
n><span class=3D"keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$save </span><span class=3D"keyword">=3D </span><span class=3D"def=
ault">imagecreatetruecolor</span><span class=3D"keyword">(</span><span c=
lass=3D"default">$x</span><span class=3D"keyword">/(</span><span class=3D=
"default">$y</span><span class=3D"keyword">/</span><span class=3D"defaul=
t">$max_y</span><span class=3D"keyword">), </span><span class=3D"default=
">$y</span><span class=3D"keyword">/(</span><span class=3D"default">$y</=
span><span class=3D"keyword">/</span><span class=3D"default">$max_y</spa=
n><span class=3D"keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagecop=
yresized</span><span class=3D"keyword">(</span><span class=3D"default">$=
save</span><span class=3D"keyword">, </span><span class=3D"default">$im<=
/span><span class=3D"keyword">, </span><span class=3D"default">0</span><=
span class=3D"keyword">, </span><span class=3D"default">0</span><span cl=
ass=3D"keyword">, </span><span class=3D"default">0</span><span class=3D"=
keyword">, </span><span class=3D"default">0</span><span class=3D"keyword=
">, </span><span class=3D"default">imagesx</span><span class=3D"keyword"=
>(</span><span class=3D"default">$save</span><span class=3D"keyword">), =
</span><span class=3D"default">imagesy</span><span class=3D"keyword">(</=
span><span class=3D"default">$save</span><span class=3D"keyword">), </sp=
an><span class=3D"default">$x</span><span class=3D"keyword">, </span><sp=
an class=3D"default">$y</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagegif=
</span><span class=3D"keyword">(</span><span class=3D"default">$save</sp=
an><span class=3D"keyword">, </span><span class=3D"string">"{$saveToDir}=
{$ext[1]}.gif"</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagedes=
troy</span><span class=3D"keyword">(</span><span class=3D"default">$im</=
span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagedes=
troy</span><span class=3D"keyword">(</span><span class=3D"default">$save=
</span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class=3D"default">?&gt;<br />
</span><br />
the function for now takes only jpg,gif and png files, but that can easi=
ly be changed.<br />
It's an easy to use easy to understand function and I hope it will come =
useful to someone.</span>
</code></div>
  </div>
 </div>
 <a name=3D"55570"></a>
 <div class=3D"note">
  <strong class=3D'user'>mecdesign at hotmail dot com</strong>
  <a href=3D"#55570" class=3D"date">07-Aug-2005 02:51</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
This code will resize your images if your image needs to fit (without st=
retching) into a max height / width destination image that is not a 1:1 =
ratio (mine was 4:3).<br />
<br />
&lt;?<br />
&nbsp;&nbsp; // Ratios<br />
&nbsp;&nbsp; $image_ratio =3D $width / $height; // Actual image's ratio<=
br />
&nbsp;&nbsp; $destination_ratio =3D $max_width / $max_height; // Ratio o=
f dest. placeholder<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; // Taller<br />
&nbsp;&nbsp;&nbsp; if($image_ratio &lt; $destination_ratio)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //Too tall:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($height &gt; $max_height)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $height =3D $max_height;<=
br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $width =3D ceil($height /=
 $image_ratio);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; // Wider / balanced &amp; too wide:<br />
&nbsp;&nbsp;&nbsp; else if ($width &gt; $max_width)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $width =3D $max_width;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $height =3D ceil($width / $image_ratio)=
;<br />
&nbsp;&nbsp;&nbsp; }<br />
?&gt;</span>
</code></div>
  </div>
 </div>
 <a name=3D"55012"></a>
 <div class=3D"note">
  <strong class=3D'user'>saurabh at saurabh dot com</strong>
  <a href=3D"#55012" class=3D"date">22-Jul-2005 04:57</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
URGENT!<br />
<br />
I am trying to make thumbnails of image(png, jpg, gif)...<br />
<br />
Not a single code is working. Do we have to make any changes in php.ini?=
<br />
<br />
which version of gd is required can anybody xplain me whole thing.</span=
>
</code></div>
  </div>
 </div>
 <a name=3D"53760"></a>
 <div class=3D"note">
  <strong class=3D'user'>brian &lt;dot&gt; tyler &lt;at&gt; gmail &lt;do=
t&gt; com</strong>
  <a href=3D"#53760" class=3D"date">12-Jun-2005 03:53</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
I spent last night getting unsuccessful results from this function until=
 I found this note of fluffle &lt;&lt;at&gt;&gt; gmail on the imagecopyr=
esampled page, I have made a slight modification, so you can just cut an=
d paste.<br />
<br />
Just to clarify that src_w and src_h do not necessarily need to be the s=
ource image width and height, as they specify the size of the rectangle =
cropped from the source picture, with its top left corner situated at (s=
rc_x, src_y).<br />
<br />
For example, the code below crops a jpeg image to be square, with the sq=
uare situated in the centre of the original image, and then resizes it t=
o a 100x100 thumbnail.<br />
<br />
function ($image_filename, $thumb_location, $image_thumb_size){<br />
//@$image_filename - the filename of the image you want<br />
//to get a thumbnail for (relative to location of this<br />
//function).<br />
//@$thumb_location - the url (relative to location of this<br />
//function) to save the thumbnail.<br />
//@$image_thumb_size - the x-y dimension of your thumb<br />
//in pixels.<br />
<br />
&nbsp;&nbsp; list($ow, $oh) =3D getimagesize($image_filename);<br />
&nbsp;&nbsp; $image_original =3D imagecreatefromjpeg($image_filename);<b=
r />
&nbsp;&nbsp; $image_thumb =3D imagecreatetruecolor($image_thumb_size,$im=
age_thumb_size);<br />
if ($ow &gt; $oh) {<br />
&nbsp;&nbsp; $off_w =3D ($ow-$oh)/2;<br />
&nbsp;&nbsp; $off_h =3D 0;<br />
&nbsp;&nbsp; $ow =3D $oh;<br />
} elseif ($oh &gt; $ow) {<br />
&nbsp;&nbsp; $off_w =3D 0;<br />
&nbsp;&nbsp; $off_h =3D ($oh-$ow)/2;<br />
&nbsp;&nbsp; $oh =3D $ow;<br />
} else {<br />
&nbsp;&nbsp; $off_w =3D 0;<br />
&nbsp;&nbsp; $off_h =3D 0;<br />
}<br />
imagecopyresampled($image_thumb, $image_original, 0, 0, $off_w, $off_h, =
100, 100, $ow, $oh);<br />
<br />
imagejpeg($image_thumb, $thumb_location);<br />
}//end function</span>
</code></div>
  </div>
 </div>
 <a name=3D"52939"></a>
 <div class=3D"note">
  <strong class=3D'user'>no at name dot com</strong>
  <a href=3D"#52939" class=3D"date">18-May-2005 04:45</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
I was searching for script, that do not resize on the fly, but copy resi=
zed file to other place, so after long searches, i've done this function=
. I hope it will be usefull for someone:<br />
(This is not original code, i'v taked it from somwhere and edited a ltl =
:)<br />
<span class=3D"default">&lt;?php<br />
</span><span class=3D"keyword">function </span><span class=3D"default">r=
esize</span><span class=3D"keyword">(</span><span class=3D"default">$cur=
_dir</span><span class=3D"keyword">, </span><span class=3D"default">$cur=
_file</span><span class=3D"keyword">, </span><span class=3D"default">$ne=
wwidth</span><span class=3D"keyword">, </span><span class=3D"default">$o=
utput_dir</span><span class=3D"keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$dir_name </span><span=
 class=3D"keyword">=3D </span><span class=3D"default">$cur_dir</span><sp=
an class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$olddir </span><span c=
lass=3D"keyword">=3D </span><span class=3D"default">getcwd</span><span c=
lass=3D"keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$dir </span><span clas=
s=3D"keyword">=3D </span><span class=3D"default">opendir</span><span cla=
ss=3D"keyword">(</span><span class=3D"default">$dir_name</span><span cla=
ss=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$filename </span><span=
 class=3D"keyword">=3D </span><span class=3D"default">$cur_file</span><s=
pan class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$format</span><span cl=
ass=3D"keyword">=3D</span><span class=3D"string">''</span><span class=3D=
"keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">preg_match</span><s=
pan class=3D"keyword">(</span><span class=3D"string">"/.jpg/i"</span><sp=
an class=3D"keyword">, </span><span class=3D"string">"$filename"</span><=
span class=3D"keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$format =
</span><span class=3D"keyword">=3D </span><span class=3D"string">'image/=
jpeg'</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class=3D"default">preg_match</span><=
span class=3D"keyword">(</span><span class=3D"string">"/.gif/i"</span><s=
pan class=3D"keyword">, </span><span class=3D"string">"$filename"</span>=
<span class=3D"keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$format =
</span><span class=3D"keyword">=3D </span><span class=3D"string">'image/=
gif'</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">preg_match</span><s=
pan class=3D"keyword">(</span><span class=3D"string">"/.png/i"</span><sp=
an class=3D"keyword">, </span><span class=3D"string">"$filename"</span><=
span class=3D"keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$format =
</span><span class=3D"keyword">=3D </span><span class=3D"string">'image/=
png'</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">$format</span><span=
 class=3D"keyword">!=3D</span><span class=3D"string">''</span><span clas=
s=3D"keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; list(</span><span class=3D"default">$wi=
dth</span><span class=3D"keyword">, </span><span class=3D"default">$heig=
ht</span><span class=3D"keyword">) =3D </span><span class=3D"default">ge=
timagesize</span><span class=3D"keyword">(</span><span class=3D"default"=
>$filename</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$newheig=
ht</span><span class=3D"keyword">=3D</span><span class=3D"default">$heig=
ht</span><span class=3D"keyword">*</span><span class=3D"default">$newwid=
th</span><span class=3D"keyword">/</span><span class=3D"default">$width<=
/span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch(</span><span class=3D"default">$=
format</span><span class=3D"keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D=
"string">'image/jpeg'</span><span class=3D"keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$source </span><span class=3D"keyword">=3D </span><span class=3D"d=
efault">imagecreatefromjpeg</span><span class=3D"keyword">(</span><span =
class=3D"default">$filename</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D=
"string">'image/gif'</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$source </span><span class=3D"keyword">=3D </span><span class=3D"d=
efault">imagecreatefromgif</span><span class=3D"keyword">(</span><span c=
lass=3D"default">$filename</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class=3D=
"string">'image/png'</span><span class=3D"keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$source </span><span class=3D"keyword">=3D </span><span class=3D"d=
efault">imagecreatefrompng</span><span class=3D"keyword">(</span><span c=
lass=3D"default">$filename</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$thumb <=
/span><span class=3D"keyword">=3D </span><span class=3D"default">imagecr=
eatetruecolor</span><span class=3D"keyword">(</span><span class=3D"defau=
lt">$newwidth</span><span class=3D"keyword">,</span><span class=3D"defau=
lt">$newheight</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagealp=
hablending</span><span class=3D"keyword">(</span><span class=3D"default"=
>$thumb</span><span class=3D"keyword">, </span><span class=3D"default">f=
alse</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$source =
</span><span class=3D"keyword">=3D @</span><span class=3D"default">image=
createfromjpeg</span><span class=3D"keyword">(</span><span class=3D"stri=
ng">"$filename"</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">imagecop=
yresized</span><span class=3D"keyword">(</span><span class=3D"default">$=
thumb</span><span class=3D"keyword">, </span><span class=3D"default">$so=
urce</span><span class=3D"keyword">, </span><span class=3D"default">0</s=
pan><span class=3D"keyword">, </span><span class=3D"default">0</span><sp=
an class=3D"keyword">, </span><span class=3D"default">0</span><span clas=
s=3D"keyword">, </span><span class=3D"default">0</span><span class=3D"ke=
yword">, </span><span class=3D"default">$newwidth</span><span class=3D"k=
eyword">, </span><span class=3D"default">$newheight</span><span class=3D=
"keyword">, </span><span class=3D"default">$width</span><span class=3D"k=
eyword">, </span><span class=3D"default">$height</span><span class=3D"ke=
yword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$filenam=
e</span><span class=3D"keyword">=3D</span><span class=3D"string">"$outpu=
t_dir/$filename"</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; @</span><span class=3D"default">imagejp=
eg</span><span class=3D"keyword">(</span><span class=3D"default">$thumb<=
/span><span class=3D"keyword">, </span><span class=3D"default">$filename=
</span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class=3D"default">?&gt;<br />
</span>call this function using <br />
&lt;?<br />
resize("./input folder", "picture_file_name", "width", "./output folder"=
);<br />
?&gt;</span>
</code></div>
  </div>
 </div>
 <a name=3D"52541"></a>
 <div class=3D"note">
  <strong class=3D'user'>del at kartoon dot net</strong>
  <a href=3D"#52541" class=3D"date">05-May-2005 01:37</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
This snippet allows you to grab a thumbnail from the center of a large i=
mage.&nbsp; This was used for a client photo gallery for art to give a t=
easer of the image to come (only a small portion).&nbsp; You could get d=
ynamic with this value.&nbsp; I also put in a scaling factor in case you=
 want to scale down first before chopping.<br />
<br />
<span class=3D"default">&lt;?php<br />
</span><span class=3D"comment">// The file<br />
</span><span class=3D"default">$filename </span><span class=3D"keyword">=
=3D </span><span class=3D"string">'moon.jpg'</span><span class=3D"keywor=
d">;<br />
</span><span class=3D"default">$percent </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">1.0</span><span class=3D"keyword">; </sp=
an><span class=3D"comment">// if you want to scale down first<br />
</span><span class=3D"default">$imagethumbsize </span><span class=3D"key=
word">=3D </span><span class=3D"default">200</span><span class=3D"keywor=
d">; </span><span class=3D"comment">// thumbnail size (area cropped in m=
iddle of image)<br />
// Content type<br />
</span><span class=3D"default">header</span><span class=3D"keyword">(</s=
pan><span class=3D"string">'Content-type: image/jpeg'</span><span class=3D=
"keyword">);<br />
<br />
</span><span class=3D"comment">// Get new dimensions<br />
</span><span class=3D"keyword">list(</span><span class=3D"default">$widt=
h</span><span class=3D"keyword">, </span><span class=3D"default">$height=
</span><span class=3D"keyword">) =3D </span><span class=3D"default">geti=
magesize</span><span class=3D"keyword">(</span><span class=3D"default">$=
filename</span><span class=3D"keyword">);<br />
</span><span class=3D"default">$new_width </span><span class=3D"keyword"=
>=3D </span><span class=3D"default">$width </span><span class=3D"keyword=
">* </span><span class=3D"default">$percent</span><span class=3D"keyword=
">;<br />
</span><span class=3D"default">$new_height </span><span class=3D"keyword=
">=3D </span><span class=3D"default">$height </span><span class=3D"keywo=
rd">* </span><span class=3D"default">$percent</span><span class=3D"keywo=
rd">;<br />
<br />
</span><span class=3D"comment">// Resample<br />
</span><span class=3D"default">$image_p </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">imagecreatetruecolor</span><span class=3D=
"keyword">(</span><span class=3D"default">$imagethumbsize </span><span c=
lass=3D"keyword">, </span><span class=3D"default">$imagethumbsize</span>=
<span class=3D"keyword">);&nbsp; </span><span class=3D"comment">// true =
color for best quality<br />
</span><span class=3D"default">$image </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">imagecreatefromjpeg</span><span class=3D=
"keyword">(</span><span class=3D"default">$filename</span><span class=3D=
"keyword">);<br />
<br />
</span><span class=3D"comment">// basically take this line and put in yo=
ur versin the -($new_width/2) + ($imagethumbsize/2) &amp; -($new_height/=
2) + ($imagethumbsize/2) for<br />
// the 2/3 position in the 3 and 4 place for imagecopyresampled<br />
// -($new_width/2) + ($imagethumbsize/2)<br />
// AND<br />
// -($new_height/2) + ($imagethumbsize/2)<br />
// are the trick<br />
</span><span class=3D"default">imagecopyresampled</span><span class=3D"k=
eyword">(</span><span class=3D"default">$image_p</span><span class=3D"ke=
yword">, </span><span class=3D"default">$image</span><span class=3D"keyw=
ord">, -(</span><span class=3D"default">$new_width</span><span class=3D"=
keyword">/</span><span class=3D"default">2</span><span class=3D"keyword"=
>) + (</span><span class=3D"default">$imagethumbsize</span><span class=3D=
"keyword">/</span><span class=3D"default">2</span><span class=3D"keyword=
">), -(</span><span class=3D"default">$new_height</span><span class=3D"k=
eyword">/</span><span class=3D"default">2</span><span class=3D"keyword">=
) + (</span><span class=3D"default">$imagethumbsize</span><span class=3D=
"keyword">/</span><span class=3D"default">2</span><span class=3D"keyword=
">), </span><span class=3D"default">0</span><span class=3D"keyword">, </=
span><span class=3D"default">0</span><span class=3D"keyword">, </span><s=
pan class=3D"default">$new_width </span><span class=3D"keyword">, </span=
><span class=3D"default">$new_width </span><span class=3D"keyword">, </s=
pan><span class=3D"default">$width</span><span class=3D"keyword">, </spa=
n><span class=3D"default">$height</span><span class=3D"keyword">);<br />=

<br />
</span><span class=3D"comment">// Output<br />
<br />
</span><span class=3D"default">imagejpeg</span><span class=3D"keyword">(=
</span><span class=3D"default">$image_p</span><span class=3D"keyword">, =
</span><span class=3D"default">null</span><span class=3D"keyword">, </sp=
an><span class=3D"default">100</span><span class=3D"keyword">);<br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"52239"></a>
 <div class=3D"note">
  <strong class=3D'user'>development at lab-9 dot com</strong>
  <a href=3D"#52239" class=3D"date">25-Apr-2005 03:35</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
If you read your Imagedata from a Database Blob and use the functions fr=
om above to resize the image to a thumbnail improving a lot of traffic, =
you will have to make temporary copies of the files in order that the fu=
nctions can access them<br />
<br />
Here a example:<br />
<br />
// switch through imagetypes<br />
$extension =3D "jpg";<br />
if(mysql_result($query, 0, 'type') =3D=3D "image/pjpeg")<br />
{ $extension =3D "jpg"; } // overwrite<br />
else if(mysql_result($query, 0, 'type') =3D=3D "image/gif")<br />
{ $extension =3D "gif"; } // overwrite<br />
<br />
// get a temporary filename<br />
// use microtime() to get a unique filename<br />
// if you request more than one file f.e. by creating large numbers of t=
humbnails, the server could be not fast enough to save all these differe=
nt files and you get duplicated copies and resizepics() will resize and =
output often the same content<br />
<br />
$filename =3D microtime()."_temp.".$extension;<br />
<br />
// open<br />
$tempfile =3D fopen($filename, "w+");<br />
<br />
// write<br />
fwrite($tempfile, mysql_result($query, 0, 'image'));<br />
<br />
// close<br />
fclose($tempfile);<br />
<br />
// resize and output the content<br />
echo resizepics($filename, '100', '70');<br />
<br />
// delete temporary file<br />
unlink($filename);<br />
<br />
NOTE: this script has to be put into a file which sends correct header i=
nformations to the browser, otherwise you won't get more to see than a b=
ig red cross :-)</span>
</code></div>
  </div>
 </div>
 <a name=3D"50432"></a>
 <div class=3D"note">
  <strong class=3D'user'>robby at planetargon dot com</strong>
  <a href=3D"#50432" class=3D"date">28-Feb-2005 07:56</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
Most of the examples below don't keep the proportions properly. They kee=
p using if/else for the height/width..and forgetting that you might have=
 a max height AND a max width, not one or the other.<br />
<br />
/**<br />
* Resize an image and keep the proportions<br />
* @author Allison Beckwith &lt;allison@planetargon.com&gt;<br />
* @param string $filename<br />
* @param integer $max_width<br />
* @param integer $max_height<br />
* @return image<br />
*/<br />
function resizeImage($filename, $max_width, $max_height)<br />
{<br />
&nbsp;&nbsp;&nbsp; list($orig_width, $orig_height) =3D getimagesize($fil=
ename);<br />
<br />
&nbsp;&nbsp;&nbsp; $width =3D $orig_width;<br />
&nbsp;&nbsp;&nbsp; $height =3D $orig_height;<br />
<br />
&nbsp;&nbsp;&nbsp; # taller<br />
&nbsp;&nbsp;&nbsp; if ($height &gt; $max_height) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $width =3D ($max_height / $height) * $w=
idth;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $height =3D $max_height;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; # wider<br />
&nbsp;&nbsp;&nbsp; if ($width &gt; $max_width) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $height =3D ($max_width / $width) * $he=
ight;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $width =3D $max_width;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; $image_p =3D imagecreatetruecolor($width, $height);<b=
r />
<br />
&nbsp;&nbsp;&nbsp; $image =3D imagecreatefromjpeg($filename);<br />
<br />
&nbsp;&nbsp;&nbsp; imagecopyresampled($image_p, $image, 0, 0, 0, 0, <br =
/>
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $width, $hei=
ght, $orig_width, $orig_height);<br />
<br />
&nbsp;&nbsp;&nbsp; return $image_p;<br />
}</span>
</code></div>
  </div>
 </div>
 <a name=3D"50399"></a>
 <div class=3D"note">
  <strong class=3D'user'>haker4o at haker4o dot org</strong>
  <a href=3D"#50399" class=3D"date">26-Feb-2005 08:57</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
<span class=3D"default">&lt;?php<br />
</span><span class=3D"comment">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Resize image.<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Writeen By: Smelban &a=
mp; Haker4o <br />
// Mails smelban@smwebdesigns.com &amp; Haker4o@Haker4o.org <br />
// This code is written to only execute on&nbsp; jpg,gif,png&nbsp; &nbsp=
; &nbsp; <br />
// $picname =3D resizepics('pics', 'new widthmax', 'new heightmax');<br =
/>
// Demo&nbsp; $picname =3D resizepics('stihche.jpg', '180', '140');<br /=
>
</span><span class=3D"default">$picname </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">resizepics</span><span class=3D"keyword"=
>(</span><span class=3D"string">'picture-name.format'</span><span class=3D=
"keyword">, </span><span class=3D"string">'180'</span><span class=3D"key=
word">, </span><span class=3D"string">'140'</span><span class=3D"keyword=
">);<br />
echo </span><span class=3D"default">$pickname</span><span class=3D"keywo=
rd">;<br />
</span><span class=3D"comment">//Error<br />
</span><span class=3D"keyword">die( </span><span class=3D"string">"&lt;f=
ont color=3D\"#FF0066\"&gt;&lt;center&gt;&lt;b&gt;File not exists :(&lt;=
b&gt;&lt;/center&gt;&lt;/FONT&gt;"</span><span class=3D"keyword">);<br /=
>
</span><span class=3D"comment">//Funcion resizepics<br />
</span><span class=3D"keyword">function </span><span class=3D"default">r=
esizepics</span><span class=3D"keyword">(</span><span class=3D"default">=
$pics</span><span class=3D"keyword">, </span><span class=3D"default">$ne=
wwidth</span><span class=3D"keyword">, </span><span class=3D"default">$n=
ewheight</span><span class=3D"keyword">){<br />
&nbsp;&nbsp; &nbsp; if(</span><span class=3D"default">preg_match</span><=
span class=3D"keyword">(</span><span class=3D"string">"/.jpg/i"</span><s=
pan class=3D"keyword">, </span><span class=3D"string">"$pics"</span><spa=
n class=3D"keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=3D"default">=
header</span><span class=3D"keyword">(</span><span class=3D"string">'Con=
tent-type: image/jpeg'</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; if (</span><span class=3D"default">preg_match</span>=
<span class=3D"keyword">(</span><span class=3D"string">"/.gif/i"</span><=
span class=3D"keyword">, </span><span class=3D"string">"$pics"</span><sp=
an class=3D"keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=3D"default">=
header</span><span class=3D"keyword">(</span><span class=3D"string">'Con=
tent-type: image/gif'</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; } <br />
&nbsp;&nbsp; &nbsp; list(</span><span class=3D"default">$width</span><sp=
an class=3D"keyword">, </span><span class=3D"default">$height</span><spa=
n class=3D"keyword">) =3D </span><span class=3D"default">getimagesize</s=
pan><span class=3D"keyword">(</span><span class=3D"default">$pics</span>=
<span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; if(</span><span class=3D"default">$width </span><spa=
n class=3D"keyword">&gt; </span><span class=3D"default">$height </span><=
span class=3D"keyword">&amp;&amp; </span><span class=3D"default">$newhei=
ght </span><span class=3D"keyword">&lt; </span><span class=3D"default">$=
height</span><span class=3D"keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class=3D"default">$newheight </s=
pan><span class=3D"keyword">=3D </span><span class=3D"default">$height <=
/span><span class=3D"keyword">/ (</span><span class=3D"default">$width <=
/span><span class=3D"keyword">/ </span><span class=3D"default">$newwidth=
</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; } else if (</span><span class=3D"default">$width </s=
pan><span class=3D"keyword">&lt; </span><span class=3D"default">$height =
</span><span class=3D"keyword">&amp;&amp; </span><span class=3D"default"=
>$newwidth </span><span class=3D"keyword">&lt; </span><span class=3D"def=
ault">$width</span><span class=3D"keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class=3D"default">$newwidth </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">$width </s=
pan><span class=3D"keyword">/ (</span><span class=3D"default">$height </=
span><span class=3D"keyword">/ </span><span class=3D"default">$newheight=
</span><span class=3D"keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class=3D"default">$newwidth </sp=
an><span class=3D"keyword">=3D </span><span class=3D"default">$width</sp=
an><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class=3D"default">$newheight </s=
pan><span class=3D"keyword">=3D </span><span class=3D"default">$height</=
span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">preg_match</span><s=
pan class=3D"keyword">(</span><span class=3D"string">"/.jpg/i"</span><sp=
an class=3D"keyword">, </span><span class=3D"string">"$pics"</span><span=
 class=3D"keyword">)){<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$source </span><span c=
lass=3D"keyword">=3D </span><span class=3D"default">imagecreatefromjpeg<=
/span><span class=3D"keyword">(</span><span class=3D"default">$pics</spa=
n><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">preg_match</span><s=
pan class=3D"keyword">(</span><span class=3D"string">"/.jpeg/i"</span><s=
pan class=3D"keyword">, </span><span class=3D"string">"$pics"</span><spa=
n class=3D"keyword">)){<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$source </span><span c=
lass=3D"keyword">=3D </span><span class=3D"default">imagecreatefromjpeg<=
/span><span class=3D"keyword">(</span><span class=3D"default">$pics</spa=
n><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">preg_match</span><s=
pan class=3D"keyword">(</span><span class=3D"string">"/.jpeg/i"</span><s=
pan class=3D"keyword">, </span><span class=3D"string">"$pics"</span><spa=
n class=3D"keyword">)){<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$source </span><span c=
lass=3D"keyword">=3D </span><span class=3D"default">Imagecreatefromjpeg<=
/span><span class=3D"keyword">(</span><span class=3D"default">$pics</spa=
n><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">preg_match</span><s=
pan class=3D"keyword">(</span><span class=3D"string">"/.png/i"</span><sp=
an class=3D"keyword">, </span><span class=3D"string">"$pics"</span><span=
 class=3D"keyword">)){<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$source </span><span c=
lass=3D"keyword">=3D </span><span class=3D"default">imagecreatefrompng</=
span><span class=3D"keyword">(</span><span class=3D"default">$pics</span=
><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">preg_match</span><s=
pan class=3D"keyword">(</span><span class=3D"string">"/.gif/i"</span><sp=
an class=3D"keyword">, </span><span class=3D"string">"$pics"</span><span=
 class=3D"keyword">)){<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$source </span><span c=
lass=3D"keyword">=3D </span><span class=3D"default">imagecreatefromgif</=
span><span class=3D"keyword">(</span><span class=3D"default">$pics</span=
><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$thumb </span><span cl=
ass=3D"keyword">=3D </span><span class=3D"default">imagecreatetruecolor<=
/span><span class=3D"keyword">(</span><span class=3D"default">$newwidth<=
/span><span class=3D"keyword">, </span><span class=3D"default">$newheigh=
t</span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">imagecopyresized</span=
><span class=3D"keyword">(</span><span class=3D"default">$thumb</span><s=
pan class=3D"keyword">, </span><span class=3D"default">$source</span><sp=
an class=3D"keyword">, </span><span class=3D"default">0</span><span clas=
s=3D"keyword">, </span><span class=3D"default">0</span><span class=3D"ke=
yword">, </span><span class=3D"default">0</span><span class=3D"keyword">=
, </span><span class=3D"default">0</span><span class=3D"keyword">, </spa=
n><span class=3D"default">$newwidth</span><span class=3D"keyword">, </sp=
an><span class=3D"default">$newheight</span><span class=3D"keyword">, </=
span><span class=3D"default">$width</span><span class=3D"keyword">, </sp=
an><span class=3D"default">$height</span><span class=3D"keyword">);<br /=
>
&nbsp;&nbsp;&nbsp; return </span><span class=3D"default">imagejpeg</span=
><span class=3D"keyword">(</span><span class=3D"default">$thumb</span><s=
pan class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">preg_match</span><s=
pan class=3D"keyword">(</span><span class=3D"string">"/.jpg/i"</span><sp=
an class=3D"keyword">, </span><span class=3D"string">"$pics"</span><span=
 class=3D"keyword">)){<br />
&nbsp;&nbsp;&nbsp; return </span><span class=3D"default">imagejpeg</span=
><span class=3D"keyword">(</span><span class=3D"default">$thumb</span><s=
pan class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">preg_match</span><s=
pan class=3D"keyword">(</span><span class=3D"string">"/.jpeg/i"</span><s=
pan class=3D"keyword">, </span><span class=3D"string">"$pics"</span><spa=
n class=3D"keyword">)){<br />
&nbsp;&nbsp;&nbsp; return </span><span class=3D"default">imagejpeg</span=
><span class=3D"keyword">(</span><span class=3D"default">$thumb</span><s=
pan class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">preg_match</span><s=
pan class=3D"keyword">(</span><span class=3D"string">"/.jpeg/i"</span><s=
pan class=3D"keyword">, </span><span class=3D"string">"$pics"</span><spa=
n class=3D"keyword">)){<br />
&nbsp;&nbsp;&nbsp; return </span><span class=3D"default">imagejpeg</span=
><span class=3D"keyword">(</span><span class=3D"default">$thumb</span><s=
pan class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">preg_match</span><s=
pan class=3D"keyword">(</span><span class=3D"string">"/.png/i"</span><sp=
an class=3D"keyword">, </span><span class=3D"string">"$pics"</span><span=
 class=3D"keyword">)){<br />
&nbsp;&nbsp;&nbsp; return </span><span class=3D"default">imagepng</span>=
<span class=3D"keyword">(</span><span class=3D"default">$thumb</span><sp=
an class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">preg_match</span><s=
pan class=3D"keyword">(</span><span class=3D"string">"/.gif/i"</span><sp=
an class=3D"keyword">, </span><span class=3D"string">"$pics"</span><span=
 class=3D"keyword">)){<br />
&nbsp;&nbsp;&nbsp; return </span><span class=3D"default">imagegif</span>=
<span class=3D"keyword">(</span><span class=3D"default">$thumb</span><sp=
an class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;}<br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"50019"></a>
 <div class=3D"note">
  <strong class=3D'user'>smelban at smwebdesigns dot com</strong>
  <a href=3D"#50019" class=3D"date">15-Feb-2005 08:37</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
Resize image proportionaly where you give a max width or max height<br /=
>
<br />
<span class=3D"default">&lt;?php<br />
header</span><span class=3D"keyword">(</span><span class=3D"string">'Con=
tent-type: image/jpeg'</span><span class=3D"keyword">);<br />
</span><span class=3D"comment">//$myimage =3D resizeImage('filename', 'n=
ewwidthmax', 'newheightmax');<br />
</span><span class=3D"default">$myimage </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">resizeImage</span><span class=3D"keyword=
">(</span><span class=3D"string">'test.jpg'</span><span class=3D"keyword=
">, </span><span class=3D"string">'150'</span><span class=3D"keyword">, =
</span><span class=3D"string">'120'</span><span class=3D"keyword">);<br =
/>
print </span><span class=3D"default">$myimage</span><span class=3D"keywo=
rd">;<br />
<br />
function </span><span class=3D"default">resizeImage</span><span class=3D=
"keyword">(</span><span class=3D"default">$filename</span><span class=3D=
"keyword">, </span><span class=3D"default">$newwidth</span><span class=3D=
"keyword">, </span><span class=3D"default">$newheight</span><span class=3D=
"keyword">){<br />
&nbsp;&nbsp;&nbsp; list(</span><span class=3D"default">$width</span><spa=
n class=3D"keyword">, </span><span class=3D"default">$height</span><span=
 class=3D"keyword">) =3D </span><span class=3D"default">getimagesize</sp=
an><span class=3D"keyword">(</span><span class=3D"default">$filename</sp=
an><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class=3D"default">$width </span><span=
 class=3D"keyword">&gt; </span><span class=3D"default">$height </span><s=
pan class=3D"keyword">&amp;&amp; </span><span class=3D"default">$newheig=
ht </span><span class=3D"keyword">&lt; </span><span class=3D"default">$h=
eight</span><span class=3D"keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$newheig=
ht </span><span class=3D"keyword">=3D </span><span class=3D"default">$he=
ight </span><span class=3D"keyword">/ (</span><span class=3D"default">$w=
idth </span><span class=3D"keyword">/ </span><span class=3D"default">$ne=
wwidth</span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; } else if (</span><span class=3D"default">$width </sp=
an><span class=3D"keyword">&lt; </span><span class=3D"default">$height <=
/span><span class=3D"keyword">&amp;&amp; </span><span class=3D"default">=
$newwidth </span><span class=3D"keyword">&lt; </span><span class=3D"defa=
ult">$width</span><span class=3D"keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$newwidt=
h </span><span class=3D"keyword">=3D </span><span class=3D"default">$wid=
th </span><span class=3D"keyword">/ (</span><span class=3D"default">$hei=
ght </span><span class=3D"keyword">/ </span><span class=3D"default">$new=
height</span><span class=3D"keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$newwidt=
h </span><span class=3D"keyword">=3D </span><span class=3D"default">$wid=
th</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$newheig=
ht </span><span class=3D"keyword">=3D </span><span class=3D"default">$he=
ight</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$thumb </span><span cl=
ass=3D"keyword">=3D </span><span class=3D"default">imagecreatetruecolor<=
/span><span class=3D"keyword">(</span><span class=3D"default">$newwidth<=
/span><span class=3D"keyword">, </span><span class=3D"default">$newheigh=
t</span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$source </span><span c=
lass=3D"keyword">=3D </span><span class=3D"default">imagecreatefromjpeg<=
/span><span class=3D"keyword">(</span><span class=3D"default">$filename<=
/span><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">imagecopyresized</span=
><span class=3D"keyword">(</span><span class=3D"default">$thumb</span><s=
pan class=3D"keyword">, </span><span class=3D"default">$source</span><sp=
an class=3D"keyword">, </span><span class=3D"default">0</span><span clas=
s=3D"keyword">, </span><span class=3D"default">0</span><span class=3D"ke=
yword">, </span><span class=3D"default">0</span><span class=3D"keyword">=
, </span><span class=3D"default">0</span><span class=3D"keyword">, </spa=
n><span class=3D"default">$newwidth</span><span class=3D"keyword">, </sp=
an><span class=3D"default">$newheight</span><span class=3D"keyword">, </=
span><span class=3D"default">$width</span><span class=3D"keyword">, </sp=
an><span class=3D"default">$height</span><span class=3D"keyword">);<br /=
>
&nbsp;&nbsp;&nbsp; return </span><span class=3D"default">imagejpeg</span=
><span class=3D"keyword">(</span><span class=3D"default">$thumb</span><s=
pan class=3D"keyword">);<br />
}<br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"49948"></a>
 <div class=3D"note">
  <strong class=3D'user'>finnsi at centrum dot is</strong>
  <a href=3D"#49948" class=3D"date">13-Feb-2005 05:30</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
If you need to delete or resize images in the filesystem (not in DB) wit=
hout loosing the image quality...<br />
I commented the code as much as possible so that newbies (like myself) w=
ill understand it.&nbsp; ;)<br />
<br />
<span class=3D"default">&lt;?php <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"comment">/* <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; WRITTEN BY:<br />
&nbsp;&nbsp;&nbsp; Finnur Eiriksson, (<a href=3D"http://www.centrum.is/f=
innsi" rel=3D"nofollow" target=3D"_blank">http://www.centrum.is/finnsi</=
a>)<br />
&nbsp;&nbsp;&nbsp; Based on snippets that have been posted on www.PHP.ne=
t<br />
&nbsp;&nbsp;&nbsp; Drop me an e-mail if you have any questions.<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; NOTE:<br />
&nbsp;&nbsp;&nbsp; This code is written to either delete or resize pictu=
res in the file system, so if you have your pictures in a database<br />=

&nbsp;&nbsp;&nbsp; you will have to make some changes. Also, if you are =
using other picture formats than .gif's or .jpg's you<br />
&nbsp;&nbsp;&nbsp; will have to add som code as well (Read the comments =
to find out where to do this).<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; IMPORTANT:&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; The $_GET['resizepic'] variable only contains the NAM=
E of the file that is going to be deleted/resized. <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; The internet guest account (IUSR_SERVERNAME on WINDOW=
S) must have read and write permissions (execution permission not needed=
) <br />
&nbsp;&nbsp;&nbsp; in your image directory (i.e. $dir_name =3D "FooBar")=
. It is a good idea to have a separate directory for images that users <=
br />
&nbsp;&nbsp;&nbsp; can upload to and manipulate the contents. Ideally, y=
ou should have one directory for the pictures that are used for the webs=
ite,<br />
&nbsp;&nbsp;&nbsp; and another upload directory <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$dir_name </span><span=
 class=3D"keyword">=3D </span><span class=3D"string">"FooBar"</span><spa=
n class=3D"keyword">;&nbsp; </span><span class=3D"comment">// Enter the =
name of the directory that contains the images<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$olddir </span><span c=
lass=3D"keyword">=3D </span><span class=3D"default">getcwd</span><span c=
lass=3D"keyword">();&nbsp; </span><span class=3D"comment">// Get the Cur=
rent Windows Directory to be able to switch back in the end of the scrip=
t<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$dir </span><span clas=
s=3D"keyword">=3D </span><span class=3D"default">opendir</span><span cla=
ss=3D"keyword">(</span><span class=3D"default">$dir_name</span><span cla=
ss=3D"keyword">); </span><span class=3D"comment">//make a directory hand=
le<br />
&nbsp;&nbsp;&nbsp; //To delete a picture<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"keyword">if(isset(</span><span =
class=3D"default">$_GET</span><span class=3D"keyword">[</span><span clas=
s=3D"string">'delpic'</span><span class=3D"keyword">])){ <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">chdir</s=
pan><span class=3D"keyword">(</span><span class=3D"string">'images'</spa=
n><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$delpic =
</span><span class=3D"keyword">=3D </span><span class=3D"default">$_GET<=
/span><span class=3D"keyword">[</span><span class=3D"string">'delpic'</s=
pan><span class=3D"keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; @</span><span class=3D"default">unlink<=
/span><span class=3D"keyword">(</span><span class=3D"default">$delpic</s=
pan><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">chdir</s=
pan><span class=3D"keyword">(</span><span class=3D"default">$olddir</spa=
n><span class=3D"keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"comment">//To resize a picture<=
br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"keyword">if(isset(</span><span =
class=3D"default">$_GET</span><span class=3D"keyword">[</span><span clas=
s=3D"string">'resize'</span><span class=3D"keyword">])){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">//$_GET[=
'resize'] contains the resize-percentage (for example 80 and 40, for 80%=
 and 40% respectively. To double the image in size the user enters 200 e=
tc.)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // File and new size<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$percent=
 </span><span class=3D"keyword">=3D (</span><span class=3D"default">$_GE=
T</span><span class=3D"keyword">[</span><span class=3D"string">'resize'<=
/span><span class=3D"keyword">]/</span><span class=3D"default">100</span=
><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">chdir</s=
pan><span class=3D"keyword">(</span><span class=3D"string">'images'</spa=
n><span class=3D"keyword">);</span><span class=3D"comment">// change the=
 windows directory to the image directory<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$filenam=
e </span><span class=3D"keyword">=3D </span><span class=3D"default">$_GE=
T</span><span class=3D"keyword">[</span><span class=3D"string">'resizepi=
c'</span><span class=3D"keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"comment">// Decid=
e the content type, NB:This code is written to only execute on .gif's an=
d .jpg's<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // If you want other formats than .gif'=
s and .jpg's add your code here, in the same manner:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$format<=
/span><span class=3D"keyword">=3D</span><span class=3D"string">''</span>=
<span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class=3D"default">preg_=
match</span><span class=3D"keyword">(</span><span class=3D"string">"/.jp=
g/i"</span><span class=3D"keyword">, </span><span class=3D"string">"$fil=
ename"</span><span class=3D"keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$format </span><span class=3D"keyword">=3D </span><span class=3D"s=
tring">'image/jpeg'</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">header</span><span class=3D"keyword">(</span><span class=3D"string=
">'Content-type: image/jpeg'</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class=3D"default">preg=
_match</span><span class=3D"keyword">(</span><span class=3D"string">"/.g=
if/i"</span><span class=3D"keyword">, </span><span class=3D"string">"$fi=
lename"</span><span class=3D"keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$format </span><span class=3D"keyword">=3D </span><span class=3D"s=
tring">'image/gif'</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">header</span><span class=3D"keyword">(</span><span class=3D"string=
">'Content-type: image/gif'</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class=3D"default">$form=
at</span><span class=3D"keyword">!=3D</span><span class=3D"string">''</s=
pan><span class=3D"keyword">){&nbsp; </span><span class=3D"comment">//Th=
is is where the actual resize process begins...<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Get new sizes<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"key=
word">list(</span><span class=3D"default">$width</span><span class=3D"ke=
yword">, </span><span class=3D"default">$height</span><span class=3D"key=
word">) =3D </span><span class=3D"default">getimagesize</span><span clas=
s=3D"keyword">(</span><span class=3D"default">$filename</span><span clas=
s=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$newwidth </span><span class=3D"keyword">=3D </span><span class=3D=
"default">$width </span><span class=3D"keyword">* </span><span class=3D"=
default">$percent</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$newheight </span><span class=3D"keyword">=3D </span><span class=3D=
"default">$height </span><span class=3D"keyword">* </span><span class=3D=
"default">$percent</span><span class=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"com=
ment">// Load the image<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"key=
word">switch(</span><span class=3D"default">$format</span><span class=3D=
"keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span=
><span class=3D"string">'image/jpeg'</span><span class=3D"keyword">:<br =
/>
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbs=
p; </span><span class=3D"default">$source </span><span class=3D"keyword"=
>=3D </span><span class=3D"default">imagecreatefromjpeg</span><span clas=
s=3D"keyword">(</span><span class=3D"default">$filename</span><span clas=
s=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br /=
>
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span=
><span class=3D"string">'image/gif'</span><span class=3D"keyword">;<br /=
>
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbs=
p; </span><span class=3D"default">$source </span><span class=3D"keyword"=
>=3D </span><span class=3D"default">imagecreatefromgif</span><span class=
=3D"keyword">(</span><span class=3D"default">$filename</span><span class=
=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br /=
>
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"com=
ment">//Get the Image<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$thumb </span><span class=3D"keyword">=3D </span><span class=3D"de=
fault">imagecreatetruecolor</span><span class=3D"keyword">(</span><span =
class=3D"default">$newwidth</span><span class=3D"keyword">,</span><span =
class=3D"default">$newheight</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"com=
ment">//This must be set to false in order to be able to overwrite the b=
lack <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //pixels in the backgroun=
d with transparent pixels. Otherwise the new <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //pixels would just be ap=
plied on top of the black background.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">imagealphablending</span><span class=3D"keyword">(</span><span cla=
ss=3D"default">$thumb</span><span class=3D"keyword">, </span><span class=
=3D"default">false</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"com=
ment">//Make a temporary file handle<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">$source </span><span class=3D"keyword">=3D @</span><span class=3D"=
default">imagecreatefromjpeg</span><span class=3D"keyword">(</span><span=
 class=3D"default">$filename</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"com=
ment">// Resize<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">imagecopyresized</span><span class=3D"keyword">(</span><span class=
=3D"default">$thumb</span><span class=3D"keyword">, </span><span class=3D=
"default">$source</span><span class=3D"keyword">, </span><span class=3D"=
default">0</span><span class=3D"keyword">, </span><span class=3D"default=
">0</span><span class=3D"keyword">, </span><span class=3D"default">0</sp=
an><span class=3D"keyword">, </span><span class=3D"default">0</span><spa=
n class=3D"keyword">, </span><span class=3D"default">$newwidth</span><sp=
an class=3D"keyword">, </span><span class=3D"default">$newheight</span><=
span class=3D"keyword">, </span><span class=3D"default">$width</span><sp=
an class=3D"keyword">, </span><span class=3D"default">$height</span><spa=
n class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"com=
ment">//Write the image to the destination file<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"key=
word">@</span><span class=3D"default">imagejpeg</span><span class=3D"key=
word">(</span><span class=3D"default">$thumb</span><span class=3D"keywor=
d">, </span><span class=3D"default">$filename</span><span class=3D"keywo=
rd">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"com=
ment">//Change back to the old directory... I'm not sure that this is ne=
ccessary<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">chdir</span><span class=3D"keyword">(</span><span class=3D"default=
">$olddir</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"com=
ment">//Specify where you want the user to go after the operation:<br />=

&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"def=
ault">header</span><span class=3D"keyword">(</span><span class=3D"string=
">'Location: foobar.php'</span><span class=3D"keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"49869"></a>
 <div class=3D"note">
  <strong class=3D'user'>thomas at dermueller dot com</strong>
  <a href=3D"#49869" class=3D"date">10-Feb-2005 01:23</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
Just in addition to the script posted by marcy DOT xxx (AT) gmail.com:<b=
r />
<br />
There is one error in this script, that's why it didn't work for me.<br =
/>
<br />
Instead of this line:<br />
$source =3D @function_image_create($imgfile);<br />
<br />
use this line:<br />
$source =3D @$function_image_create($imgfile);</span>
</code></div>
  </div>
 </div>
 <a name=3D"48632"></a>
 <div class=3D"note">
  <strong class=3D'user'>marcy DOT xxx (AT) gmail.com</strong>
  <a href=3D"#48632" class=3D"date">02-Jan-2005 11:06</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
This example allow to use every kind of image and to resize images with =
ImageCopyResized(), maintaining proportions..<br />
<br />
<span class=3D"default">&lt;?php<br />
</span><span class=3D"comment">// switch to find the correct type of fun=
ction<br />
<br />
</span><span class=3D"default">$imgfile </span><span class=3D"keyword">=3D=
 </span><span class=3D"string">'namefile.jpg'</span><span class=3D"keywo=
rd">;<br />
</span><span class=3D"default">Header</span><span class=3D"keyword">(</s=
pan><span class=3D"string">"Content-type: image/"</span><span class=3D"k=
eyword">.</span><span class=3D"default">$_GET</span><span class=3D"keywo=
rd">[</span><span class=3D"string">"type"</span><span class=3D"keyword">=
]);<br />
<br />
switch(</span><span class=3D"default">$_GET</span><span class=3D"keyword=
">[</span><span class=3D"string">"type"</span><span class=3D"keyword">])=
{<br />
default:<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$function_image_create=
 </span><span class=3D"keyword">=3D </span><span class=3D"string">"Image=
CreateFromJpeg"</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$function_image_new </=
span><span class=3D"keyword">=3D </span><span class=3D"string">"ImageJpe=
g"</span><span class=3D"keyword">;<br />
break;<br />
case </span><span class=3D"string">"jpg"</span><span class=3D"keyword">:=
<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$function_image_create=
 </span><span class=3D"keyword">=3D </span><span class=3D"string">"Image=
CreateFromJpeg"</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$function_image_new </=
span><span class=3D"keyword">=3D </span><span class=3D"string">"ImageJpe=
g"</span><span class=3D"keyword">;<br />
case </span><span class=3D"string">"jpeg"</span><span class=3D"keyword">=
:<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$function_image_create=
 </span><span class=3D"keyword">=3D </span><span class=3D"string">"Image=
CreateFromJpeg"</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$function_image_new </=
span><span class=3D"keyword">=3D </span><span class=3D"string">"ImageJpe=
g"</span><span class=3D"keyword">;<br />
break;<br />
case </span><span class=3D"string">"png"</span><span class=3D"keyword">:=
<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$function_image_create=
 </span><span class=3D"keyword">=3D </span><span class=3D"string">"Image=
CreateFromPng"</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$function_image_new </=
span><span class=3D"keyword">=3D </span><span class=3D"string">"ImagePNG=
"</span><span class=3D"keyword">;<br />
break;<br />
case </span><span class=3D"string">"gif"</span><span class=3D"keyword">:=
<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$function_image_create=
 </span><span class=3D"keyword">=3D </span><span class=3D"string">"Image=
CreateFromGif"</span><span class=3D"keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class=3D"default">$function_image_new </=
span><span class=3D"keyword">=3D </span><span class=3D"string">"ImagePNG=
"</span><span class=3D"keyword">;<br />
break;<br />
}<br />
<br />
list(</span><span class=3D"default">$width</span><span class=3D"keyword"=
>, </span><span class=3D"default">$height</span><span class=3D"keyword">=
) =3D </span><span class=3D"default">getimagesize</span><span class=3D"k=
eyword">(</span><span class=3D"default">$imgfile</span><span class=3D"ke=
yword">);<br />
<br />
</span><span class=3D"comment">// the new weight of the thumb<br />
<br />
</span><span class=3D"default">$newheight </span><span class=3D"keyword"=
>=3D </span><span class=3D"default">80</span><span class=3D"keyword">;<b=
r />
<br />
</span><span class=3D"comment">// Proportion is maintained<br />
<br />
</span><span class=3D"default">$newwidth </span><span class=3D"keyword">=
=3D (int) ((</span><span class=3D"default">$width</span><span class=3D"k=
eyword">*</span><span class=3D"default">80</span><span class=3D"keyword"=
>)/</span><span class=3D"default">$height</span><span class=3D"keyword">=
);<br />
<br />
</span><span class=3D"default">$thumb </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">ImageCreateTrueColor</span><span class=3D=
"keyword">(</span><span class=3D"default">$newwidth</span><span class=3D=
"keyword">,</span><span class=3D"default">$newheight</span><span class=3D=
"keyword">);<br />
</span><span class=3D"default">$source </span><span class=3D"keyword">=3D=
 @</span><span class=3D"default">function_image_create</span><span class=
=3D"keyword">(</span><span class=3D"default">$imgfile</span><span class=3D=
"keyword">);<br />
<br />
</span><span class=3D"default">ImageCopyResized</span><span class=3D"key=
word">(</span><span class=3D"default">$thumb</span><span class=3D"keywor=
d">, </span><span class=3D"default">$source</span><span class=3D"keyword=
">, </span><span class=3D"default">0</span><span class=3D"keyword">, </s=
pan><span class=3D"default">0</span><span class=3D"keyword">, </span><sp=
an class=3D"default">0</span><span class=3D"keyword">, </span><span clas=
s=3D"default">0</span><span class=3D"keyword">, </span><span class=3D"de=
fault">$newwidth</span><span class=3D"keyword">, </span><span class=3D"d=
efault">$newheight</span><span class=3D"keyword">, </span><span class=3D=
"default">$width</span><span class=3D"keyword">, </span><span class=3D"d=
efault">$height</span><span class=3D"keyword">);<br />
<br />
@</span><span class=3D"default">$function_image_new</span><span class=3D=
"keyword">(</span><span class=3D"default">$thumb</span><span class=3D"ke=
yword">);<br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"48155"></a>
 <div class=3D"note">
  <strong class=3D'user'>backglancer at hotmail</strong>
  <a href=3D"#48155" class=3D"date">13-Dec-2004 07:10</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
Neat script to create a thumbnails no larger than 150 (or user-specific)=
 height AND width.<br />
<br />
<span class=3D"default">&lt;?PHP<br />
$picture </span><span class=3D"keyword">=3D</span><span class=3D"string"=
>"" </span><span class=3D"comment"># picture fileNAME here. not address<=
br />
</span><span class=3D"default">$max</span><span class=3D"keyword">=3D</s=
pan><span class=3D"default">150</span><span class=3D"keyword">;&nbsp; &n=
bsp; </span><span class=3D"comment"># maximum size of 1 side of the pict=
ure.<br />
/*<br />
here you can insert any specific "if-else",<br />
or "switch" type of detector of what type of picture this is.<br />
in this example i'll use standard JPG<br />
*/<br />
<br />
</span><span class=3D"default">$src_img</span><span class=3D"keyword">=3D=
</span><span class=3D"default">ImagecreateFromJpeg</span><span class=3D"=
keyword">(</span><span class=3D"default">$picture</span><span class=3D"k=
eyword">);<br />
<br />
</span><span class=3D"default">$oh </span><span class=3D"keyword">=3D </=
span><span class=3D"default">imagesy</span><span class=3D"keyword">(</sp=
an><span class=3D"default">$src_img</span><span class=3D"keyword">);&nbs=
p; </span><span class=3D"comment"># original height<br />
</span><span class=3D"default">$ow </span><span class=3D"keyword">=3D </=
span><span class=3D"default">imagesx</span><span class=3D"keyword">(</sp=
an><span class=3D"default">$src_img</span><span class=3D"keyword">);&nbs=
p; </span><span class=3D"comment"># original width<br />
<br />
</span><span class=3D"default">$new_h </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">$oh</span><span class=3D"keyword">;<br /=
>
</span><span class=3D"default">$new_w </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">$ow</span><span class=3D"keyword">;<br /=
>
<br />
if(</span><span class=3D"default">$oh </span><span class=3D"keyword">&gt=
; </span><span class=3D"default">$max </span><span class=3D"keyword">|| =
</span><span class=3D"default">$ow </span><span class=3D"keyword">&gt; <=
/span><span class=3D"default">$max</span><span class=3D"keyword">){<br /=
>
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$r </spa=
n><span class=3D"keyword">=3D </span><span class=3D"default">$oh</span><=
span class=3D"keyword">/</span><span class=3D"default">$ow</span><span c=
lass=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$new_h <=
/span><span class=3D"keyword">=3D (</span><span class=3D"default">$oh </=
span><span class=3D"keyword">&gt; </span><span class=3D"default">$ow</sp=
an><span class=3D"keyword">) ? </span><span class=3D"default">$max </spa=
n><span class=3D"keyword">: </span><span class=3D"default">$max</span><s=
pan class=3D"keyword">*</span><span class=3D"default">$r</span><span cla=
ss=3D"keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class=3D"default">$new_w <=
/span><span class=3D"keyword">=3D </span><span class=3D"default">$new_h<=
/span><span class=3D"keyword">/</span><span class=3D"default">$r</span><=
span class=3D"keyword">;<br />
}<br />
</span><span class=3D"comment">// note TrueColor does 256 and not.. 8<br=
 />
</span><span class=3D"default">$dst_img </span><span class=3D"keyword">=3D=
 </span><span class=3D"default">ImageCreateTrueColor</span><span class=3D=
"keyword">(</span><span class=3D"default">$new_w</span><span class=3D"ke=
yword">,</span><span class=3D"default">$new_h</span><span class=3D"keywo=
rd">);<br />
<br />
</span><span class=3D"default">ImageCopyResized</span><span class=3D"key=
word">(</span><span class=3D"default">$dst_img</span><span class=3D"keyw=
ord">, </span><span class=3D"default">$src_img</span><span class=3D"keyw=
ord">, </span><span class=3D"default">0</span><span class=3D"keyword">,<=
/span><span class=3D"default">0</span><span class=3D"keyword">,</span><s=
pan class=3D"default">0</span><span class=3D"keyword">,</span><span clas=
s=3D"default">0</span><span class=3D"keyword">, </span><span class=3D"de=
fault">$new_w</span><span class=3D"keyword">, </span><span class=3D"defa=
ult">$new_h</span><span class=3D"keyword">, </span><span class=3D"defaul=
t">ImageSX</span><span class=3D"keyword">(</span><span class=3D"default"=
>$src_img</span><span class=3D"keyword">), </span><span class=3D"default=
">ImageSY</span><span class=3D"keyword">(</span><span class=3D"default">=
$src_img</span><span class=3D"keyword">));<br />
<br />
</span><span class=3D"default">ImageJpeg</span><span class=3D"keyword">(=
</span><span class=3D"default">$dst_img</span><span class=3D"keyword">, =
</span><span class=3D"string">"th_$picture"</span><span class=3D"keyword=
">);<br />
<br />
</span><span class=3D"default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name=3D"9855"></a>
 <div class=3D"note">
  <strong class=3D'user'>skurrilo at skurrilo dot de</strong>
  <a href=3D"#9855" class=3D"date">28-Nov-2000 07:36</a>
  <div class=3D"text">
<div class=3D"phpcode"><code><span class=3D"html">
If you aren't happy with the quality of the resized images, just give Im=
ageMagick a try. (<a href=3D"http://www.imagemagick.org" rel=3D"nofollow=
" target=3D"_blank">http://www.imagemagick.org</a>) This is a commandlin=
e tool for converting and viewing images.</span>
</code></div>
  </div>
 </div></div>

 <div class=3D"foot"><a href=3D"/manual/add-note.php?sect=3Dfunction.ima=
gecopyresized&amp;redirect=3Dhttp://www.php.net/manual/en/function.image=
copyresized.php"><img src=3D"http://static.php.net/www.php.net/images/no=
tes-add.gif" alt=3D"add a note" width=3D"13" height=3D"13" class=3D"midd=
le" /></a> <small><a href=3D"/manual/add-note.php?sect=3Dfunction.imagec=
opyresized&amp;redirect=3Dhttp://www.php.net/manual/en/function.imagecop=
yresized.php">add a note</a></small></div>
</div><br />
 </div>
 <div class=3D"cleaner">&nbsp;</div>
</div>

<div id=3D"footnav">
   <a href=3D"/source.php?url=3D/manual/en/function.imagecopyresized.php=
">show source</a> |
 <a href=3D"/credits.php">credits</a> |
 <a href=3D"/stats/">stats</a> |
 <a href=3D"/sitemap.php">sitemap</a> |
 <a href=3D"/contact.php">contact</a> |
 <a href=3D"/contact.php#ads">advertising</a> |
 <a href=3D"/mirrors.php">mirror sites</a>
</div>

<div id=3D"pagefooter">
 <div id=3D"copyright">
  <a href=3D"/copyright.php">Copyright &copy; 2001-2012 The PHP Group</a=
><br />
  All rights reserved.
 </div>

 <div id=3D"thismirror">
  <a href=3D"/mirror.php">This mirror</a> generously provided by:
  <a href=3D"http://developer.yahoo.com/">Yahoo! Inc.</a><br />
  Last updated: Wed Jun 27 16:01:19 2012 UTC
 </div>
</div>
<!--[if IE 6]>
<script type=3D"text/javascript">
    /*Load jQuery if not already loaded*/ if(typeof jQuery =3D=3D 'undef=
ined'){ document.write("<script type=3D\"text/javascript\"   src=3D\"htt=
p://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"></"+"scri=
pt>"); var __noconflict =3D true; }
    var IE6UPDATE_OPTIONS =3D {
        icons_path: "/ie6update/images/"
    }
</script>
<script type=3D"text/javascript" src=3D"/ie6update/ie6update.js"></scrip=
t>
<![endif]-->
</body>
</html>
------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline
Content-Type: text/css; charset=utf-8
Content-Location: http://static.php.net/www.php.net/styles/site.css
Content-Transfer-Encoding: 8bit

/* General page styles ---------------------------------------------------- */
body, html {
	margin: 0px;
	padding: 0px;
	color: black;
	background-color: white;
}

body, input, textarea, select, option {
	font-family: verdana, arial, helvetica, sans-serif;
}
code, pre, tt {
	font-family: Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console",  Monaco, "Courier New", Courier, monospace;
}
tt.parameter, code.parameter {
	font-style: italic;
}
pre {
	background-color: #ddd;
}

#content, #headmenu, #footnav, #copyright, #thismirror,
#headsearch span, #headsearch input, #headsearch select {
	font-size: 85%;
}

a, a:visited, a:hover {
	color: #000099;
	background-color: transparent;
}

a:active {
	color: #0000ff;
	background-color: transparent;
}

h1, h2, h3, h4 {
	font-weight: bold;
	color: #000066;
	background-color: transparent;
}
h1 { font-size: 130%; }
h2 { font-size: 125%; }
h3 { font-size: 110%; }
h4 { font-size: 100%; }

/* browsers handle this differently
input.max, textarea.max, select.max {
	width: 100%;
}
*/

img {
	border: 0px;
}
img.middle {
	vertical-align: middle;
}

/* {{{ The "latest releases" box on the top right */
#releaseBox, #candidateBox {
	border : 1px dotted #999;
	margin : 0 0 5px 0;
	padding: 2px;
}
#releaseBox h4, #candidateBox h4 {
	border: 1px solid #000;
	border-width: 0px 1px 1px 0px;
	background-color: #d3d3d3;
	margin : 0;
	padding: 2px;
}
#releaseBox h4 {
/*	color: #080; */
}
#candidateBox h4 {
/*	color: #C70; */
}
ol#releases, ol#candidates {
	margin : 0;
	padding: 0 1px 0 2px;
	background-color: white;
	border-bottom: 1px solid white;
}
ol#releases li, ol#candidates li{
	list-style-type: none;
	font-size: .9em;
}
ol#releases li span.release {
	font-weight: bold;
}
/* }}} */

/* {{{ Errors, warning, tips classes */
p.formerror, p.warn {
	border: 1px solid #666600;
	color: #660000;
	background-color: #ffeeee;
	margin: 4px;
	padding: 6px;
}

/* Manual warnings/cautions/tips */
div.warning , div.caution, div.tip, div.information {
	margin: 20px;
	padding: 20px 30px;
	text-align: center;
}
div.warning, div.tip {
	background-repeat: no-repeat;
	padding-left: 92px;
	background-position: center left;
}
div.warning p, div.caution p, div.tip p, div.information p {
	text-align: justify;
}
div.tip {
	border: 1px solid #00c;
	color: #006;
	background-color: #eef;
}
div.warning {
	border: 1px solid #660;
	color: #600;
	background-color: #fee;
}
div.information {
	border: 1px solid #00c;
	color: #006;
	background-color: #eef;
}
div.caution {
	border: 1px solid #333;
	color: #333;
	background-color: #ffc;
}
#leftbar div.tip, #leftbar div.information {
	margin: 0;
	padding: 5px;
	text-align: left;
}
#leftbar div.tip p, #leftbar div.information p {
	text-align: left;
}

/* FIXME: Remove when the new XSL build has finished */
div.warning table, div.warning table tr, div.warning table td,
div.caution table, div.caution table tr, div.caution table td {
	border: 0;
}
/* }}} */

hr {
	border: 0px;
	color: black;
	background-color: black;
	height: 1px;
	/* clear: both; has problems in IE and Opera */
}

.center {
	text-align: center;
}
.center table {
	margin-left: auto;
	margin-right: auto;
	text-align: left;
}
.center th {
	text-align: center;
}

.newsdate {
	font-size: smaller;
	font-style: italic;
	color: #6666cc;
	background-color: transparent;
}
div.newsItem .newsdate {
	float:left;
	margin-right: 10px;
}

div.indent {
	margin-left: 50px;
}

li {
	padding-top: 3px;
	padding-bottom: 3px;
}
/* Don't overwrite ordered lists */
ul li {
	list-style-type: square;
}

em {
	font-weight: bold;
	font-style: italic;
}

ul.simple {
	padding-left: 8px;
	margin: 0 0 1em 0;
}
ul.simple li {
	padding: 0px;
	list-style-type: none;
}

.md5sum {
	color: #6666cc;
	background-color: transparent;
}

/* Used for manual page toc wrapping */
.w {
    font-size: 0;
}

/* Content are styles ----------------------------------------------------- */
#content {
	padding: 10px;
}
#content h1 {
	margin-top: 0px;
}

/* 3px IE bug hack hidden from IE5-mac \*/
* html #content { height: 1%; }
/* End hide from IE5-mac */ 

/* Layout styling and helpers --------------------------------------------- */
#layout_2, #layout_3 {
	/* Background image will be set in a mirror specific CSS rule */
	background-position: top left;
	background-repeat: repeat-y;
}
#layout_3_helper {
	/* Background image will be set in a mirror specific CSS rule */
	background-position: top right;
	background-repeat: repeat-y;
}

.cleaner {
	clear: both;
	height: 1px;
	font-size: 1px;
}

#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
#conferencesSidebar {
	float: left;
	width: 300px;
	border-right: 1px dotted #000;
	padding: 0 0 0 5px;
	background-color: #efefef;
	font-size: smaller;
}

/* {{{ Latest conference announcements on the frontpage */
#confTeaser {
	border: 1px dotted #999;
	padding: 10px 0;
	margin: 0;
	background-color: #eee;
	font-size: small;
}

#confTeaser p {
	display: inline;
}

#confTeaser ul {
	margin: 0;
	padding: 0;
	display: inline;
}

#confTeaser ul li {
	background-color: #eee;
	padding: 0 2px;
	margin: 0;
	display: inline;
}
/* }}} */

#leftbar p, #leftbar h3, #rightbar p, #rightbar h3 {
	margin-top: 0;
	margin-bottom: 1em;
}
#rightbar {
	float: right;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}

#rightbar h3 {
	font-size: small;
}

#layout_1 #content.conferences {
	margin-left: 310px;
}
#layout_2 #content, #layout_3 #content {
	margin-left: 196px;
}
#layout_3 #content {
	margin-right: 196px;
}

/* Header navigation area ------------------------------------------------- */
#headnav {
	color: inherit;
	background-color: #9999cc;
	height: 67px;
	position: relative;
}
#headnav img {
	border: 0px;
	margin: 0px 3px;
}
#headmenu {
	position: absolute;
	bottom: 0px;
	right: 5px;
	text-align: right;
	padding-left: 126px;
}
#headsearch {
	background-color: #666699;
	border-width: 1px 0px;
	border-color: #333366;
	border-style: solid;
	text-align: right;
	padding-right: 6px;
	font-size: 75%;
	color: white;
}
#headsearch input.submit {
	vertical-align: baseline;
}
#headsearch form, #headsearch p {
	margin: 0px;
}
#headsearch span.shortkey {
	text-decoration: underline;
	font-size: 100%;
}

/* Footer navigation area ------------------------------------------------- */
#footnav {
	color: inherit;
	background-color: #9999cc;
	border-width: 1px 0px;
	border-color: #333366;
	border-style: solid;
	text-align: right;
	padding-right: 6px;
}
#pagefooter {
	position: relative;
	font-size: 75%;
	color: inherit;
	background-color: #cccccc;
	width: 100%;
}
#thismirror {
	text-align: right;
	margin-left: 50%;
	padding: 6px;
}
#copyright {
	position: absolute;
	top: 0px;
	left: 0px;
	padding: 6px;
	margin-right: 30%;
}
#footnav a, #headmenu a {
	font-size: 75%;
	text-decoration: none;
}

/* Credits page styles ---------------------------------------------------- */
.e {
	background-color: #ccccff;
	color: inherit;
	font-weight: bold;
}
.h {
	background-color: #9999cc;
	color: inherit;
	font-weight: bold;
}
.v, .vr {
	background-color: #cccccc;
	color: inherit;
}
.vr {
	text-align: right;
}

/* PHP source code highlighting ------------------------------------------- */
.phpcode, div.classsynopsis {
	padding: 0.5em;
	text-align: left;
}
div.phpcode span.html {
	color: black;
	background-color: transparent;
}
div.phpcode span.comment, div.classsynopsisinfo_comment {
	color: #FF8000;
	background-color: transparent;
}
div.classsynopsisinfo_comment {
	font-weight: bold;
}
div.phpcode span.default {
	color: #0000BB;
	background-color: transparent;
}
div.phpcode span.keyword {
	color: #007700;
	background-color: transparent;
}
div.phpcode span.string {
	color: #DD0000;
	background-color: transparent;
}

/* XML source code highlighting ------------------------------------------- */
div.xmlcode span.attributes {
	color: #333366;
	background-color: transparent;
}
div.xmlcode span.cdata {
	color: #990000;
	background-color: transparent;
}
div.xmlcode span.comment {
	color: #666666;
	background-color: transparent;
}
div.xmlcode span.tags {
	color: #000066;
	background-color: transparent;
}
div.xmlcode span.keyword {
	color: #cc6600;
	background-color: transparent;
}
div.xmlcode span.string {
	color: #006600;
	background-color: transparent;
}

.refentry table td {
	text-indent: 5px;
}

/* Standard tables -------------------------------------------------------- */
table.standard td {
	background-color: #eeeeee;
	color: inherit;
}
table.standard th {
	background-color: #cccccc;
	color: inherit;
}
table.standard td.highlight {
	background-color: #ffffcc;
	color: inherit;
}
table.standard td.sub, table.standard th.sub,
table.standard th.subr, table.standard th.subl {
	background-color: #dddddd;
	color: inherit;
}
table.standard th.subr {
	text-align: right;
	vertical-align: top;
}
table.standard th.subl {
	text-align: left;
	vertical-align: top;
}

/* Mirror listing tables -------------------------------------------------- */
table.mirrors td {
	background-color: #eeeeee;
	color: inherit;
	font-size: smaller;
}
table.mirrors th {
	background-color: #cccccc;
	color: inherit;
}
table.mirrors th.ch {
	text-align: left; 
}
table.mirrors th img {
	border: 1px solid #000000;
}
table.mirrors th.flag {
	width: 45px;
}
table.mirrors tr.this td {
	background-color: #ffffcc;
	color: inherit;
}
table.mirrors td.caret {
	text-align: right;
	background-color: white !important;
	color: inherit;
}

/* Calendar table --------------------------------------------------------- */
table#cal {
	font-size: smaller;
	background-color: #a0a0a0;
	color: inherit;
}
table#cal td {
	background-color: #f0f0f0;
	color: inherit;
	vertical-align: top;
}
table#cal a {
	text-decoration: none;
}
table#cal a:hover {
	text-decoration: underline;
}
table#cal a.day {
	float: right;
	font-weight: bold;
	color: #666666;
	background-color: transparent;
}
table#cal div.event {
	margin-bottom: 2px;
	padding-bottom: 2px;
	border-bottom: 1px dashed #000000;
}
table#calnav td, table#cal td.notaday {
	background-color: #d0d0d0;
	color: inherit;
}
table#cal a.cat1 {
	color: green;
	background-color: transparent;
}
table#cal a.cat3 {
	color: black;
	background-color: transparent;
}

/* Logos table ------------------------------------------------------------ */
table#logos {
	background-color: #f0f0f0;
	color: inherit;
}
table#logos td {
	vertical-align: middle;
}
table#logos td.logo, table#logos td.logob {
	text-align: center;
	width: 33%;
	background-color: #ffffff;
	color: inherit;
}
table#logos td.logob {
	background-color: #000000;
	color: inherit;
}
table#logos td.star {
	width: 20px;
}
span.star {
	font-size: 1.5em;
	font-weight: bold;
	color: #6868cd;
}
table#logos td ul {
	padding-left: 15px;
	list-style-type: square;
}

/* PHP Manual table ------------------------------------------------------- */
table.doctable, table.informaltable { 
   border: 0px; 
}
table.doctable td, table.doctable th, table.doctable caption,
table.informaltable td, table.informaltable th, table.informaltable caption { 
   padding: 5px;
}
table.doctable thead th, table.informaltable thead th { 
   background-color: #9999CC;
}
table.doctable tbody td, table.informaltable tbody td {
   background-color: #F0F0F0;
}

/* User notes on manual pages --------------------------------------------- */
div#usernotes {
	background-color: #e0e0e0;
	color: inherit;
}
div#usernotes div.head, div#usernotes div.foot {
	background-color: #d0d0d0;
	color: inherit;
	padding: 4px;
}
div#usernotes div.foot {
	text-align: right;
}
div#usernotes div.foot a, div#usernotes div.head a {
	color: black;
	background-color: transparent;
}
div#usernotes span.action {
	float: right;
}
div#usernotes div.note {
	padding: 4px;
}
div#usernotes div.text {
	background-color: #f0f0f0;
	color: inherit;
	padding: 2px;
	margin-top: 4px;
}

/* Left sidebar TOC on manual pages --------------------------------------- */
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}

/* Top and bottom navigation controls on manual pages --------------------- */
div.manualnavbar {
	background-color: #e0e0e0;
	color: inherit;
	padding: 4px;
	margin-bottom: 10px;
}
div.manualnavbar a {
	text-decoration: none;
}
div.manualnavbar a:hover {
	text-decoration: underline;
}
div.manualnavbar .prev, div.manualnavbar .langchooser {
	padding-right: 4px;
}
div.manualnavbar .next, div.manualnavbar .lastupdated {
	float: right;
	padding-left: 4px;
}
div.manualnavbar hr {
	color: #cccccc;
	background-color: #cccccc;
}
div.manualnavbar form {
	margin: 0px;
	font-size: 75%;
}
div.manualnavbar .lastupdated {
	font-size: 75%;
}
div.manualnavbar div.langchooser #changeLangImage {
	border: 0px solid #000;
	width: 11px;
	height: 11px;
}
div.manualnavbar fieldset {
	margin: 0px;
	padding: 0px;
	border: 0px solid #000;
}
div.manualnavbar div.langchooser p {
	margin: 0px 10px 0 5px;
	padding: 0px;
	float: left;
}

/* for searching system... */
ul#search-results {
  list-style-type: none;
}
ul#search-results li {
  margin-top: 0.5em;
  list-style-type: none;
}
ul#search-results p {
  margin: 0;
}
ul#search-results p.result {
	font-weight: 700;
}
ul#search-results p.summary,
ul#search-results p.meta {
  font-size: 0.8em;
  margin-left: 1em;
}
ul#search-results p.meta {
  color: #008000;
}
ul#search-results p.meta a {
  color: #8284cc;
}
div#results_nav {
	margin: auto;
	width: 200px;
	text-align: center;
}

ul#results_nav_list {
	margin-top: -1em;
	text-align: center;
	padding: 0px;
}
ul#results_nav_list li {
	display: inline;
	margin-right: 0.4em;
	list-style-type: none;
}

ul#quickref_functions {
	display: inline;
	margin-right: 0.4em;
}

ul#quickref_functions li {
	list-style-type: none;
	margin:0;
	padding:0;
	float:left;
	width:30%;
}

ul#quickref_other {
	display: inline;
	margin-right: 0.4em;
}

ul#quickref_other li {
	list-style-type: none;
	margin:0;
	padding:0;
	float:left;
	width:30%;
}

/* Definition lists used on eg. the unsub page */
dl dd {
	margin: 0.5em 0 0.5em 2em;
	padding: 0.5em;
}

/* Event month header on homepage */
h4.eventmonth {
	border-style: solid;
	border-color: black;
	border-width: 0px 1px 1px 0px;
	background-color: #d3d3d3;
	padding: 2px;
}
#conferencesSidebar h4.eventmonth {
	border-width: 0px 0px 1px 0px;
}


/* {{{ Security Respons section */
#content.security {
	width: 610px;
}
#content.security .record {
	width: 550px;
	border-style: solid;
	border-color: black;
	border-width: 1px 0px;
	padding: 5px;
}
#content.security .record .id,
#content.security .record .date, 
#content.security .record .range {
	float: left;
}
#content.security .record .date {
	text-indent: 5px;
	width: 105px;
}
#content.security .record .id {
	width: 90px;
}
#content.security .record .range {
	width: 55px;
}
#content.security .record .affects {
	font-weight: bold;
}
#content.security .record .summary {
	text-indent: 10px;
	padding: 3px 0px;
}
#content.security .low {
	background-color: yellow;
}
#content.security .medium {
	background-color: #f90;
}
#content.security .critical {
	background-color: #FF0000;
}
#content ul.colors {
	width: 150px;
}
#content ul.colors li {
	text-indent: 10px;
}

/* Single records */
#content.security .singlerecord {
	text-align: left;
	font-size: 1.1em;
	width: 650px;
}
#content.security .singlerecord .title {
	float: left;
	font-weight: bold;
	width: 150px;
	text-indent: 10px;
}
#content.security .singlerecord .reporter,
#content.security .singlerecord .references {
	margin: 0 0 10px 0;
}
#content.security .description .title {
	border-style: solid;
	border-color: black;
	border-width: 0px 0px 0px 0px;
}
#content.security .description .data {
	float: left;
	text-indent: 20px;
	padding: 5px;
	width: 650px;
}
/* }}} */

/* {{{ phpdoc examples */
div.example, div.informalexample {
	background-color: #fff;
	border: 1px solid #000;
	text-align: left;
	color: #000;
}

div.refsect1 div.example {
	margin-top: 20px;
}

div.example p {
	margin: 0px;
	padding: 0.2em;
	text-indent: 1em;
	border-bottom: 1px dotted #000;
}

div.example div.example-contents,
table .phpcode,
div.classsynopsis,
div.informalexample pre,
div.informalexample .phpcode {
	background-color: #e1e1e1;
	margin: 10px;
	border: 1px outset #000;
}
div.mediaobject {
	margin: 10px;
}
div.example-contents pre {
	background-color: #e1e1e1;
}

/* Konq & Fx, for what ever reason, dislike br:before so this doesn't work at the moment...
 * This should however add line-number to examples - which will _not_ be copied to clipboard
 * when the code is copy/pasted
div.example div.example-contents:after {
	counter-reset: phpexample;
}

div.example-contents br:before {
	content: counter(phpexample);
	counter-increment: phpexample; 
}
*/

div.example div.example-contents p, div.informalexample p {
	background-color: #ccc;
	text-indent: 0;
	border-bottom: 1px outset #000;
}

div.example div.screenshot img {
	padding: 20px;
	border: 1px dotted #000;
	background-color: #E0E0E0;
}
/* }}} */

/* Make sure the underscore in many function names are visible */
div.refentry a, div.reference a, div.section a {
	text-decoration: none;
	border-bottom: 1px solid #009;
}

div.refsect1 {
	border: solid 2px #cccccc;
	border-collapse: collapse;
	margin: 1em;
	padding: 1em;
	background-color: #eeeeff;
}
div.refsect1 h3 {
	margin-top: 0;
	padding-top: 0;
	border-bottom: dashed 1px #ffffff;
}
div.refsect1 dl {
	padding: 15px;
	border: 1px solid #ddd;
}
div.refsect1 dd {
	border: groove 2px #ffffff;
	background-color: #f5f5ff;
}
div.refsect1 span.term {
	font-size: 1.2em;
	border-bottom: groove 1px #dddddd;
}
div.section dt {
	background: #FAFAFA;
	border-bottom: 1px solid #CCC;
}

div.refsect1 span.term b tt, div.refsect1 span.term strong code {
	font-size: 0.9em;
}

div.refsect1 .title .toggler {
	border-bottom: none;
}

div.classsynopsisinfo_comment {
	text-indent: 30px;
	padding-top: 2em;
}
div.classsynopsis div.methodsynopsis,
div.classsynopsis div.constructorsynopsis,
div.classsynopsis div.destructorsynopsis,
div.classsynopsis div.fieldsynopsis {
	text-indent: 30px;
	padding: 3px;
}
div.refsect1 div.methodsynopsis,
div.refsect1 div.constructorsynopsis,
div.refsect1 div.destructorsynopsis {
	background-color: #fff;
	padding: 0.5em;
	border: 1px solid black;
}
div.classsynopsis {
	color: rgb(0, 119, 0);
}
div.classsynopsis b.classname,
div.classsynopsis strong.classname,
div.classsynopsis span.interfacename,
div.classsynopsis div.fieldsynopsis var,
div.classsynopsis div.classsynopsisinfo var,
div.classsynopsis span.methodname,
div.classsynopsis tt.parameter,
div.classsynopsis code.parameter,
div.classsynopsis span.modifier_role {
	color: rgb(0, 0, 187);
}
div.classsynopsis b.interfacename, div.classsynopsis strong.interfacename {
	color: #0000BB;
	font-weight: normal;
}
span.replaceable, span.initializer {
	font-style: italic;
}
div.authorgroup {
	padding: 10px;
}
blockquote {
	border: 1px solid #000;
	background-color: #FFF;
	margin: 0.5em 0;
	padding: 0.5em 1em;
}

div.footnote sup {
	float: left;
}
div.footnote p {
	text-indent: 10px;
}
div.reportbug {
	font-size: 80%;
	float: right;
}

/* Soft-deprecation Notices */
div.soft-deprecation-notice {
	margin: 1em;
	padding: 1em;
	position: relative;
	border: 2px solid #AA6666;
	color: #660000;
	background-color: #ffeeee;
}
div.soft-deprecation-notice h1.title {
	font-size: 110%;
	border-bottom: dashed 1px white;
}
div.soft-deprecation-notice .title .toggler {
	border-bottom: none;
}
div.soft-deprecation-notice blockquote.sidebar {
	margin: 0;
	padding: 0;
	border: none;
	background: transparent;
}

/*
 * vim: noet
 */


------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline
Content-Type: text/css; charset=utf-8
Content-Location: http://static.php.net/www.php.net/styles/phpnet.css
Content-Transfer-Encoding: 8bit

/* TOC elements on manual pages ------------------------------------------- */
ul.toc li {
	background-image: url(http://static.php.net/www.php.net/images/box-0.gif);
}
ul.toc li.up {
	background-image: url(http://static.php.net/www.php.net/images/caret-u.gif);
}
ul.toc li.home {
	background-image: url(http://static.php.net/www.php.net/images/caret-t.gif);
}
ul.toc li.active {
	background-image: url(http://static.php.net/www.php.net/images/box-1.gif);
}

/* Sidebar backgrounds ---------------------------------------------------- */
#layout_2, #layout_3 {
	background-image: url(http://static.php.net/www.php.net/images/leftbar.png);
}
#layout_3_helper {
	background-image: url(http://static.php.net/www.php.net/images/rightbar.png);
}

/* Tips and warning icons, mainly used in the manual */
div.tip {
	background-image: url(http://static.php.net/www.php.net/images/dialog-information.png);
}
div.warning {
	background-image: url(http://static.php.net/www.php.net/images/dialog-warning.png);
}

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline
Content-Type: image/gif
Content-Location: http://static.php.net/www.php.net/images/box-0.gif
Content-Transfer-Encoding: Base64

R0lGODlhCwAHAID/AMDAwAAAACH5BAEAAAAALAAAAAALAAcAQAINhI8WmhrfopQL
1PRgKgA7

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline
Content-Type: image/gif
Content-Location: http://static.php.net/www.php.net/images/caret-u.gif
Content-Transfer-Encoding: Base64

R0lGODlhCwAHAIAAAMDAwAAAACH5BAEAAAAALAAAAAALAAcAQAINhI8XoZzrkpzx
sTVnAQA7

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline
Content-Type: image/gif
Content-Location: http://static.php.net/www.php.net/images/caret-t.gif
Content-Transfer-Encoding: Base64

R0lGODlhCwAHAIAAAMDAwAAAACH5BAEAAAAALAAAAAALAAcAQAIRhB2nGLnQoDuR
vTZp2ll6UwAAOw==

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline
Content-Type: image/gif
Content-Location: http://static.php.net/www.php.net/images/box-1.gif
Content-Transfer-Encoding: Base64

R0lGODlhCwAHAID/AMDAwAAAACH5BAEAAAAALAAAAAALAAcAQAIMhI8WG6nsopSs
ueoKADs=

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline
Content-Type: image/png
Content-Location: http://static.php.net/www.php.net/images/leftbar.png
Content-Transfer-Encoding: Base64

iVBORw0KGgoAAAANSUhEUgAAAMUAAAAUCAIAAACyOG4tAAAABmJLR0QA/wD/AP+g
vaeTAAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH0wgXDDAD6pV+6wAAAFxJ
REFUeJzt1lEJwEAMBcFe/RuJu0ioiYWDMqMgH0t4Z3cfiLy3D+BX9ERmZvRESU+U
jj1OyH+ipCcy9jgxPVGyxyn5T5T0RMYeJ6YnSvY4Jf+Jkp7I2OPE9ETpA9dCE1Ej
B3J/AAAAAElFTkSuQmCC

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline
Content-Type: text/css; charset=utf-8
Content-Location: http://static.php.net/www.php.net/styles/print.css
Content-Transfer-Encoding: 8bit

#headmenu, #headsearch, #leftbar, #rightbar, #footnav, #thismirror,
.manualnavbar .next, .manualnavbar .prev, .manualnavbar .langchooser,
.manualnavbar hr, .manualnavbar_bottom, #usernotes .action, #usernotes .foot {
  display: none;
}

#layout_2 #content, #layout_3 #content {
  width: 100%;
  margin: 0;
}

#headnav, #layout_2, #layout_3, #layout_3_helper, div.manualnavbar {
  background: none;
}

#headnav  {
  float: right;
}

#usernotes .note, #usernotes {
  border-top: 1px solid black;
}

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline; filename=userprefs.js
Content-Type: text/javascript; charset=utf-8; name=userprefs.js
Content-Location: http://static.php.net/www.php.net/userprefs.js
Content-Transfer-Encoding: 8bit

// Get a value of one cookie set by it's name
// Impmentation from the JS 1.3 Client Guide by Netscape
function getCookie(Name)
{
    var search = Name + "=";
    if (document.cookie.length > 0) {
        offset = document.cookie.indexOf(search);
        if (offset != -1) {
            offset += search.length;
            end = document.cookie.indexOf(";", offset);
            if (end == -1) { end = document.cookie.length; }
            return unescape(document.cookie.substring(offset, end));
        }
    }
    return null;
}

// Make events in the user's country bold
function boldEvents()
{
    // Get cookie if possible
    country = getCookie("COUNTRY");
    if (typeof(country) == "string") {
        
        // Get country code from cookie
        country = country.substring(0, 3);
        
        // If DOM is supported, get <span>s
        if (document.getElementsByTagName) {
            
            spans = document.getElementsByTagName("span");
            
            // Style every span bold which is for this country
            for (var i = 0; i < spans.length; i++) {
                if (spans[i].className == "event_" + country + " vevent") {
                    spans[i].style.fontWeight = "bold";
                }
            }
        }
    }
}

// Load function name suggestion code (for search box)
function loadSuggestCode()
{
    searchEnabled = true;
    // Force default turnoff for buggy Mac browsers
    if (navigator.userAgent.toLowerCase().indexOf('mac') > 0) {
      searchEnabled = false;
    }

    myphpnet = getCookie('MYPHPNET');
    if (typeof(myphpnet) == "string") {
        myphpnet_parts = myphpnet.split(",");
        if (myphpnet_parts.length > 3) {
            if (myphpnet_parts[3] == '1') {
                searchEnabled = false;
            }
            // Enable if user explicity wanted to enable it
            // Important for Mac users, who get disabled by default
            else if (myphpnet_parts[3] == '0') {
                searchEnabled = true;
            }
        }
    }
    if (searchEnabled && document.getElementsByTagName && document.createElement) {
        var elems = document.getElementsByTagName("*");
        for (var i = 0; i < elems.length; i++) {
            if (elems[i].tagName.toLowerCase() == 'head') {
                var scriptElem = document.createElement('script');
                scriptElem.setAttribute('type', 'text/javascript');
                scriptElem.setAttribute('src', '/functions.js');
                elems[i].appendChild(scriptElem);
                break;
            }
        }
    }
}

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline; filename=jquery.min.js
Content-Type: text/javascript; charset=UTF-8; name=jquery.min.js
Content-Location: http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js
Content-Transfer-Encoding: Quoted-Printable

/*
 * jQuery JavaScript Library v1.3.2
 * http://jquery.com/
 *
 * Copyright (c) 2009 John Resig
 * Dual licensed under the MIT and GPL licenses.
 * http://docs.jquery.com/License
 *
 * Date: 2009-02-19 17:34:21 -0500 (Thu, 19 Feb 2009)
 * Revision: 6246
 */
(function(){var l=3Dthis,g,y=3Dl.jQuery,p=3Dl.$,o=3Dl.jQuery=3Dl.$=3Dfun=
ction(E,F){return new o.fn.init(E,F)},D=3D/^[^<]*(<(.|\s)+>)[^>]*$|^#([\=
w-]+)$/,f=3D/^.[^:#\[\.,]*$/;o.fn=3Do.prototype=3D{init:function(E,H){E=3D=
E||document;if(E.nodeType){this[0]=3DE;this.length=3D1;this.context=3DE;=
return this}if(typeof E=3D=3D=3D"string"){var G=3DD.exec(E);if(G&&(G[1]|=
|!H)){if(G[1]){E=3Do.clean([G[1]],H)}else{var I=3Ddocument.getElementByI=
d(G[3]);if(I&&I.id!=3DG[3]){return o().find(E)}var F=3Do(I||[]);F.contex=
t=3Ddocument;F.selector=3DE;return F}}else{return o(H).find(E)}}else{if(=
o.isFunction(E)){return o(document).ready(E)}}if(E.selector&&E.context){=
this.selector=3DE.selector;this.context=3DE.context}return this.setArray=
(o.isArray(E)?E:o.makeArray(E))},selector:"",jquery:"1.3.2",size:functio=
n(){return this.length},get:function(E){return E=3D=3D=3Dg?Array.prototy=
pe.slice.call(this):this[E]},pushStack:function(F,H,E){var G=3Do(F);G.pr=
evObject=3Dthis;G.context=3Dthis.context;if(H=3D=3D=3D"find"){G.selector=
=3Dthis.selector+(this.selector?" ":"")+E}else{if(H){G.selector=3Dthis.s=
elector+"."+H+"("+E+")"}}return G},setArray:function(E){this.length=3D0;=
Array.prototype.push.apply(this,E);return this},each:function(F,E){retur=
n o.each(this,F,E)},index:function(E){return o.inArray(E&&E.jquery?E[0]:=
E,this)},attr:function(F,H,G){var E=3DF;if(typeof F=3D=3D=3D"string"){if=
(H=3D=3D=3Dg){return this[0]&&o[G||"attr"](this[0],F)}else{E=3D{};E[F]=3D=
H}}return this.each(function(I){for(F in E){o.attr(G?this.style:this,F,o=
.prop(this,E[F],G,I,F))}})},css:function(E,F){if((E=3D=3D"width"||E=3D=3D=
"height")&&parseFloat(F)<0){F=3Dg}return this.attr(E,F,"curCSS")},text:f=
unction(F){if(typeof F!=3D=3D"object"&&F!=3Dnull){return this.empty().ap=
pend((this[0]&&this[0].ownerDocument||document).createTextNode(F))}var E=
=3D"";o.each(F||this,function(){o.each(this.childNodes,function(){if(thi=
s.nodeType!=3D8){E+=3Dthis.nodeType!=3D1?this.nodeValue:o.fn.text([this]=
)}})});return E},wrapAll:function(E){if(this[0]){var F=3Do(E,this[0].own=
erDocument).clone();if(this[0].parentNode){F.insertBefore(this[0])}F.map=
(function(){var G=3Dthis;while(G.firstChild){G=3DG.firstChild}return G})=
.append(this)}return this},wrapInner:function(E){return this.each(functi=
on(){o(this).contents().wrapAll(E)})},wrap:function(E){return this.each(=
function(){o(this).wrapAll(E)})},append:function(){return this.domManip(=
arguments,true,function(E){if(this.nodeType=3D=3D1){this.appendChild(E)}=
})},prepend:function(){return this.domManip(arguments,true,function(E){i=
f(this.nodeType=3D=3D1){this.insertBefore(E,this.firstChild)}})},before:=
function(){return this.domManip(arguments,false,function(E){this.parentN=
ode.insertBefore(E,this)})},after:function(){return this.domManip(argume=
nts,false,function(E){this.parentNode.insertBefore(E,this.nextSibling)})=
},end:function(){return this.prevObject||o([])},push:[].push,sort:[].sor=
t,splice:[].splice,find:function(E){if(this.length=3D=3D=3D1){var F=3Dth=
is.pushStack([],"find",E);F.length=3D0;o.find(E,this[0],F);return F}else=
{return this.pushStack(o.unique(o.map(this,function(G){return o.find(E,G=
)})),"find",E)}},clone:function(G){var E=3Dthis.map(function(){if(!o.sup=
port.noCloneEvent&&!o.isXMLDoc(this)){var I=3Dthis.outerHTML;if(!I){var =
J=3Dthis.ownerDocument.createElement("div");J.appendChild(this.cloneNode=
(true));I=3DJ.innerHTML}return o.clean([I.replace(/ jQuery\d+=3D"(?:\d+|=
null)"/g,"").replace(/^\s*/,"")])[0]}else{return this.cloneNode(true)}})=
;if(G=3D=3D=3Dtrue){var H=3Dthis.find("*").andSelf(),F=3D0;E.find("*").a=
ndSelf().each(function(){if(this.nodeName!=3D=3DH[F].nodeName){return}va=
r I=3Do.data(H[F],"events");for(var K in I){for(var J in I[K]){o.event.a=
dd(this,K,I[K][J],I[K][J].data)}}F++})}return E},filter:function(E){retu=
rn this.pushStack(o.isFunction(E)&&o.grep(this,function(G,F){return E.ca=
ll(G,F)})||o.multiFilter(E,o.grep(this,function(F){return F.nodeType=3D=3D=
=3D1})),"filter",E)},closest:function(E){var G=3Do.expr.match.POS.test(E=
)?o(E):null,F=3D0;return this.map(function(){var H=3Dthis;while(H&&H.own=
erDocument){if(G?G.index(H)>-1:o(H).is(E)){o.data(H,"closest",F);return =
H}H=3DH.parentNode;F++}})},not:function(E){if(typeof E=3D=3D=3D"string")=
{if(f.test(E)){return this.pushStack(o.multiFilter(E,this,true),"not",E)=
}else{E=3Do.multiFilter(E,this)}}var F=3DE.length&&E[E.length-1]!=3D=3Dg=
&&!E.nodeType;return this.filter(function(){return F?o.inArray(this,E)<0=
:this!=3DE})},add:function(E){return this.pushStack(o.unique(o.merge(thi=
s.get(),typeof E=3D=3D=3D"string"?o(E):o.makeArray(E))))},is:function(E)=
{return !!E&&o.multiFilter(E,this).length>0},hasClass:function(E){return=
 !!E&&this.is("."+E)},val:function(K){if(K=3D=3D=3Dg){var E=3Dthis[0];if=
(E){if(o.nodeName(E,"option")){return(E.attributes.value||{}).specified?=
E.value:E.text}if(o.nodeName(E,"select")){var I=3DE.selectedIndex,L=3D[]=
,M=3DE.options,H=3DE.type=3D=3D"select-one";if(I<0){return null}for(var =
F=3DH?I:0,J=3DH?I+1:M.length;F<J;F++){var G=3DM[F];if(G.selected){K=3Do(=
G).val();if(H){return K}L.push(K)}}return L}return(E.value||"").replace(=
/\r/g,"")}return g}if(typeof K=3D=3D=3D"number"){K+=3D""}return this.eac=
h(function(){if(this.nodeType!=3D1){return}if(o.isArray(K)&&/radio|check=
box/.test(this.type)){this.checked=3D(o.inArray(this.value,K)>=3D0||o.in=
Array(this.name,K)>=3D0)}else{if(o.nodeName(this,"select")){var N=3Do.ma=
keArray(K);o("option",this).each(function(){this.selected=3D(o.inArray(t=
his.value,N)>=3D0||o.inArray(this.text,N)>=3D0)});if(!N.length){this.sel=
ectedIndex=3D-1}}else{this.value=3DK}}})},html:function(E){return E=3D=3D=
=3Dg?(this[0]?this[0].innerHTML.replace(/ jQuery\d+=3D"(?:\d+|null)"/g,"=
"):null):this.empty().append(E)},replaceWith:function(E){return this.aft=
er(E).remove()},eq:function(E){return this.slice(E,+E+1)},slice:function=
(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"sl=
ice",Array.prototype.slice.call(arguments).join(","))},map:function(E){r=
eturn this.pushStack(o.map(this,function(G,F){return E.call(G,F,G)}))},a=
ndSelf:function(){return this.add(this.prevObject)},domManip:function(J,=
M,L){if(this[0]){var I=3D(this[0].ownerDocument||this[0]).createDocument=
Fragment(),F=3Do.clean(J,(this[0].ownerDocument||this[0]),I),H=3DI.first=
Child;if(H){for(var G=3D0,E=3Dthis.length;G<E;G++){L.call(K(this[G],H),t=
his.length>1||G>0?I.cloneNode(true):I)}}if(F){o.each(F,z)}}return this;f=
unction K(N,O){return M&&o.nodeName(N,"table")&&o.nodeName(O,"tr")?(N.ge=
tElementsByTagName("tbody")[0]||N.appendChild(N.ownerDocument.createElem=
ent("tbody"))):N}}};o.fn.init.prototype=3Do.fn;function z(E,F){if(F.src)=
{o.ajax({url:F.src,async:false,dataType:"script"})}else{o.globalEval(F.t=
ext||F.textContent||F.innerHTML||"")}if(F.parentNode){F.parentNode.remov=
eChild(F)}}function e(){return +new Date}o.extend=3Do.fn.extend=3Dfuncti=
on(){var J=3Darguments[0]||{},H=3D1,I=3Darguments.length,E=3Dfalse,G;if(=
typeof J=3D=3D=3D"boolean"){E=3DJ;J=3Darguments[1]||{};H=3D2}if(typeof J=
!=3D=3D"object"&&!o.isFunction(J)){J=3D{}}if(I=3D=3DH){J=3Dthis;--H}for(=
;H<I;H++){if((G=3Darguments[H])!=3Dnull){for(var F in G){var K=3DJ[F],L=3D=
G[F];if(J=3D=3D=3DL){continue}if(E&&L&&typeof L=3D=3D=3D"object"&&!L.nod=
eType){J[F]=3Do.extend(E,K||(L.length!=3Dnull?[]:{}),L)}else{if(L!=3D=3D=
g){J[F]=3DL}}}}}return J};var b=3D/z-?index|font-?weight|opacity|zoom|li=
ne-?height/i,q=3Ddocument.defaultView||{},s=3DObject.prototype.toString;=
o.extend({noConflict:function(E){l.$=3Dp;if(E){l.jQuery=3Dy}return o},is=
Function:function(E){return s.call(E)=3D=3D=3D"[object Function]"},isArr=
ay:function(E){return s.call(E)=3D=3D=3D"[object Array]"},isXMLDoc:funct=
ion(E){return E.nodeType=3D=3D=3D9&&E.documentElement.nodeName!=3D=3D"HT=
ML"||!!E.ownerDocument&&o.isXMLDoc(E.ownerDocument)},globalEval:function=
(G){if(G&&/\S/.test(G)){var F=3Ddocument.getElementsByTagName("head")[0]=
||document.documentElement,E=3Ddocument.createElement("script");E.type=3D=
"text/javascript";if(o.support.scriptEval){E.appendChild(document.create=
TextNode(G))}else{E.text=3DG}F.insertBefore(E,F.firstChild);F.removeChil=
d(E)}},nodeName:function(F,E){return F.nodeName&&F.nodeName.toUpperCase(=
)=3D=3DE.toUpperCase()},each:function(G,K,F){var E,H=3D0,I=3DG.length;if=
(F){if(I=3D=3D=3Dg){for(E in G){if(K.apply(G[E],F)=3D=3D=3Dfalse){break}=
}}else{for(;H<I;){if(K.apply(G[H++],F)=3D=3D=3Dfalse){break}}}}else{if(I=
=3D=3D=3Dg){for(E in G){if(K.call(G[E],E,G[E])=3D=3D=3Dfalse){break}}}el=
se{for(var J=3DG[0];H<I&&K.call(J,H,J)!=3D=3Dfalse;J=3DG[++H]){}}}return=
 G},prop:function(H,I,G,F,E){if(o.isFunction(I)){I=3DI.call(H,F)}return =
typeof I=3D=3D=3D"number"&&G=3D=3D"curCSS"&&!b.test(E)?I+"px":I},classNa=
me:{add:function(E,F){o.each((F||"").split(/\s+/),function(G,H){if(E.nod=
eType=3D=3D1&&!o.className.has(E.className,H)){E.className+=3D(E.classNa=
me?" ":"")+H}})},remove:function(E,F){if(E.nodeType=3D=3D1){E.className=3D=
F!=3D=3Dg?o.grep(E.className.split(/\s+/),function(G){return !o.classNam=
e.has(F,G)}).join(" "):""}},has:function(F,E){return F&&o.inArray(E,(F.c=
lassName||F).toString().split(/\s+/))>-1}},swap:function(H,G,I){var E=3D=
{};for(var F in G){E[F]=3DH.style[F];H.style[F]=3DG[F]}I.call(H);for(var=
 F in G){H.style[F]=3DE[F]}},css:function(H,F,J,E){if(F=3D=3D"width"||F=3D=
=3D"height"){var L,G=3D{position:"absolute",visibility:"hidden",display:=
"block"},K=3DF=3D=3D"width"?["Left","Right"]:["Top","Bottom"];function I=
(){L=3DF=3D=3D"width"?H.offsetWidth:H.offsetHeight;if(E=3D=3D=3D"border"=
){return}o.each(K,function(){if(!E){L-=3DparseFloat(o.curCSS(H,"padding"=
+this,true))||0}if(E=3D=3D=3D"margin"){L+=3DparseFloat(o.curCSS(H,"margi=
n"+this,true))||0}else{L-=3DparseFloat(o.curCSS(H,"border"+this+"Width",=
true))||0}})}if(H.offsetWidth!=3D=3D0){I()}else{o.swap(H,G,I)}return Mat=
h.max(0,Math.round(L))}return o.curCSS(H,F,J)},curCSS:function(I,F,G){va=
r L,E=3DI.style;if(F=3D=3D"opacity"&&!o.support.opacity){L=3Do.attr(E,"o=
pacity");return L=3D=3D""?"1":L}if(F.match(/float/i)){F=3Dw}if(!G&&E&&E[=
F]){L=3DE[F]}else{if(q.getComputedStyle){if(F.match(/float/i)){F=3D"floa=
t"}F=3DF.replace(/([A-Z])/g,"-$1").toLowerCase();var M=3Dq.getComputedSt=
yle(I,null);if(M){L=3DM.getPropertyValue(F)}if(F=3D=3D"opacity"&&L=3D=3D=
""){L=3D"1"}}else{if(I.currentStyle){var J=3DF.replace(/\-(\w)/g,functio=
n(N,O){return O.toUpperCase()});L=3DI.currentStyle[F]||I.currentStyle[J]=
;if(!/^\d+(px)?$/i.test(L)&&/^\d/.test(L)){var H=3DE.left,K=3DI.runtimeS=
tyle.left;I.runtimeStyle.left=3DI.currentStyle.left;E.left=3DL||0;L=3DE.=
pixelLeft+"px";E.left=3DH;I.runtimeStyle.left=3DK}}}}return L},clean:fun=
ction(F,K,I){K=3DK||document;if(typeof K.createElement=3D=3D=3D"undefine=
d"){K=3DK.ownerDocument||K[0]&&K[0].ownerDocument||document}if(!I&&F.len=
gth=3D=3D=3D1&&typeof F[0]=3D=3D=3D"string"){var H=3D/^<(\w+)\s*\/?>$/.e=
xec(F[0]);if(H){return[K.createElement(H[1])]}}var G=3D[],E=3D[],L=3DK.c=
reateElement("div");o.each(F,function(P,S){if(typeof S=3D=3D=3D"number")=
{S+=3D""}if(!S){return}if(typeof S=3D=3D=3D"string"){S=3DS.replace(/(<(\=
w+)[^>]*?)\/>/g,function(U,V,T){return T.match(/^(abbr|br|col|img|input|=
link|meta|param|hr|area|embed)$/i)?U:V+"></"+T+">"});var O=3DS.replace(/=
^\s+/,"").substring(0,10).toLowerCase();var Q=3D!O.indexOf("<opt")&&[1,"=
<select multiple=3D'multiple'>","</select>"]||!O.indexOf("<leg")&&[1,"<f=
ieldset>","</fieldset>"]||O.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,=
"<table>","</table>"]||!O.indexOf("<tr")&&[2,"<table><tbody>","</tbody><=
/table>"]||(!O.indexOf("<td")||!O.indexOf("<th"))&&[3,"<table><tbody><tr=
>","</tr></tbody></table>"]||!O.indexOf("<col")&&[2,"<table><tbody></tbo=
dy><colgroup>","</colgroup></table>"]||!o.support.htmlSerialize&&[1,"div=
<div>","</div>"]||[0,"",""];L.innerHTML=3DQ[1]+S+Q[2];while(Q[0]--){L=3D=
L.lastChild}if(!o.support.tbody){var R=3D/<tbody/i.test(S),N=3D!O.indexO=
f("<table")&&!R?L.firstChild&&L.firstChild.childNodes:Q[1]=3D=3D"<table>=
"&&!R?L.childNodes:[];for(var M=3DN.length-1;M>=3D0;--M){if(o.nodeName(N=
[M],"tbody")&&!N[M].childNodes.length){N[M].parentNode.removeChild(N[M])=
}}}if(!o.support.leadingWhitespace&&/^\s/.test(S)){L.insertBefore(K.crea=
teTextNode(S.match(/^\s*/)[0]),L.firstChild)}S=3Do.makeArray(L.childNode=
s)}if(S.nodeType){G.push(S)}else{G=3Do.merge(G,S)}});if(I){for(var J=3D0=
;G[J];J++){if(o.nodeName(G[J],"script")&&(!G[J].type||G[J].type.toLowerC=
ase()=3D=3D=3D"text/javascript")){E.push(G[J].parentNode?G[J].parentNode=
.removeChild(G[J]):G[J])}else{if(G[J].nodeType=3D=3D=3D1){G.splice.apply=
(G,[J+1,0].concat(o.makeArray(G[J].getElementsByTagName("script"))))}I.a=
ppendChild(G[J])}}return E}return G},attr:function(J,G,K){if(!J||J.nodeT=
ype=3D=3D3||J.nodeType=3D=3D8){return g}var H=3D!o.isXMLDoc(J),L=3DK!=3D=
=3Dg;G=3DH&&o.props[G]||G;if(J.tagName){var F=3D/href|src|style/.test(G)=
;if(G=3D=3D"selected"&&J.parentNode){J.parentNode.selectedIndex}if(G in =
J&&H&&!F){if(L){if(G=3D=3D"type"&&o.nodeName(J,"input")&&J.parentNode){t=
hrow"type property can't be changed"}J[G]=3DK}if(o.nodeName(J,"form")&&J=
.getAttributeNode(G)){return J.getAttributeNode(G).nodeValue}if(G=3D=3D"=
tabIndex"){var I=3DJ.getAttributeNode("tabIndex");return I&&I.specified?=
I.value:J.nodeName.match(/(button|input|object|select|textarea)/i)?0:J.n=
odeName.match(/^(a|area)$/i)&&J.href?0:g}return J[G]}if(!o.support.style=
&&H&&G=3D=3D"style"){return o.attr(J.style,"cssText",K)}if(L){J.setAttri=
bute(G,""+K)}var E=3D!o.support.hrefNormalized&&H&&F?J.getAttribute(G,2)=
:J.getAttribute(G);return E=3D=3D=3Dnull?g:E}if(!o.support.opacity&&G=3D=
=3D"opacity"){if(L){J.zoom=3D1;J.filter=3D(J.filter||"").replace(/alpha\=
([^)]*\)/,"")+(parseInt(K)+""=3D=3D"NaN"?"":"alpha(opacity=3D"+K*100+")"=
)}return J.filter&&J.filter.indexOf("opacity=3D")>=3D0?(parseFloat(J.fil=
ter.match(/opacity=3D([^)]*)/)[1])/100)+"":""}G=3DG.replace(/-([a-z])/ig=
,function(M,N){return N.toUpperCase()});if(L){J[G]=3DK}return J[G]},trim=
:function(E){return(E||"").replace(/^\s+|\s+$/g,"")},makeArray:function(=
G){var E=3D[];if(G!=3Dnull){var F=3DG.length;if(F=3D=3Dnull||typeof G=3D=
=3D=3D"string"||o.isFunction(G)||G.setInterval){E[0]=3DG}else{while(F){E=
[--F]=3DG[F]}}}return E},inArray:function(G,H){for(var E=3D0,F=3DH.lengt=
h;E<F;E++){if(H[E]=3D=3D=3DG){return E}}return -1},merge:function(H,E){v=
ar F=3D0,G,I=3DH.length;if(!o.support.getAll){while((G=3DE[F++])!=3Dnull=
){if(G.nodeType!=3D8){H[I++]=3DG}}}else{while((G=3DE[F++])!=3Dnull){H[I+=
+]=3DG}}return H},unique:function(K){var F=3D[],E=3D{};try{for(var G=3D0=
,H=3DK.length;G<H;G++){var J=3Do.data(K[G]);if(!E[J]){E[J]=3Dtrue;F.push=
(K[G])}}}catch(I){F=3DK}return F},grep:function(F,J,E){var G=3D[];for(va=
r H=3D0,I=3DF.length;H<I;H++){if(!E!=3D!J(F[H],H)){G.push(F[H])}}return =
G},map:function(E,J){var F=3D[];for(var G=3D0,H=3DE.length;G<H;G++){var =
I=3DJ(E[G],G);if(I!=3Dnull){F[F.length]=3DI}}return F.concat.apply([],F)=
}});var C=3Dnavigator.userAgent.toLowerCase();o.browser=3D{version:(C.ma=
tch(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test=
(C),opera:/opera/.test(C),msie:/msie/.test(C)&&!/opera/.test(C),mozilla:=
/mozilla/.test(C)&&!/(compatible|webkit)/.test(C)};o.each({parent:functi=
on(E){return E.parentNode},parents:function(E){return o.dir(E,"parentNod=
e")},next:function(E){return o.nth(E,2,"nextSibling")},prev:function(E){=
return o.nth(E,2,"previousSibling")},nextAll:function(E){return o.dir(E,=
"nextSibling")},prevAll:function(E){return o.dir(E,"previousSibling")},s=
iblings:function(E){return o.sibling(E.parentNode.firstChild,E)},childre=
n:function(E){return o.sibling(E.firstChild)},contents:function(E){retur=
n o.nodeName(E,"iframe")?E.contentDocument||E.contentWindow.document:o.m=
akeArray(E.childNodes)}},function(E,F){o.fn[E]=3Dfunction(G){var H=3Do.m=
ap(this,F);if(G&&typeof G=3D=3D"string"){H=3Do.multiFilter(G,H)}return t=
his.pushStack(o.unique(H),E,G)}});o.each({appendTo:"append",prependTo:"p=
repend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWit=
h"},function(E,F){o.fn[E]=3Dfunction(G){var J=3D[],L=3Do(G);for(var K=3D=
0,H=3DL.length;K<H;K++){var I=3D(K>0?this.clone(true):this).get();o.fn[F=
].apply(o(L[K]),I);J=3DJ.concat(I)}return this.pushStack(J,E,G)}});o.eac=
h({removeAttr:function(E){o.attr(this,E,"");if(this.nodeType=3D=3D1){thi=
s.removeAttribute(E)}},addClass:function(E){o.className.add(this,E)},rem=
oveClass:function(E){o.className.remove(this,E)},toggleClass:function(F,=
E){if(typeof E!=3D=3D"boolean"){E=3D!o.className.has(this,F)}o.className=
[E?"add":"remove"](this,F)},remove:function(E){if(!E||o.filter(E,[this])=
.length){o("*",this).add([this]).each(function(){o.event.remove(this);o.=
removeData(this)});if(this.parentNode){this.parentNode.removeChild(this)=
}}},empty:function(){o(this).children().remove();while(this.firstChild){=
this.removeChild(this.firstChild)}}},function(E,F){o.fn[E]=3Dfunction(){=
return this.each(F,arguments)}});function j(E,F){return E[0]&&parseInt(o=
.curCSS(E[0],F,true),10)||0}var h=3D"jQuery"+e(),v=3D0,A=3D{};o.extend({=
cache:{},data:function(F,E,G){F=3DF=3D=3Dl?A:F;var H=3DF[h];if(!H){H=3DF=
[h]=3D++v}if(E&&!o.cache[H]){o.cache[H]=3D{}}if(G!=3D=3Dg){o.cache[H][E]=
=3DG}return E?o.cache[H][E]:H},removeData:function(F,E){F=3DF=3D=3Dl?A:F=
;var H=3DF[h];if(E){if(o.cache[H]){delete o.cache[H][E];E=3D"";for(E in =
o.cache[H]){break}if(!E){o.removeData(F)}}}else{try{delete F[h]}catch(G)=
{if(F.removeAttribute){F.removeAttribute(h)}}delete o.cache[H]}},queue:f=
unction(F,E,H){if(F){E=3D(E||"fx")+"queue";var G=3Do.data(F,E);if(!G||o.=
isArray(H)){G=3Do.data(F,E,o.makeArray(H))}else{if(H){G.push(H)}}}return=
 G},dequeue:function(H,G){var E=3Do.queue(H,G),F=3DE.shift();if(!G||G=3D=
=3D=3D"fx"){F=3DE[0]}if(F!=3D=3Dg){F.call(H)}}});o.fn.extend({data:funct=
ion(E,G){var H=3DE.split(".");H[1]=3DH[1]?"."+H[1]:"";if(G=3D=3D=3Dg){va=
r F=3Dthis.triggerHandler("getData"+H[1]+"!",[H[0]]);if(F=3D=3D=3Dg&&thi=
s.length){F=3Do.data(this[0],E)}return F=3D=3D=3Dg&&H[1]?this.data(H[0])=
:F}else{return this.trigger("setData"+H[1]+"!",[H[0],G]).each(function()=
{o.data(this,E,G)})}},removeData:function(E){return this.each(function()=
{o.removeData(this,E)})},queue:function(E,F){if(typeof E!=3D=3D"string")=
{F=3DE;E=3D"fx"}if(F=3D=3D=3Dg){return o.queue(this[0],E)}return this.ea=
ch(function(){var G=3Do.queue(this,E,F);if(E=3D=3D"fx"&&G.length=3D=3D1)=
{G[0].call(this)}})},dequeue:function(E){return this.each(function(){o.d=
equeue(this,E)})}});
/*
 * Sizzle CSS Selector Engine - v0.9.3
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var R=3D/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"=
][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,L=3D0,=
H=3DObject.prototype.toString;var F=3Dfunction(Y,U,ab,ac){ab=3Dab||[];U=3D=
U||document;if(U.nodeType!=3D=3D1&&U.nodeType!=3D=3D9){return[]}if(!Y||t=
ypeof Y!=3D=3D"string"){return ab}var Z=3D[],W,af,ai,T,ad,V,X=3Dtrue;R.l=
astIndex=3D0;while((W=3DR.exec(Y))!=3D=3Dnull){Z.push(W[1]);if(W[2]){V=3D=
RegExp.rightContext;break}}if(Z.length>1&&M.exec(Y)){if(Z.length=3D=3D=3D=
2&&I.relative[Z[0]]){af=3DJ(Z[0]+Z[1],U)}else{af=3DI.relative[Z[0]]?[U]:=
F(Z.shift(),U);while(Z.length){Y=3DZ.shift();if(I.relative[Y]){Y+=3DZ.sh=
ift()}af=3DJ(Y,af)}}}else{var ae=3Dac?{expr:Z.pop(),set:E(ac)}:F.find(Z.=
pop(),Z.length=3D=3D=3D1&&U.parentNode?U.parentNode:U,Q(U));af=3DF.filte=
r(ae.expr,ae.set);if(Z.length>0){ai=3DE(af)}else{X=3Dfalse}while(Z.lengt=
h){var ah=3DZ.pop(),ag=3Dah;if(!I.relative[ah]){ah=3D""}else{ag=3DZ.pop(=
)}if(ag=3D=3Dnull){ag=3DU}I.relative[ah](ai,ag,Q(U))}}if(!ai){ai=3Daf}if=
(!ai){throw"Syntax error, unrecognized expression: "+(ah||Y)}if(H.call(a=
i)=3D=3D=3D"[object Array]"){if(!X){ab.push.apply(ab,ai)}else{if(U.nodeT=
ype=3D=3D=3D1){for(var aa=3D0;ai[aa]!=3Dnull;aa++){if(ai[aa]&&(ai[aa]=3D=
=3D=3Dtrue||ai[aa].nodeType=3D=3D=3D1&&K(U,ai[aa]))){ab.push(af[aa])}}}e=
lse{for(var aa=3D0;ai[aa]!=3Dnull;aa++){if(ai[aa]&&ai[aa].nodeType=3D=3D=
=3D1){ab.push(af[aa])}}}}}else{E(ai,ab)}if(V){F(V,U,ab,ac);if(G){hasDupl=
icate=3Dfalse;ab.sort(G);if(hasDuplicate){for(var aa=3D1;aa<ab.length;aa=
++){if(ab[aa]=3D=3D=3Dab[aa-1]){ab.splice(aa--,1)}}}}}return ab};F.match=
es=3Dfunction(T,U){return F(T,null,null,U)};F.find=3Dfunction(aa,T,ab){v=
ar Z,X;if(!aa){return[]}for(var W=3D0,V=3DI.order.length;W<V;W++){var Y=3D=
I.order[W],X;if((X=3DI.match[Y].exec(aa))){var U=3DRegExp.leftContext;if=
(U.substr(U.length-1)!=3D=3D"\\"){X[1]=3D(X[1]||"").replace(/\\/g,"");Z=3D=
I.find[Y](X,T,ab);if(Z!=3Dnull){aa=3Daa.replace(I.match[Y],"");break}}}}=
if(!Z){Z=3DT.getElementsByTagName("*")}return{set:Z,expr:aa}};F.filter=3D=
function(ad,ac,ag,W){var V=3Dad,ai=3D[],aa=3Dac,Y,T,Z=3Dac&&ac[0]&&Q(ac[=
0]);while(ad&&ac.length){for(var ab in I.filter){if((Y=3DI.match[ab].exe=
c(ad))!=3Dnull){var U=3DI.filter[ab],ah,af;T=3Dfalse;if(aa=3D=3Dai){ai=3D=
[]}if(I.preFilter[ab]){Y=3DI.preFilter[ab](Y,aa,ag,ai,W,Z);if(!Y){T=3Dah=
=3Dtrue}else{if(Y=3D=3D=3Dtrue){continue}}}if(Y){for(var X=3D0;(af=3Daa[=
X])!=3Dnull;X++){if(af){ah=3DU(af,Y,X,aa);var ae=3DW^!!ah;if(ag&&ah!=3Dn=
ull){if(ae){T=3Dtrue}else{aa[X]=3Dfalse}}else{if(ae){ai.push(af);T=3Dtru=
e}}}}}if(ah!=3D=3Dg){if(!ag){aa=3Dai}ad=3Dad.replace(I.match[ab],"");if(=
!T){return[]}break}}}if(ad=3D=3DV){if(T=3D=3Dnull){throw"Syntax error, u=
nrecognized expression: "+ad}else{break}}V=3Dad}return aa};var I=3DF.sel=
ectors=3D{order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|=
\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=3D['"]*((?=
:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\=
\.)+)\s*(?:(\S?=3D)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\=
*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)=
\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=3D[^-]|$)=
/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2=
\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHand=
le:{href:function(T){return T.getAttribute("href")}},relative:{"+":funct=
ion(aa,T,Z){var X=3Dtypeof T=3D=3D=3D"string",ab=3DX&&!/\W/.test(T),Y=3D=
X&&!ab;if(ab&&!Z){T=3DT.toUpperCase()}for(var W=3D0,V=3Daa.length,U;W<V;=
W++){if((U=3Daa[W])){while((U=3DU.previousSibling)&&U.nodeType!=3D=3D1){=
}aa[W]=3DY||U&&U.nodeName=3D=3D=3DT?U||false:U=3D=3D=3DT}}if(Y){F.filter=
(T,aa,true)}},">":function(Z,U,aa){var X=3Dtypeof U=3D=3D=3D"string";if(=
X&&!/\W/.test(U)){U=3Daa?U:U.toUpperCase();for(var V=3D0,T=3DZ.length;V<=
T;V++){var Y=3DZ[V];if(Y){var W=3DY.parentNode;Z[V]=3DW.nodeName=3D=3D=3D=
U?W:false}}}else{for(var V=3D0,T=3DZ.length;V<T;V++){var Y=3DZ[V];if(Y){=
Z[V]=3DX?Y.parentNode:Y.parentNode=3D=3D=3DU}}if(X){F.filter(U,Z,true)}}=
},"":function(W,U,Y){var V=3DL++,T=3DS;if(!U.match(/\W/)){var X=3DU=3DY?=
U:U.toUpperCase();T=3DP}T("parentNode",U,V,W,X,Y)},"~":function(W,U,Y){v=
ar V=3DL++,T=3DS;if(typeof U=3D=3D=3D"string"&&!U.match(/\W/)){var X=3DU=
=3DY?U:U.toUpperCase();T=3DP}T("previousSibling",U,V,W,X,Y)}},find:{ID:f=
unction(U,V,W){if(typeof V.getElementById!=3D=3D"undefined"&&!W){var T=3D=
V.getElementById(U[1]);return T?[T]:[]}},NAME:function(V,Y,Z){if(typeof =
Y.getElementsByName!=3D=3D"undefined"){var U=3D[],X=3DY.getElementsByNam=
e(V[1]);for(var W=3D0,T=3DX.length;W<T;W++){if(X[W].getAttribute("name")=
=3D=3D=3DV[1]){U.push(X[W])}}return U.length=3D=3D=3D0?null:U}},TAG:func=
tion(T,U){return U.getElementsByTagName(T[1])}},preFilter:{CLASS:functio=
n(W,U,V,T,Z,aa){W=3D" "+W[1].replace(/\\/g,"")+" ";if(aa){return W}for(v=
ar X=3D0,Y;(Y=3DU[X])!=3Dnull;X++){if(Y){if(Z^(Y.className&&(" "+Y.class=
Name+" ").indexOf(W)>=3D0)){if(!V){T.push(Y)}}else{if(V){U[X]=3Dfalse}}}=
}return false},ID:function(T){return T[1].replace(/\\/g,"")},TAG:functio=
n(U,T){for(var V=3D0;T[V]=3D=3D=3Dfalse;V++){}return T[V]&&Q(T[V])?U[1]:=
U[1].toUpperCase()},CHILD:function(T){if(T[1]=3D=3D"nth"){var U=3D/(-?)(=
\d*)n((?:\+|-)?\d*)/.exec(T[2]=3D=3D"even"&&"2n"||T[2]=3D=3D"odd"&&"2n+1=
"||!/\D/.test(T[2])&&"0n+"+T[2]||T[2]);T[2]=3D(U[1]+(U[2]||1))-0;T[3]=3D=
U[3]-0}T[0]=3DL++;return T},ATTR:function(X,U,V,T,Y,Z){var W=3DX[1].repl=
ace(/\\/g,"");if(!Z&&I.attrMap[W]){X[1]=3DI.attrMap[W]}if(X[2]=3D=3D=3D"=
~=3D"){X[4]=3D" "+X[4]+" "}return X},PSEUDO:function(X,U,V,T,Y){if(X[1]=3D=
=3D=3D"not"){if(X[3].match(R).length>1||/^\w/.test(X[3])){X[3]=3DF(X[3],=
null,null,U)}else{var W=3DF.filter(X[3],U,V,true^Y);if(!V){T.push.apply(=
T,W)}return false}}else{if(I.match.POS.test(X[0])||I.match.CHILD.test(X[=
0])){return true}}return X},POS:function(T){T.unshift(true);return T}},f=
ilters:{enabled:function(T){return T.disabled=3D=3D=3Dfalse&&T.type!=3D=3D=
"hidden"},disabled:function(T){return T.disabled=3D=3D=3Dtrue},checked:f=
unction(T){return T.checked=3D=3D=3Dtrue},selected:function(T){T.parentN=
ode.selectedIndex;return T.selected=3D=3D=3Dtrue},parent:function(T){ret=
urn !!T.firstChild},empty:function(T){return !T.firstChild},has:function=
(V,U,T){return !!F(T[3],V).length},header:function(T){return/h\d/i.test(=
T.nodeName)},text:function(T){return"text"=3D=3D=3DT.type},radio:functio=
n(T){return"radio"=3D=3D=3DT.type},checkbox:function(T){return"checkbox"=
=3D=3D=3DT.type},file:function(T){return"file"=3D=3D=3DT.type},password:=
function(T){return"password"=3D=3D=3DT.type},submit:function(T){return"s=
ubmit"=3D=3D=3DT.type},image:function(T){return"image"=3D=3D=3DT.type},r=
eset:function(T){return"reset"=3D=3D=3DT.type},button:function(T){return=
"button"=3D=3D=3DT.type||T.nodeName.toUpperCase()=3D=3D=3D"BUTTON"},inpu=
t:function(T){return/input|select|textarea|button/i.test(T.nodeName)}},s=
etFilters:{first:function(U,T){return T=3D=3D=3D0},last:function(V,U,T,W=
){return U=3D=3D=3DW.length-1},even:function(U,T){return T%2=3D=3D=3D0},=
odd:function(U,T){return T%2=3D=3D=3D1},lt:function(V,U,T){return U<T[3]=
-0},gt:function(V,U,T){return U>T[3]-0},nth:function(V,U,T){return T[3]-=
0=3D=3DU},eq:function(V,U,T){return T[3]-0=3D=3DU}},filter:{PSEUDO:funct=
ion(Z,V,W,aa){var U=3DV[1],X=3DI.filters[U];if(X){return X(Z,W,V,aa)}els=
e{if(U=3D=3D=3D"contains"){return(Z.textContent||Z.innerText||"").indexO=
f(V[3])>=3D0}else{if(U=3D=3D=3D"not"){var Y=3DV[3];for(var W=3D0,T=3DY.l=
ength;W<T;W++){if(Y[W]=3D=3D=3DZ){return false}}return true}}}},CHILD:fu=
nction(T,W){var Z=3DW[1],U=3DT;switch(Z){case"only":case"first":while(U=3D=
U.previousSibling){if(U.nodeType=3D=3D=3D1){return false}}if(Z=3D=3D"fir=
st"){return true}U=3DT;case"last":while(U=3DU.nextSibling){if(U.nodeType=
=3D=3D=3D1){return false}}return true;case"nth":var V=3DW[2],ac=3DW[3];i=
f(V=3D=3D1&&ac=3D=3D0){return true}var Y=3DW[0],ab=3DT.parentNode;if(ab&=
&(ab.sizcache!=3D=3DY||!T.nodeIndex)){var X=3D0;for(U=3Dab.firstChild;U;=
U=3DU.nextSibling){if(U.nodeType=3D=3D=3D1){U.nodeIndex=3D++X}}ab.sizcac=
he=3DY}var aa=3DT.nodeIndex-ac;if(V=3D=3D0){return aa=3D=3D0}else{return=
(aa%V=3D=3D0&&aa/V>=3D0)}}},ID:function(U,T){return U.nodeType=3D=3D=3D1=
&&U.getAttribute("id")=3D=3D=3DT},TAG:function(U,T){return(T=3D=3D=3D"*"=
&&U.nodeType=3D=3D=3D1)||U.nodeName=3D=3D=3DT},CLASS:function(U,T){retur=
n(" "+(U.className||U.getAttribute("class"))+" ").indexOf(T)>-1},ATTR:fu=
nction(Y,W){var V=3DW[1],T=3DI.attrHandle[V]?I.attrHandle[V](Y):Y[V]!=3D=
null?Y[V]:Y.getAttribute(V),Z=3DT+"",X=3DW[2],U=3DW[4];return T=3D=3Dnul=
l?X=3D=3D=3D"!=3D":X=3D=3D=3D"=3D"?Z=3D=3D=3DU:X=3D=3D=3D"*=3D"?Z.indexO=
f(U)>=3D0:X=3D=3D=3D"~=3D"?(" "+Z+" ").indexOf(U)>=3D0:!U?Z&&T!=3D=3Dfal=
se:X=3D=3D=3D"!=3D"?Z!=3DU:X=3D=3D=3D"^=3D"?Z.indexOf(U)=3D=3D=3D0:X=3D=3D=
=3D"$=3D"?Z.substr(Z.length-U.length)=3D=3D=3DU:X=3D=3D=3D"|=3D"?Z=3D=3D=
=3DU||Z.substr(0,U.length+1)=3D=3D=3DU+"-":false},POS:function(X,U,V,Y){=
var T=3DU[2],W=3DI.setFilters[T];if(W){return W(X,V,U,Y)}}}};var M=3DI.m=
atch.POS;for(var O in I.match){I.match[O]=3DRegExp(I.match[O].source+/(?=
![^\[]*\])(?![^\(]*\))/.source)}var E=3Dfunction(U,T){U=3DArray.prototyp=
e.slice.call(U);if(T){T.push.apply(T,U);return T}return U};try{Array.pro=
totype.slice.call(document.documentElement.childNodes)}catch(N){E=3Dfunc=
tion(X,W){var U=3DW||[];if(H.call(X)=3D=3D=3D"[object Array]"){Array.pro=
totype.push.apply(U,X)}else{if(typeof X.length=3D=3D=3D"number"){for(var=
 V=3D0,T=3DX.length;V<T;V++){U.push(X[V])}}else{for(var V=3D0;X[V];V++){=
U.push(X[V])}}}return U}}var G;if(document.documentElement.compareDocume=
ntPosition){G=3Dfunction(U,T){var V=3DU.compareDocumentPosition(T)&4?-1:=
U=3D=3D=3DT?0:1;if(V=3D=3D=3D0){hasDuplicate=3Dtrue}return V}}else{if("s=
ourceIndex" in document.documentElement){G=3Dfunction(U,T){var V=3DU.sou=
rceIndex-T.sourceIndex;if(V=3D=3D=3D0){hasDuplicate=3Dtrue}return V}}els=
e{if(document.createRange){G=3Dfunction(W,U){var V=3DW.ownerDocument.cre=
ateRange(),T=3DU.ownerDocument.createRange();V.selectNode(W);V.collapse(=
true);T.selectNode(U);T.collapse(true);var X=3DV.compareBoundaryPoints(R=
ange.START_TO_END,T);if(X=3D=3D=3D0){hasDuplicate=3Dtrue}return X}}}}(fu=
nction(){var U=3Ddocument.createElement("form"),V=3D"script"+(new Date).=
getTime();U.innerHTML=3D"<input name=3D'"+V+"'/>";var T=3Ddocument.docum=
entElement;T.insertBefore(U,T.firstChild);if(!!document.getElementById(V=
)){I.find.ID=3Dfunction(X,Y,Z){if(typeof Y.getElementById!=3D=3D"undefin=
ed"&&!Z){var W=3DY.getElementById(X[1]);return W?W.id=3D=3D=3DX[1]||type=
of W.getAttributeNode!=3D=3D"undefined"&&W.getAttributeNode("id").nodeVa=
lue=3D=3D=3DX[1]?[W]:g:[]}};I.filter.ID=3Dfunction(Y,W){var X=3Dtypeof Y=
.getAttributeNode!=3D=3D"undefined"&&Y.getAttributeNode("id");return Y.n=
odeType=3D=3D=3D1&&X&&X.nodeValue=3D=3D=3DW}}T.removeChild(U)})();(funct=
ion(){var T=3Ddocument.createElement("div");T.appendChild(document.creat=
eComment(""));if(T.getElementsByTagName("*").length>0){I.find.TAG=3Dfunc=
tion(U,Y){var X=3DY.getElementsByTagName(U[1]);if(U[1]=3D=3D=3D"*"){var =
W=3D[];for(var V=3D0;X[V];V++){if(X[V].nodeType=3D=3D=3D1){W.push(X[V])}=
}X=3DW}return X}}T.innerHTML=3D"<a href=3D'#'></a>";if(T.firstChild&&typ=
eof T.firstChild.getAttribute!=3D=3D"undefined"&&T.firstChild.getAttribu=
te("href")!=3D=3D"#"){I.attrHandle.href=3Dfunction(U){return U.getAttrib=
ute("href",2)}}})();if(document.querySelectorAll){(function(){var T=3DF,=
U=3Ddocument.createElement("div");U.innerHTML=3D"<p class=3D'TEST'></p>"=
;if(U.querySelectorAll&&U.querySelectorAll(".TEST").length=3D=3D=3D0){re=
turn}F=3Dfunction(Y,X,V,W){X=3DX||document;if(!W&&X.nodeType=3D=3D=3D9&&=
!Q(X)){try{return E(X.querySelectorAll(Y),V)}catch(Z){}}return T(Y,X,V,W=
)};F.find=3DT.find;F.filter=3DT.filter;F.selectors=3DT.selectors;F.match=
es=3DT.matches})()}if(document.getElementsByClassName&&document.document=
Element.getElementsByClassName){(function(){var T=3Ddocument.createEleme=
nt("div");T.innerHTML=3D"<div class=3D'test e'></div><div class=3D'test'=
></div>";if(T.getElementsByClassName("e").length=3D=3D=3D0){return}T.las=
tChild.className=3D"e";if(T.getElementsByClassName("e").length=3D=3D=3D1=
){return}I.order.splice(1,0,"CLASS");I.find.CLASS=3Dfunction(U,V,W){if(t=
ypeof V.getElementsByClassName!=3D=3D"undefined"&&!W){return V.getElemen=
tsByClassName(U[1])}}})()}function P(U,Z,Y,ad,aa,ac){var ab=3DU=3D=3D"pr=
eviousSibling"&&!ac;for(var W=3D0,V=3Dad.length;W<V;W++){var T=3Dad[W];i=
f(T){if(ab&&T.nodeType=3D=3D=3D1){T.sizcache=3DY;T.sizset=3DW}T=3DT[U];v=
ar X=3Dfalse;while(T){if(T.sizcache=3D=3D=3DY){X=3Dad[T.sizset];break}if=
(T.nodeType=3D=3D=3D1&&!ac){T.sizcache=3DY;T.sizset=3DW}if(T.nodeName=3D=
=3D=3DZ){X=3DT;break}T=3DT[U]}ad[W]=3DX}}}function S(U,Z,Y,ad,aa,ac){var=
 ab=3DU=3D=3D"previousSibling"&&!ac;for(var W=3D0,V=3Dad.length;W<V;W++)=
{var T=3Dad[W];if(T){if(ab&&T.nodeType=3D=3D=3D1){T.sizcache=3DY;T.sizse=
t=3DW}T=3DT[U];var X=3Dfalse;while(T){if(T.sizcache=3D=3D=3DY){X=3Dad[T.=
sizset];break}if(T.nodeType=3D=3D=3D1){if(!ac){T.sizcache=3DY;T.sizset=3D=
W}if(typeof Z!=3D=3D"string"){if(T=3D=3D=3DZ){X=3Dtrue;break}}else{if(F.=
filter(Z,[T]).length>0){X=3DT;break}}}T=3DT[U]}ad[W]=3DX}}}var K=3Ddocum=
ent.compareDocumentPosition?function(U,T){return U.compareDocumentPositi=
on(T)&16}:function(U,T){return U!=3D=3DT&&(U.contains?U.contains(T):true=
)};var Q=3Dfunction(T){return T.nodeType=3D=3D=3D9&&T.documentElement.no=
deName!=3D=3D"HTML"||!!T.ownerDocument&&Q(T.ownerDocument)};var J=3Dfunc=
tion(T,aa){var W=3D[],X=3D"",Y,V=3Daa.nodeType?[aa]:aa;while((Y=3DI.matc=
h.PSEUDO.exec(T))){X+=3DY[0];T=3DT.replace(I.match.PSEUDO,"")}T=3DI.rela=
tive[T]?T+"*":T;for(var Z=3D0,U=3DV.length;Z<U;Z++){F(T,V[Z],W)}return F=
.filter(X,W)};o.find=3DF;o.filter=3DF.filter;o.expr=3DF.selectors;o.expr=
[":"]=3Do.expr.filters;F.selectors.filters.hidden=3Dfunction(T){return T=
.offsetWidth=3D=3D=3D0||T.offsetHeight=3D=3D=3D0};F.selectors.filters.vi=
sible=3Dfunction(T){return T.offsetWidth>0||T.offsetHeight>0};F.selector=
s.filters.animated=3Dfunction(T){return o.grep(o.timers,function(U){retu=
rn T=3D=3D=3DU.elem}).length};o.multiFilter=3Dfunction(V,T,U){if(U){V=3D=
":not("+V+")"}return F.matches(V,T)};o.dir=3Dfunction(V,U){var T=3D[],W=3D=
V[U];while(W&&W!=3Ddocument){if(W.nodeType=3D=3D1){T.push(W)}W=3DW[U]}re=
turn T};o.nth=3Dfunction(X,T,V,W){T=3DT||1;var U=3D0;for(;X;X=3DX[V]){if=
(X.nodeType=3D=3D1&&++U=3D=3DT){break}}return X};o.sibling=3Dfunction(V,=
U){var T=3D[];for(;V;V=3DV.nextSibling){if(V.nodeType=3D=3D1&&V!=3DU){T.=
push(V)}}return T};return;l.Sizzle=3DF})();o.event=3D{add:function(I,F,H=
,K){if(I.nodeType=3D=3D3||I.nodeType=3D=3D8){return}if(I.setInterval&&I!=
=3Dl){I=3Dl}if(!H.guid){H.guid=3Dthis.guid++}if(K!=3D=3Dg){var G=3DH;H=3D=
this.proxy(G);H.data=3DK}var E=3Do.data(I,"events")||o.data(I,"events",{=
}),J=3Do.data(I,"handle")||o.data(I,"handle",function(){return typeof o!=
=3D=3D"undefined"&&!o.event.triggered?o.event.handle.apply(arguments.cal=
lee.elem,arguments):g});J.elem=3DI;o.each(F.split(/\s+/),function(M,N){v=
ar O=3DN.split(".");N=3DO.shift();H.type=3DO.slice().sort().join(".");va=
r L=3DE[N];if(o.event.specialAll[N]){o.event.specialAll[N].setup.call(I,=
K,O)}if(!L){L=3DE[N]=3D{};if(!o.event.special[N]||o.event.special[N].set=
up.call(I,K,O)=3D=3D=3Dfalse){if(I.addEventListener){I.addEventListener(=
N,J,false)}else{if(I.attachEvent){I.attachEvent("on"+N,J)}}}}L[H.guid]=3D=
H;o.event.global[N]=3Dtrue});I=3Dnull},guid:1,global:{},remove:function(=
K,H,J){if(K.nodeType=3D=3D3||K.nodeType=3D=3D8){return}var G=3Do.data(K,=
"events"),F,E;if(G){if(H=3D=3D=3Dg||(typeof H=3D=3D=3D"string"&&H.charAt=
(0)=3D=3D".")){for(var I in G){this.remove(K,I+(H||""))}}else{if(H.type)=
{J=3DH.handler;H=3DH.type}o.each(H.split(/\s+/),function(M,O){var Q=3DO.=
split(".");O=3DQ.shift();var N=3DRegExp("(^|\\.)"+Q.slice().sort().join(=
".*\\.")+"(\\.|$)");if(G[O]){if(J){delete G[O][J.guid]}else{for(var P in=
 G[O]){if(N.test(G[O][P].type)){delete G[O][P]}}}if(o.event.specialAll[O=
]){o.event.specialAll[O].teardown.call(K,Q)}for(F in G[O]){break}if(!F){=
if(!o.event.special[O]||o.event.special[O].teardown.call(K,Q)=3D=3D=3Dfa=
lse){if(K.removeEventListener){K.removeEventListener(O,o.data(K,"handle"=
),false)}else{if(K.detachEvent){K.detachEvent("on"+O,o.data(K,"handle"))=
}}}F=3Dnull;delete G[O]}}})}for(F in G){break}if(!F){var L=3Do.data(K,"h=
andle");if(L){L.elem=3Dnull}o.removeData(K,"events");o.removeData(K,"han=
dle")}}},trigger:function(I,K,H,E){var G=3DI.type||I;if(!E){I=3Dtypeof I=
=3D=3D=3D"object"?I[h]?I:o.extend(o.Event(G),I):o.Event(G);if(G.indexOf(=
"!")>=3D0){I.type=3DG=3DG.slice(0,-1);I.exclusive=3Dtrue}if(!H){I.stopPr=
opagation();if(this.global[G]){o.each(o.cache,function(){if(this.events&=
&this.events[G]){o.event.trigger(I,K,this.handle.elem)}})}}if(!H||H.node=
Type=3D=3D3||H.nodeType=3D=3D8){return g}I.result=3Dg;I.target=3DH;K=3Do=
.makeArray(K);K.unshift(I)}I.currentTarget=3DH;var J=3Do.data(H,"handle"=
);if(J){J.apply(H,K)}if((!H[G]||(o.nodeName(H,"a")&&G=3D=3D"click"))&&H[=
"on"+G]&&H["on"+G].apply(H,K)=3D=3D=3Dfalse){I.result=3Dfalse}if(!E&&H[G=
]&&!I.isDefaultPrevented()&&!(o.nodeName(H,"a")&&G=3D=3D"click")){this.t=
riggered=3Dtrue;try{H[G]()}catch(L){}}this.triggered=3Dfalse;if(!I.isPro=
pagationStopped()){var F=3DH.parentNode||H.ownerDocument;if(F){o.event.t=
rigger(I,K,F,true)}}},handle:function(K){var J,E;K=3Darguments[0]=3Do.ev=
ent.fix(K||l.event);K.currentTarget=3Dthis;var L=3DK.type.split(".");K.t=
ype=3DL.shift();J=3D!L.length&&!K.exclusive;var I=3DRegExp("(^|\\.)"+L.s=
lice().sort().join(".*\\.")+"(\\.|$)");E=3D(o.data(this,"events")||{})[K=
.type];for(var G in E){var H=3DE[G];if(J||I.test(H.type)){K.handler=3DH;=
K.data=3DH.data;var F=3DH.apply(this,arguments);if(F!=3D=3Dg){K.result=3D=
F;if(F=3D=3D=3Dfalse){K.preventDefault();K.stopPropagation()}}if(K.isImm=
ediatePropagationStopped()){break}}}},props:"altKey attrChange attrName =
bubbles button cancelable charCode clientX clientY ctrlKey currentTarget=
 data detail eventPhase fromElement handler keyCode metaKey newValue ori=
ginalTarget pageX pageY prevValue relatedNode relatedTarget screenX scre=
enY shiftKey srcElement target toElement view wheelDelta which".split(" =
"),fix:function(H){if(H[h]){return H}var F=3DH;H=3Do.Event(F);for(var G=3D=
this.props.length,J;G;){J=3Dthis.props[--G];H[J]=3DF[J]}if(!H.target){H.=
target=3DH.srcElement||document}if(H.target.nodeType=3D=3D3){H.target=3D=
H.target.parentNode}if(!H.relatedTarget&&H.fromElement){H.relatedTarget=3D=
H.fromElement=3D=3DH.target?H.toElement:H.fromElement}if(H.pageX=3D=3Dnu=
ll&&H.clientX!=3Dnull){var I=3Ddocument.documentElement,E=3Ddocument.bod=
y;H.pageX=3DH.clientX+(I&&I.scrollLeft||E&&E.scrollLeft||0)-(I.clientLef=
t||0);H.pageY=3DH.clientY+(I&&I.scrollTop||E&&E.scrollTop||0)-(I.clientT=
op||0)}if(!H.which&&((H.charCode||H.charCode=3D=3D=3D0)?H.charCode:H.key=
Code)){H.which=3DH.charCode||H.keyCode}if(!H.metaKey&&H.ctrlKey){H.metaK=
ey=3DH.ctrlKey}if(!H.which&&H.button){H.which=3D(H.button&1?1:(H.button&=
2?3:(H.button&4?2:0)))}return H},proxy:function(F,E){E=3DE||function(){r=
eturn F.apply(this,arguments)};E.guid=3DF.guid=3DF.guid||E.guid||this.gu=
id++;return E},special:{ready:{setup:B,teardown:function(){}}},specialAl=
l:{live:{setup:function(E,F){o.event.add(this,F[0],c)},teardown:function=
(G){if(G.length){var E=3D0,F=3DRegExp("(^|\\.)"+G[0]+"(\\.|$)");o.each((=
o.data(this,"events").live||{}),function(){if(F.test(this.type)){E++}});=
if(E<1){o.event.remove(this,G[0],c)}}}}}};o.Event=3Dfunction(E){if(!this=
.preventDefault){return new o.Event(E)}if(E&&E.type){this.originalEvent=3D=
E;this.type=3DE.type}else{this.type=3DE}this.timeStamp=3De();this[h]=3Dt=
rue};function k(){return false}function u(){return true}o.Event.prototyp=
e=3D{preventDefault:function(){this.isDefaultPrevented=3Du;var E=3Dthis.=
originalEvent;if(!E){return}if(E.preventDefault){E.preventDefault()}E.re=
turnValue=3Dfalse},stopPropagation:function(){this.isPropagationStopped=3D=
u;var E=3Dthis.originalEvent;if(!E){return}if(E.stopPropagation){E.stopP=
ropagation()}E.cancelBubble=3Dtrue},stopImmediatePropagation:function(){=
this.isImmediatePropagationStopped=3Du;this.stopPropagation()},isDefault=
Prevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k};var =
a=3Dfunction(F){var E=3DF.relatedTarget;while(E&&E!=3Dthis){try{E=3DE.pa=
rentNode}catch(G){E=3Dthis}}if(E!=3Dthis){F.type=3DF.data;o.event.handle=
.apply(this,arguments)}};o.each({mouseover:"mouseenter",mouseout:"mousel=
eave"},function(F,E){o.event.special[E]=3D{setup:function(){o.event.add(=
this,F,a,E)},teardown:function(){o.event.remove(this,F,a)}}});o.fn.exten=
d({bind:function(F,G,E){return F=3D=3D"unload"?this.one(F,G,E):this.each=
(function(){o.event.add(this,F,E||G,E&&G)})},one:function(G,H,F){var E=3D=
o.event.proxy(F||H,function(I){o(this).unbind(I,E);return(F||H).apply(th=
is,arguments)});return this.each(function(){o.event.add(this,G,E,F&&H)})=
},unbind:function(F,E){return this.each(function(){o.event.remove(this,F=
,E)})},trigger:function(E,F){return this.each(function(){o.event.trigger=
(E,F,this)})},triggerHandler:function(E,G){if(this[0]){var F=3Do.Event(E=
);F.preventDefault();F.stopPropagation();o.event.trigger(F,G,this[0]);re=
turn F.result}},toggle:function(G){var E=3Darguments,F=3D1;while(F<E.len=
gth){o.event.proxy(G,E[F++])}return this.click(o.event.proxy(G,function(=
H){this.lastToggle=3D(this.lastToggle||0)%F;H.preventDefault();return E[=
this.lastToggle++].apply(this,arguments)||false}))},hover:function(E,F){=
return this.mouseenter(E).mouseleave(F)},ready:function(E){B();if(o.isRe=
ady){E.call(document,o)}else{o.readyList.push(E)}return this},live:funct=
ion(G,F){var E=3Do.event.proxy(F);E.guid+=3Dthis.selector+G;o(document).=
bind(i(G,this.selector),this.selector,E);return this},die:function(F,E){=
o(document).unbind(i(F,this.selector),E?{guid:E.guid+this.selector+F}:nu=
ll);return this}});function c(H){var E=3DRegExp("(^|\\.)"+H.type+"(\\.|$=
)"),G=3Dtrue,F=3D[];o.each(o.data(this,"events").live||[],function(I,J){=
if(E.test(J.type)){var K=3Do(H.target).closest(J.data)[0];if(K){F.push({=
elem:K,fn:J})}}});F.sort(function(J,I){return o.data(J.elem,"closest")-o=
.data(I.elem,"closest")});o.each(F,function(){if(this.fn.call(this.elem,=
H,this.fn.data)=3D=3D=3Dfalse){return(G=3Dfalse)}});return G}function i(=
F,E){return["live",F,E.replace(/\./g,"`").replace(/ /g,"|")].join(".")}o=
.extend({isReady:false,readyList:[],ready:function(){if(!o.isReady){o.is=
Ready=3Dtrue;if(o.readyList){o.each(o.readyList,function(){this.call(doc=
ument,o)});o.readyList=3Dnull}o(document).triggerHandler("ready")}}});va=
r x=3Dfalse;function B(){if(x){return}x=3Dtrue;if(document.addEventListe=
ner){document.addEventListener("DOMContentLoaded",function(){document.re=
moveEventListener("DOMContentLoaded",arguments.callee,false);o.ready()},=
false)}else{if(document.attachEvent){document.attachEvent("onreadystatec=
hange",function(){if(document.readyState=3D=3D=3D"complete"){document.de=
tachEvent("onreadystatechange",arguments.callee);o.ready()}});if(documen=
t.documentElement.doScroll&&l=3D=3Dl.top){(function(){if(o.isReady){retu=
rn}try{document.documentElement.doScroll("left")}catch(E){setTimeout(arg=
uments.callee,0);return}o.ready()})()}}}o.event.add(l,"load",o.ready)}o.=
each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mou=
seup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,su=
bmit,keydown,keypress,keyup,error").split(","),function(F,E){o.fn[E]=3Df=
unction(G){return G?this.bind(E,G):this.trigger(E)}});o(l).bind("unload"=
,function(){for(var E in o.cache){if(E!=3D1&&o.cache[E].handle){o.event.=
remove(o.cache[E].handle.elem)}}});(function(){o.support=3D{};var F=3Ddo=
cument.documentElement,G=3Ddocument.createElement("script"),K=3Ddocument=
.createElement("div"),J=3D"script"+(new Date).getTime();K.style.display=3D=
"none";K.innerHTML=3D'   <link/><table></table><a href=3D"/a" style=3D"c=
olor:red;float:left;opacity:.5;">a</a><select><option>text</option></sel=
ect><object><param/></object>';var H=3DK.getElementsByTagName("*"),E=3DK=
.getElementsByTagName("a")[0];if(!H||!H.length||!E){return}o.support=3D{=
leadingWhitespace:K.firstChild.nodeType=3D=3D3,tbody:!K.getElementsByTag=
Name("tbody").length,objectAll:!!K.getElementsByTagName("object")[0].get=
ElementsByTagName("*").length,htmlSerialize:!!K.getElementsByTagName("li=
nk").length,style:/red/.test(E.getAttribute("style")),hrefNormalized:E.g=
etAttribute("href")=3D=3D=3D"/a",opacity:E.style.opacity=3D=3D=3D"0.5",c=
ssFloat:!!E.style.cssFloat,scriptEval:false,noCloneEvent:true,boxModel:n=
ull};G.type=3D"text/javascript";try{G.appendChild(document.createTextNod=
e("window."+J+"=3D1;"))}catch(I){}F.insertBefore(G,F.firstChild);if(l[J]=
){o.support.scriptEval=3Dtrue;delete l[J]}F.removeChild(G);if(K.attachEv=
ent&&K.fireEvent){K.attachEvent("onclick",function(){o.support.noCloneEv=
ent=3Dfalse;K.detachEvent("onclick",arguments.callee)});K.cloneNode(true=
).fireEvent("onclick")}o(function(){var L=3Ddocument.createElement("div"=
);L.style.width=3DL.style.paddingLeft=3D"1px";document.body.appendChild(=
L);o.boxModel=3Do.support.boxModel=3DL.offsetWidth=3D=3D=3D2;document.bo=
dy.removeChild(L).style.display=3D"none"})})();var w=3Do.support.cssFloa=
t?"cssFloat":"styleFloat";o.props=3D{"for":"htmlFor","class":"className"=
,"float":w,cssFloat:w,styleFloat:w,readonly:"readOnly",maxlength:"maxLen=
gth",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"};o.=
fn.extend({_load:o.fn.load,load:function(G,J,K){if(typeof G!=3D=3D"strin=
g"){return this._load(G)}var I=3DG.indexOf(" ");if(I>=3D0){var E=3DG.sli=
ce(I,G.length);G=3DG.slice(0,I)}var H=3D"GET";if(J){if(o.isFunction(J)){=
K=3DJ;J=3Dnull}else{if(typeof J=3D=3D=3D"object"){J=3Do.param(J);H=3D"PO=
ST"}}}var F=3Dthis;o.ajax({url:G,type:H,dataType:"html",data:J,complete:=
function(M,L){if(L=3D=3D"success"||L=3D=3D"notmodified"){F.html(E?o("<di=
v/>").append(M.responseText.replace(/<script(.|\s)*?\/script>/g,"")).fin=
d(E):M.responseText)}if(K){F.each(K,[M.responseText,L,M])}}});return thi=
s},serialize:function(){return o.param(this.serializeArray())},serialize=
Array:function(){return this.map(function(){return this.elements?o.makeA=
rray(this.elements):this}).filter(function(){return this.name&&!this.dis=
abled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidd=
en|password|search/i.test(this.type))}).map(function(E,F){var G=3Do(this=
).val();return G=3D=3Dnull?null:o.isArray(G)?o.map(G,function(I,H){retur=
n{name:F.name,value:I}}):{name:F.name,value:G}}).get()}});o.each("ajaxSt=
art,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),fun=
ction(E,F){o.fn[F]=3Dfunction(G){return this.bind(F,G)}});var r=3De();o.=
extend({get:function(E,G,H,F){if(o.isFunction(G)){H=3DG;G=3Dnull}return =
o.ajax({type:"GET",url:E,data:G,success:H,dataType:F})},getScript:functi=
on(E,F){return o.get(E,null,F,"script")},getJSON:function(E,F,G){return =
o.get(E,F,G,"json")},post:function(E,G,H,F){if(o.isFunction(G)){H=3DG;G=3D=
{}}return o.ajax({type:"POST",url:E,data:G,success:H,dataType:F})},ajaxS=
etup:function(E){o.extend(o.ajaxSettings,E)},ajaxSettings:{url:location.=
href,global:true,type:"GET",contentType:"application/x-www-form-urlencod=
ed",processData:true,async:true,xhr:function(){return l.ActiveXObject?ne=
w ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest()},accepts:{xml:=
"application/xml, text/xml",html:"text/html",script:"text/javascript, ap=
plication/javascript",json:"application/json, text/javascript",text:"tex=
t/plain",_default:"*/*"}},lastModified:{},ajax:function(M){M=3Do.extend(=
true,M,o.extend(true,{},o.ajaxSettings,M));var W,F=3D/=3D\?(&|$)/g,R,V,G=
=3DM.type.toUpperCase();if(M.data&&M.processData&&typeof M.data!=3D=3D"s=
tring"){M.data=3Do.param(M.data)}if(M.dataType=3D=3D"jsonp"){if(G=3D=3D"=
GET"){if(!M.url.match(F)){M.url+=3D(M.url.match(/\?/)?"&":"?")+(M.jsonp|=
|"callback")+"=3D?"}}else{if(!M.data||!M.data.match(F)){M.data=3D(M.data=
?M.data+"&":"")+(M.jsonp||"callback")+"=3D?"}}M.dataType=3D"json"}if(M.d=
ataType=3D=3D"json"&&(M.data&&M.data.match(F)||M.url.match(F))){W=3D"jso=
np"+r++;if(M.data){M.data=3D(M.data+"").replace(F,"=3D"+W+"$1")}M.url=3D=
M.url.replace(F,"=3D"+W+"$1");M.dataType=3D"script";l[W]=3Dfunction(X){V=
=3DX;I();L();l[W]=3Dg;try{delete l[W]}catch(Y){}if(H){H.removeChild(T)}}=
}if(M.dataType=3D=3D"script"&&M.cache=3D=3Dnull){M.cache=3Dfalse}if(M.ca=
che=3D=3D=3Dfalse&&G=3D=3D"GET"){var E=3De();var U=3DM.url.replace(/(\?|=
&)_=3D.*?(&|$)/,"$1_=3D"+E+"$2");M.url=3DU+((U=3D=3DM.url)?(M.url.match(=
/\?/)?"&":"?")+"_=3D"+E:"")}if(M.data&&G=3D=3D"GET"){M.url+=3D(M.url.mat=
ch(/\?/)?"&":"?")+M.data;M.data=3Dnull}if(M.global&&!o.active++){o.event=
.trigger("ajaxStart")}var Q=3D/^(\w+:)?\/\/([^\/?#]+)/.exec(M.url);if(M.=
dataType=3D=3D"script"&&G=3D=3D"GET"&&Q&&(Q[1]&&Q[1]!=3Dlocation.protoco=
l||Q[2]!=3Dlocation.host)){var H=3Ddocument.getElementsByTagName("head")=
[0];var T=3Ddocument.createElement("script");T.src=3DM.url;if(M.scriptCh=
arset){T.charset=3DM.scriptCharset}if(!W){var O=3Dfalse;T.onload=3DT.onr=
eadystatechange=3Dfunction(){if(!O&&(!this.readyState||this.readyState=3D=
=3D"loaded"||this.readyState=3D=3D"complete")){O=3Dtrue;I();L();T.onload=
=3DT.onreadystatechange=3Dnull;H.removeChild(T)}}}H.appendChild(T);retur=
n g}var K=3Dfalse;var J=3DM.xhr();if(M.username){J.open(G,M.url,M.async,=
M.username,M.password)}else{J.open(G,M.url,M.async)}try{if(M.data){J.set=
RequestHeader("Content-Type",M.contentType)}if(M.ifModified){J.setReques=
tHeader("If-Modified-Since",o.lastModified[M.url]||"Thu, 01 Jan 1970 00:=
00:00 GMT")}J.setRequestHeader("X-Requested-With","XMLHttpRequest");J.se=
tRequestHeader("Accept",M.dataType&&M.accepts[M.dataType]?M.accepts[M.da=
taType]+", */*":M.accepts._default)}catch(S){}if(M.beforeSend&&M.beforeS=
end(J,M)=3D=3D=3Dfalse){if(M.global&&!--o.active){o.event.trigger("ajaxS=
top")}J.abort();return false}if(M.global){o.event.trigger("ajaxSend",[J,=
M])}var N=3Dfunction(X){if(J.readyState=3D=3D0){if(P){clearInterval(P);P=
=3Dnull;if(M.global&&!--o.active){o.event.trigger("ajaxStop")}}}else{if(=
!K&&J&&(J.readyState=3D=3D4||X=3D=3D"timeout")){K=3Dtrue;if(P){clearInte=
rval(P);P=3Dnull}R=3DX=3D=3D"timeout"?"timeout":!o.httpSuccess(J)?"error=
":M.ifModified&&o.httpNotModified(J,M.url)?"notmodified":"success";if(R=3D=
=3D"success"){try{V=3Do.httpData(J,M.dataType,M)}catch(Z){R=3D"parsererr=
or"}}if(R=3D=3D"success"){var Y;try{Y=3DJ.getResponseHeader("Last-Modifi=
ed")}catch(Z){}if(M.ifModified&&Y){o.lastModified[M.url]=3DY}if(!W){I()}=
}else{o.handleError(M,J,R)}L();if(X){J.abort()}if(M.async){J=3Dnull}}}};=
if(M.async){var P=3DsetInterval(N,13);if(M.timeout>0){setTimeout(functio=
n(){if(J&&!K){N("timeout")}},M.timeout)}}try{J.send(M.data)}catch(S){o.h=
andleError(M,J,null,S)}if(!M.async){N()}function I(){if(M.success){M.suc=
cess(V,R)}if(M.global){o.event.trigger("ajaxSuccess",[J,M])}}function L(=
){if(M.complete){M.complete(J,R)}if(M.global){o.event.trigger("ajaxCompl=
ete",[J,M])}if(M.global&&!--o.active){o.event.trigger("ajaxStop")}}retur=
n J},handleError:function(F,H,E,G){if(F.error){F.error(H,E,G)}if(F.globa=
l){o.event.trigger("ajaxError",[H,F,G])}},active:0,httpSuccess:function(=
F){try{return !F.status&&location.protocol=3D=3D"file:"||(F.status>=3D20=
0&&F.status<300)||F.status=3D=3D304||F.status=3D=3D1223}catch(E){}return=
 false},httpNotModified:function(G,E){try{var H=3DG.getResponseHeader("L=
ast-Modified");return G.status=3D=3D304||H=3D=3Do.lastModified[E]}catch(=
F){}return false},httpData:function(J,H,G){var F=3DJ.getResponseHeader("=
content-type"),E=3DH=3D=3D"xml"||!H&&F&&F.indexOf("xml")>=3D0,I=3DE?J.re=
sponseXML:J.responseText;if(E&&I.documentElement.tagName=3D=3D"parsererr=
or"){throw"parsererror"}if(G&&G.dataFilter){I=3DG.dataFilter(I,H)}if(typ=
eof I=3D=3D=3D"string"){if(H=3D=3D"script"){o.globalEval(I)}if(H=3D=3D"j=
son"){I=3Dl["eval"]("("+I+")")}}return I},param:function(E){var G=3D[];f=
unction H(I,J){G[G.length]=3DencodeURIComponent(I)+"=3D"+encodeURICompon=
ent(J)}if(o.isArray(E)||E.jquery){o.each(E,function(){H(this.name,this.v=
alue)})}else{for(var F in E){if(o.isArray(E[F])){o.each(E[F],function(){=
H(F,this)})}else{H(F,o.isFunction(E[F])?E[F]():E[F])}}}return G.join("&"=
).replace(/%20/g,"+")}});var m=3D{},n,d=3D[["height","marginTop","margin=
Bottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight=
","paddingLeft","paddingRight"],["opacity"]];function t(F,E){var G=3D{};=
o.each(d.concat.apply([],d.slice(0,E)),function(){G[this]=3DF});return G=
}o.fn.extend({show:function(J,L){if(J){return this.animate(t("show",3),J=
,L)}else{for(var H=3D0,F=3Dthis.length;H<F;H++){var E=3Do.data(this[H],"=
olddisplay");this[H].style.display=3DE||"";if(o.css(this[H],"display")=3D=
=3D=3D"none"){var G=3Dthis[H].tagName,K;if(m[G]){K=3Dm[G]}else{var I=3Do=
("<"+G+" />").appendTo("body");K=3DI.css("display");if(K=3D=3D=3D"none")=
{K=3D"block"}I.remove();m[G]=3DK}o.data(this[H],"olddisplay",K)}}for(var=
 H=3D0,F=3Dthis.length;H<F;H++){this[H].style.display=3Do.data(this[H],"=
olddisplay")||""}return this}},hide:function(H,I){if(H){return this.anim=
ate(t("hide",3),H,I)}else{for(var G=3D0,F=3Dthis.length;G<F;G++){var E=3D=
o.data(this[G],"olddisplay");if(!E&&E!=3D=3D"none"){o.data(this[G],"oldd=
isplay",o.css(this[G],"display"))}}for(var G=3D0,F=3Dthis.length;G<F;G++=
){this[G].style.display=3D"none"}return this}},_toggle:o.fn.toggle,toggl=
e:function(G,F){var E=3Dtypeof G=3D=3D=3D"boolean";return o.isFunction(G=
)&&o.isFunction(F)?this._toggle.apply(this,arguments):G=3D=3Dnull||E?thi=
s.each(function(){var H=3DE?G:o(this).is(":hidden");o(this)[H?"show":"hi=
de"]()}):this.animate(t("toggle",3),G,F)},fadeTo:function(E,G,F){return =
this.animate({opacity:G},E,F)},animate:function(I,F,H,G){var E=3Do.speed=
(F,H,G);return this[E.queue=3D=3D=3Dfalse?"each":"queue"](function(){var=
 K=3Do.extend({},E),M,L=3Dthis.nodeType=3D=3D1&&o(this).is(":hidden"),J=3D=
this;for(M in I){if(I[M]=3D=3D"hide"&&L||I[M]=3D=3D"show"&&!L){return K.=
complete.call(this)}if((M=3D=3D"height"||M=3D=3D"width")&&this.style){K.=
display=3Do.css(this,"display");K.overflow=3Dthis.style.overflow}}if(K.o=
verflow!=3Dnull){this.style.overflow=3D"hidden"}K.curAnim=3Do.extend({},=
I);o.each(I,function(O,S){var R=3Dnew o.fx(J,K,O);if(/toggle|show|hide/.=
test(S)){R[S=3D=3D"toggle"?L?"show":"hide":S](I)}else{var Q=3DS.toString=
().match(/^([+-]=3D)?([\d+-.]+)(.*)$/),T=3DR.cur(true)||0;if(Q){var N=3D=
parseFloat(Q[2]),P=3DQ[3]||"px";if(P!=3D"px"){J.style[O]=3D(N||1)+P;T=3D=
((N||1)/R.cur(true))*T;J.style[O]=3DT+P}if(Q[1]){N=3D((Q[1]=3D=3D"-=3D"?=
-1:1)*N)+T}R.custom(T,N,P)}else{R.custom(T,S,"")}}});return true})},stop=
:function(F,E){var G=3Do.timers;if(F){this.queue([])}this.each(function(=
){for(var H=3DG.length-1;H>=3D0;H--){if(G[H].elem=3D=3Dthis){if(E){G[H](=
true)}G.splice(H,1)}}});if(!E){this.dequeue()}return this}});o.each({sli=
deDown:t("show",1),slideUp:t("hide",1),slideToggle:t("toggle",1),fadeIn:=
{opacity:"show"},fadeOut:{opacity:"hide"}},function(E,F){o.fn[E]=3Dfunct=
ion(G,H){return this.animate(F,G,H)}});o.extend({speed:function(G,H,F){v=
ar E=3Dtypeof G=3D=3D=3D"object"?G:{complete:F||!F&&H||o.isFunction(G)&&=
G,duration:G,easing:F&&H||H&&!o.isFunction(H)&&H};E.duration=3Do.fx.off?=
0:typeof E.duration=3D=3D=3D"number"?E.duration:o.fx.speeds[E.duration]|=
|o.fx.speeds._default;E.old=3DE.complete;E.complete=3Dfunction(){if(E.qu=
eue!=3D=3Dfalse){o(this).dequeue()}if(o.isFunction(E.old)){E.old.call(th=
is)}};return E},easing:{linear:function(G,H,E,F){return E+F*G},swing:fun=
ction(G,H,E,F){return((-Math.cos(G*Math.PI)/2)+0.5)*F+E}},timers:[],fx:f=
unction(F,E,G){this.options=3DE;this.elem=3DF;this.prop=3DG;if(!E.orig){=
E.orig=3D{}}}});o.fx.prototype=3D{update:function(){if(this.options.step=
){this.options.step.call(this.elem,this.now,this)}(o.fx.step[this.prop]|=
|o.fx.step._default)(this);if((this.prop=3D=3D"height"||this.prop=3D=3D"=
width")&&this.elem.style){this.elem.style.display=3D"block"}},cur:functi=
on(F){if(this.elem[this.prop]!=3Dnull&&(!this.elem.style||this.elem.styl=
e[this.prop]=3D=3Dnull)){return this.elem[this.prop]}var E=3DparseFloat(=
o.css(this.elem,this.prop,F));return E&&E>-10000?E:parseFloat(o.curCSS(t=
his.elem,this.prop))||0},custom:function(I,H,G){this.startTime=3De();thi=
s.start=3DI;this.end=3DH;this.unit=3DG||this.unit||"px";this.now=3Dthis.=
start;this.pos=3Dthis.state=3D0;var E=3Dthis;function F(J){return E.step=
(J)}F.elem=3Dthis.elem;if(F()&&o.timers.push(F)&&!n){n=3DsetInterval(fun=
ction(){var K=3Do.timers;for(var J=3D0;J<K.length;J++){if(!K[J]()){K.spl=
ice(J--,1)}}if(!K.length){clearInterval(n);n=3Dg}},13)}},show:function()=
{this.options.orig[this.prop]=3Do.attr(this.elem.style,this.prop);this.o=
ptions.show=3Dtrue;this.custom(this.prop=3D=3D"width"||this.prop=3D=3D"h=
eight"?1:0,this.cur());o(this.elem).show()},hide:function(){this.options=
.orig[this.prop]=3Do.attr(this.elem.style,this.prop);this.options.hide=3D=
true;this.custom(this.cur(),0)},step:function(H){var G=3De();if(H||G>=3D=
this.options.duration+this.startTime){this.now=3Dthis.end;this.pos=3Dthi=
s.state=3D1;this.update();this.options.curAnim[this.prop]=3Dtrue;var E=3D=
true;for(var F in this.options.curAnim){if(this.options.curAnim[F]!=3D=3D=
true){E=3Dfalse}}if(E){if(this.options.display!=3Dnull){this.elem.style.=
overflow=3Dthis.options.overflow;this.elem.style.display=3Dthis.options.=
display;if(o.css(this.elem,"display")=3D=3D"none"){this.elem.style.displ=
ay=3D"block"}}if(this.options.hide){o(this.elem).hide()}if(this.options.=
hide||this.options.show){for(var I in this.options.curAnim){o.attr(this.=
elem.style,I,this.options.orig[I])}}this.options.complete.call(this.elem=
)}return false}else{var J=3DG-this.startTime;this.state=3DJ/this.options=
.duration;this.pos=3Do.easing[this.options.easing||(o.easing.swing?"swin=
g":"linear")](this.state,J,0,1,this.options.duration);this.now=3Dthis.st=
art+((this.end-this.start)*this.pos);this.update()}return true}};o.exten=
d(o.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(E=
){o.attr(E.elem.style,"opacity",E.now)},_default:function(E){if(E.elem.s=
tyle&&E.elem.style[E.prop]!=3Dnull){E.elem.style[E.prop]=3DE.now+E.unit}=
else{E.elem[E.prop]=3DE.now}}}});if(document.documentElement.getBounding=
ClientRect){o.fn.offset=3Dfunction(){if(!this[0]){return{top:0,left:0}}i=
f(this[0]=3D=3D=3Dthis[0].ownerDocument.body){return o.offset.bodyOffset=
(this[0])}var G=3Dthis[0].getBoundingClientRect(),J=3Dthis[0].ownerDocum=
ent,F=3DJ.body,E=3DJ.documentElement,L=3DE.clientTop||F.clientTop||0,K=3D=
E.clientLeft||F.clientLeft||0,I=3DG.top+(self.pageYOffset||o.boxModel&&E=
.scrollTop||F.scrollTop)-L,H=3DG.left+(self.pageXOffset||o.boxModel&&E.s=
crollLeft||F.scrollLeft)-K;return{top:I,left:H}}}else{o.fn.offset=3Dfunc=
tion(){if(!this[0]){return{top:0,left:0}}if(this[0]=3D=3D=3Dthis[0].owne=
rDocument.body){return o.offset.bodyOffset(this[0])}o.offset.initialized=
||o.offset.initialize();var J=3Dthis[0],G=3DJ.offsetParent,F=3DJ,O=3DJ.o=
wnerDocument,M,H=3DO.documentElement,K=3DO.body,L=3DO.defaultView,E=3DL.=
getComputedStyle(J,null),N=3DJ.offsetTop,I=3DJ.offsetLeft;while((J=3DJ.p=
arentNode)&&J!=3D=3DK&&J!=3D=3DH){M=3DL.getComputedStyle(J,null);N-=3DJ.=
scrollTop,I-=3DJ.scrollLeft;if(J=3D=3D=3DG){N+=3DJ.offsetTop,I+=3DJ.offs=
etLeft;if(o.offset.doesNotAddBorder&&!(o.offset.doesAddBorderForTableAnd=
Cells&&/^t(able|d|h)$/i.test(J.tagName))){N+=3DparseInt(M.borderTopWidth=
,10)||0,I+=3DparseInt(M.borderLeftWidth,10)||0}F=3DG,G=3DJ.offsetParent}=
if(o.offset.subtractsBorderForOverflowNotVisible&&M.overflow!=3D=3D"visi=
ble"){N+=3DparseInt(M.borderTopWidth,10)||0,I+=3DparseInt(M.borderLeftWi=
dth,10)||0}E=3DM}if(E.position=3D=3D=3D"relative"||E.position=3D=3D=3D"s=
tatic"){N+=3DK.offsetTop,I+=3DK.offsetLeft}if(E.position=3D=3D=3D"fixed"=
){N+=3DMath.max(H.scrollTop,K.scrollTop),I+=3DMath.max(H.scrollLeft,K.sc=
rollLeft)}return{top:N,left:I}}}o.offset=3D{initialize:function(){if(thi=
s.initialized){return}var L=3Ddocument.body,F=3Ddocument.createElement("=
div"),H,G,N,I,M,E,J=3DL.style.marginTop,K=3D'<div style=3D"position:abso=
lute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;hei=
ght:1px;"><div></div></div><table style=3D"position:absolute;top:0;left:=
0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpa=
dding=3D"0" cellspacing=3D"0"><tr><td></td></tr></table>';M=3D{position:=
"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visib=
ility:"hidden"};for(E in M){F.style[E]=3DM[E]}F.innerHTML=3DK;L.insertBe=
fore(F,L.firstChild);H=3DF.firstChild,G=3DH.firstChild,I=3DH.nextSibling=
.firstChild.firstChild;this.doesNotAddBorder=3D(G.offsetTop!=3D=3D5);thi=
s.doesAddBorderForTableAndCells=3D(I.offsetTop=3D=3D=3D5);H.style.overfl=
ow=3D"hidden",H.style.position=3D"relative";this.subtractsBorderForOverf=
lowNotVisible=3D(G.offsetTop=3D=3D=3D-5);L.style.marginTop=3D"1px";this.=
doesNotIncludeMarginInBodyOffset=3D(L.offsetTop=3D=3D=3D0);L.style.margi=
nTop=3DJ;L.removeChild(F);this.initialized=3Dtrue},bodyOffset:function(E=
){o.offset.initialized||o.offset.initialize();var G=3DE.offsetTop,F=3DE.=
offsetLeft;if(o.offset.doesNotIncludeMarginInBodyOffset){G+=3DparseInt(o=
.curCSS(E,"marginTop",true),10)||0,F+=3DparseInt(o.curCSS(E,"marginLeft"=
,true),10)||0}return{top:G,left:F}}};o.fn.extend({position:function(){va=
r I=3D0,H=3D0,F;if(this[0]){var G=3Dthis.offsetParent(),J=3Dthis.offset(=
),E=3D/^body|html$/i.test(G[0].tagName)?{top:0,left:0}:G.offset();J.top-=
=3Dj(this,"marginTop");J.left-=3Dj(this,"marginLeft");E.top+=3Dj(G,"bord=
erTopWidth");E.left+=3Dj(G,"borderLeftWidth");F=3D{top:J.top-E.top,left:=
J.left-E.left}}return F},offsetParent:function(){var E=3Dthis[0].offsetP=
arent||document.body;while(E&&(!/^body|html$/i.test(E.tagName)&&o.css(E,=
"position")=3D=3D"static")){E=3DE.offsetParent}return o(E)}});o.each(["L=
eft","Top"],function(F,E){var G=3D"scroll"+E;o.fn[G]=3Dfunction(H){if(!t=
his[0]){return null}return H!=3D=3Dg?this.each(function(){this=3D=3Dl||t=
his=3D=3Ddocument?l.scrollTo(!F?H:o(l).scrollLeft(),F?H:o(l).scrollTop()=
):this[G]=3DH}):this[0]=3D=3Dl||this[0]=3D=3Ddocument?self[F?"pageYOffse=
t":"pageXOffset"]||o.boxModel&&document.documentElement[G]||document.bod=
y[G]:this[0][G]}});o.each(["Height","Width"],function(I,G){var E=3DI?"Le=
ft":"Top",H=3DI?"Right":"Bottom",F=3DG.toLowerCase();o.fn["inner"+G]=3Df=
unction(){return this[0]?o.css(this[0],F,false,"padding"):null};o.fn["ou=
ter"+G]=3Dfunction(K){return this[0]?o.css(this[0],F,false,K?"margin":"b=
order"):null};var J=3DG.toLowerCase();o.fn[J]=3Dfunction(K){return this[=
0]=3D=3Dl?document.compatMode=3D=3D"CSS1Compat"&&document.documentElemen=
t["client"+G]||document.body["client"+G]:this[0]=3D=3Ddocument?Math.max(=
document.documentElement["client"+G],document.body["scroll"+G],document.=
documentElement["scroll"+G],document.body["offset"+G],document.documentE=
lement["offset"+G]):K=3D=3D=3Dg?(this.length?o.css(this[0],J):null):this=
.css(J,typeof K=3D=3D=3D"string"?K:K+"px")}})})();
------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline; filename=jquery-ui.min.js
Content-Type: text/javascript; charset=UTF-8; name=jquery-ui.min.js
Content-Location: http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js
Content-Transfer-Encoding: 8bit

/*
 * jQuery UI 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI
 */
jQuery.ui||(function(c){var i=c.fn.remove,d=c.browser.mozilla&&(parseFloat(c.browser.version)<1.9);c.ui={version:"1.7.2",plugin:{add:function(k,l,n){var m=c.ui[k].prototype;for(var j in n){m.plugins[j]=m.plugins[j]||[];m.plugins[j].push([l,n[j]])}},call:function(j,l,k){var n=j.plugins[l];if(!n||!j.element[0].parentNode){return}for(var m=0;m<n.length;m++){if(j.options[n[m][0]]){n[m][1].apply(j.element,k)}}}},contains:function(k,j){return document.compareDocumentPosition?k.compareDocumentPosition(j)&16:k!==j&&k.contains(j)},hasScroll:function(m,k){if(c(m).css("overflow")=="hidden"){return false}var j=(k&&k=="left")?"scrollLeft":"scrollTop",l=false;if(m[j]>0){return true}m[j]=1;l=(m[j]>0);m[j]=0;return l},isOverAxis:function(k,j,l){return(k>j)&&(k<(j+l))},isOver:function(o,k,n,m,j,l){return c.ui.isOverAxis(o,n,j)&&c.ui.isOverAxis(k,m,l)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(d){var f=c.attr,e=c.fn.removeAttr,h="http://www.w3.org/2005/07/aaa",a=/^aria-/,b=/^wairole:/;c.attr=function(k,j,l){var m=l!==undefined;return(j=="role"?(m?f.call(this,k,j,"wairole:"+l):(f.apply(this,arguments)||"").replace(b,"")):(a.test(j)?(m?k.setAttributeNS(h,j.replace(a,"aaa:"),l):f.call(this,k,j.replace(a,"aaa:"))):f.apply(this,arguments)))};c.fn.removeAttr=function(j){return(a.test(j)?this.each(function(){this.removeAttributeNS(h,j.replace(a,""))}):e.call(this,j))}}c.fn.extend({remove:function(){c("*",this).add(this).each(function(){c(this).triggerHandler("remove")});return i.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var j;if((c.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){j=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(c.curCSS(this,"position",1))&&(/(auto|scroll)/).test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0)}else{j=this.parents().filter(function(){return(/(auto|scroll)/).test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!j.length?c(document):j}});c.extend(c.expr[":"],{data:function(l,k,j){return !!c.data(l,j[3])},focusable:function(k){var l=k.nodeName.toLowerCase(),j=c.attr(k,"tabindex");return(/input|select|textarea|button|object/.test(l)?!k.disabled:"a"==l||"area"==l?k.href||!isNaN(j):!isNaN(j))&&!c(k)["area"==l?"parents":"closest"](":hidden").length},tabbable:function(k){var j=c.attr(k,"tabindex");return(isNaN(j)||j>=0)&&c(k).is(":focusable")}});function g(m,n,o,l){function k(q){var p=c[m][n][q]||[];return(typeof p=="string"?p.split(/,?\s+/):p)}var j=k("getter");if(l.length==1&&typeof l[0]=="string"){j=j.concat(k("getterSetter"))}return(c.inArray(o,j)!=-1)}c.widget=function(k,j){var l=k.split(".")[0];k=k.split(".")[1];c.fn[k]=function(p){var n=(typeof p=="string"),o=Array.prototype.slice.call(arguments,1);if(n&&p.substring(0,1)=="_"){return this}if(n&&g(l,k,p,o)){var m=c.data(this[0],k);return(m?m[p].apply(m,o):undefined)}return this.each(function(){var q=c.data(this,k);(!q&&!n&&c.data(this,k,new c[l][k](this,p))._init());(q&&n&&c.isFunction(q[p])&&q[p].apply(q,o))})};c[l]=c[l]||{};c[l][k]=function(o,n){var m=this;this.namespace=l;this.widgetName=k;this.widgetEventPrefix=c[l][k].eventPrefix||k;this.widgetBaseClass=l+"-"+k;this.options=c.extend({},c.widget.defaults,c[l][k].defaults,c.metadata&&c.metadata.get(o)[k],n);this.element=c(o).bind("setData."+k,function(q,p,r){if(q.target==o){return m._setData(p,r)}}).bind("getData."+k,function(q,p){if(q.target==o){return m._getData(p)}}).bind("remove",function(){return m.destroy()})};c[l][k].prototype=c.extend({},c.widget.prototype,j);c[l][k].getterSetter="option"};c.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(l,m){var k=l,j=this;if(typeof l=="string"){if(m===undefined){return this._getData(l)}k={};k[l]=m}c.each(k,function(n,o){j._setData(n,o)})},_getData:function(j){return this.options[j]},_setData:function(j,k){this.options[j]=k;if(j=="disabled"){this.element[k?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",k)}},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(l,m,n){var p=this.options[l],j=(l==this.widgetEventPrefix?l:this.widgetEventPrefix+l);m=c.Event(m);m.type=j;if(m.originalEvent){for(var k=c.event.props.length,o;k;){o=c.event.props[--k];m[o]=m.originalEvent[o]}}this.element.trigger(m,n);return !(c.isFunction(p)&&p.call(this.element[0],m,n)===false||m.isDefaultPrevented())}};c.widget.defaults={disabled:false};c.ui.mouse={_mouseInit:function(){var j=this;this.element.bind("mousedown."+this.widgetName,function(k){return j._mouseDown(k)}).bind("click."+this.widgetName,function(k){if(j._preventClickEvent){j._preventClickEvent=false;k.stopImmediatePropagation();return false}});if(c.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);(c.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable))},_mouseDown:function(l){l.originalEvent=l.originalEvent||{};if(l.originalEvent.mouseHandled){return}(this._mouseStarted&&this._mouseUp(l));this._mouseDownEvent=l;var k=this,m=(l.which==1),j=(typeof this.options.cancel=="string"?c(l.target).parents().add(l.target).filter(this.options.cancel).length:false);if(!m||j||!this._mouseCapture(l)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){k.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(l)&&this._mouseDelayMet(l)){this._mouseStarted=(this._mouseStart(l)!==false);if(!this._mouseStarted){l.preventDefault();return true}}this._mouseMoveDelegate=function(n){return k._mouseMove(n)};this._mouseUpDelegate=function(n){return k._mouseUp(n)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);(c.browser.safari||l.preventDefault());l.originalEvent.mouseHandled=true;return true},_mouseMove:function(j){if(c.browser.msie&&!j.button){return this._mouseUp(j)}if(this._mouseStarted){this._mouseDrag(j);return j.preventDefault()}if(this._mouseDistanceMet(j)&&this._mouseDelayMet(j)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,j)!==false);(this._mouseStarted?this._mouseDrag(j):this._mouseUp(j))}return !this._mouseStarted},_mouseUp:function(j){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(j.target==this._mouseDownEvent.target);this._mouseStop(j)}return false},_mouseDistanceMet:function(j){return(Math.max(Math.abs(this._mouseDownEvent.pageX-j.pageX),Math.abs(this._mouseDownEvent.pageY-j.pageY))>=this.options.distance)},_mouseDelayMet:function(j){return this.mouseDelayMet},_mouseStart:function(j){},_mouseDrag:function(j){},_mouseStop:function(j){},_mouseCapture:function(j){return true}};c.ui.mouse.defaults={cancel:null,distance:1,delay:0}})(jQuery);(function(a){a.widget("ui.draggable",a.extend({},a.ui.mouse,{_init:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(b);if(!this.handle){return false}return true},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;if(c.cursorAt){this._adjustOffsetFromHelper(c.cursorAt)}if(c.containment){this._setContainment()}this._trigger("start",b);this._cacheHelperProportions();if(a.ui.ddmanager&&!c.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,b)}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,true);return true},_mouseDrag:function(b,d){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!d){var c=this._uiHash();this._trigger("drag",b,c);this.position=c.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,b)}return false},_mouseStop:function(c){var d=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){d=a.ui.ddmanager.drop(this,c)}if(this.dropped){d=this.dropped;this.dropped=false}if((this.options.revert=="invalid"&&!d)||(this.options.revert=="valid"&&d)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d))){var b=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){b._trigger("stop",c);b._clear()})}else{this._trigger("stop",c);this._clear()}return false},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==b.target){c=true}});return c},_createHelper:function(c){var d=this.options;var b=a.isFunction(d.helper)?a(d.helper.apply(this.element[0],[c])):(d.helper=="clone"?this.element.clone():this.element);if(!b.parents("body").length){b.appendTo((d.appendTo=="parent"?this.element[0].parentNode:d.appendTo))}if(b[0]!=this.element[0]&&!(/(fixed|absolute)/).test(b.css("position"))){b.css("position","absolute")}return b},_adjustOffsetFromHelper:function(b){if(b.left!=undefined){this.offset.click.left=b.left+this.margins.left}if(b.right!=undefined){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if(b.top!=undefined){this.offset.click.top=b.top+this.margins.top}if(b.bottom!=undefined){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"){e.containment=this.helper[0].parentNode}if(e.containment=="document"||e.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(e.containment)&&e.containment.constructor!=Array){var c=a(e.containment)[0];if(!c){return}var d=a(e.containment).offset();var b=(a(c).css("overflow")!="hidden");this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(b?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(b?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}else{if(e.containment.constructor==Array){this.containment=e.containment}}},_convertPositionTo:function(f,h){if(!h){h=this.position}var c=f=="absolute"?1:-1;var e=this.options,b=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=(/(html|body)/i).test(b[0].tagName);return{top:(h.top+this.offset.relative.top*c+this.offset.parent.top*c-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(g?0:b.scrollTop()))*c)),left:(h.left+this.offset.relative.left*c+this.offset.parent.left*c-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:b.scrollLeft())*c))}},_generatePosition:function(e){var h=this.options,b=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,i=(/(html|body)/i).test(b[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var d=e.pageX;var c=e.pageY;if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){d=this.containment[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<this.containment[1]){c=this.containment[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>this.containment[2]){d=this.containment[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>this.containment[3]){c=this.containment[3]+this.offset.click.top}}if(h.grid){var g=this.originalPageY+Math.round((c-this.originalPageY)/h.grid[1])*h.grid[1];c=this.containment?(!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:(!(g-this.offset.click.top<this.containment[1])?g-h.grid[1]:g+h.grid[1])):g;var f=this.originalPageX+Math.round((d-this.originalPageX)/h.grid[0])*h.grid[0];d=this.containment?(!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:(!(f-this.offset.click.left<this.containment[0])?f-h.grid[0]:f+h.grid[0])):f}}return{top:(c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(i?0:b.scrollTop())))),left:(d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:b.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(b,c,d){d=d||this._uiHash();a.ui.plugin.call(this,b,[c,d]);if(b=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(b){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,offset:this.positionAbs}}}));a.extend(a.ui.draggable,{version:"1.7.2",eventPrefix:"drag",defaults:{addClasses:true,appendTo:"parent",axis:false,cancel:":input,option",connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false}});a.ui.plugin.add("draggable","connectToSortable",{start:function(c,e){var d=a(this).data("draggable"),f=d.options,b=a.extend({},e,{item:d.element});d.sortables=[];a(f.connectToSortable).each(function(){var g=a.data(this,"sortable");if(g&&!g.options.disabled){d.sortables.push({instance:g,shouldRevert:g.options.revert});g._refreshItems();g._trigger("activate",c,b)}})},stop:function(c,e){var d=a(this).data("draggable"),b=a.extend({},e,{item:d.element});a.each(d.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;d.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(c);this.instance.options.helper=this.instance.options._helper;if(d.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",c,b)}})},drag:function(c,f){var e=a(this).data("draggable"),b=this;var d=function(i){var n=this.offset.click.top,m=this.offset.click.left;var g=this.positionAbs.top,k=this.positionAbs.left;var j=i.height,l=i.width;var p=i.top,h=i.left;return a.ui.isOver(g+n,k+m,p,h,j,l)};a.each(e.sortables,function(g){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(b).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};c.target=this.instance.currentItem[0];this.instance._mouseCapture(c,true);this.instance._mouseStart(c,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;e._trigger("toSortable",c);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}if(this.instance.currentItem){this.instance._mouseDrag(c)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",c,this.instance._uiHash(this.instance));this.instance._mouseStop(c,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}e._trigger("fromSortable",c);e.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(c,d){var b=a("body"),e=a(this).data("draggable").options;if(b.css("cursor")){e._cursor=b.css("cursor")}b.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;if(d._cursor){a("body").css("cursor",d._cursor)}}});a.ui.plugin.add("draggable","iframeFix",{start:function(b,c){var d=a(this).data("draggable").options;a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})},stop:function(b,c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(c,d){var b=a(d.helper),e=a(this).data("draggable").options;if(b.css("opacity")){e._opacity=b.css("opacity")}b.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;if(d._opacity){a(c.helper).css("opacity",d._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(c,d){var b=a(this).data("draggable");if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){b.overflowOffset=b.scrollParent.offset()}},drag:function(d,e){var c=a(this).data("draggable"),f=c.options,b=false;if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){if(!f.axis||f.axis!="x"){if((c.overflowOffset.top+c.scrollParent[0].offsetHeight)-d.pageY<f.scrollSensitivity){c.scrollParent[0].scrollTop=b=c.scrollParent[0].scrollTop+f.scrollSpeed}else{if(d.pageY-c.overflowOffset.top<f.scrollSensitivity){c.scrollParent[0].scrollTop=b=c.scrollParent[0].scrollTop-f.scrollSpeed}}}if(!f.axis||f.axis!="y"){if((c.overflowOffset.left+c.scrollParent[0].offsetWidth)-d.pageX<f.scrollSensitivity){c.scrollParent[0].scrollLeft=b=c.scrollParent[0].scrollLeft+f.scrollSpeed}else{if(d.pageX-c.overflowOffset.left<f.scrollSensitivity){c.scrollParent[0].scrollLeft=b=c.scrollParent[0].scrollLeft-f.scrollSpeed}}}}else{if(!f.axis||f.axis!="x"){if(d.pageY-a(document).scrollTop()<f.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed)}else{if(a(window).height()-(d.pageY-a(document).scrollTop())<f.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed)}}}if(!f.axis||f.axis!="y"){if(d.pageX-a(document).scrollLeft()<f.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed)}else{if(a(window).width()-(d.pageX-a(document).scrollLeft())<f.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}}}}if(b!==false&&a.ui.ddmanager&&!f.dropBehaviour){a.ui.ddmanager.prepareOffsets(c,d)}}});a.ui.plugin.add("draggable","snap",{start:function(c,d){var b=a(this).data("draggable"),e=b.options;b.snapElements=[];a(e.snap.constructor!=String?(e.snap.items||":data(draggable)"):e.snap).each(function(){var g=a(this);var f=g.offset();if(this!=b.element[0]){b.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:f.top,left:f.left})}})},drag:function(u,p){var g=a(this).data("draggable"),q=g.options;var y=q.snapTolerance;var x=p.offset.left,w=x+g.helperProportions.width,f=p.offset.top,e=f+g.helperProportions.height;for(var v=g.snapElements.length-1;v>=0;v--){var s=g.snapElements[v].left,n=s+g.snapElements[v].width,m=g.snapElements[v].top,A=m+g.snapElements[v].height;if(!((s-y<x&&x<n+y&&m-y<f&&f<A+y)||(s-y<x&&x<n+y&&m-y<e&&e<A+y)||(s-y<w&&w<n+y&&m-y<f&&f<A+y)||(s-y<w&&w<n+y&&m-y<e&&e<A+y))){if(g.snapElements[v].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=false;continue}if(q.snapMode!="inner"){var c=Math.abs(m-e)<=y;var z=Math.abs(A-f)<=y;var j=Math.abs(s-w)<=y;var k=Math.abs(n-x)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m-g.helperProportions.height,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s-g.helperProportions.width}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n}).left-g.margins.left}}var h=(c||z||j||k);if(q.snapMode!="outer"){var c=Math.abs(m-f)<=y;var z=Math.abs(A-e)<=y;var j=Math.abs(s-x)<=y;var k=Math.abs(n-w)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A-g.helperProportions.height,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[v].snapping&&(c||z||j||k||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=(c||z||j||k||h)}}});a.ui.plugin.add("draggable","stack",{start:function(b,c){var e=a(this).data("draggable").options;var d=a.makeArray(a(e.stack.group)).sort(function(g,f){return(parseInt(a(g).css("zIndex"),10)||e.stack.min)-(parseInt(a(f).css("zIndex"),10)||e.stack.min)});a(d).each(function(f){this.style.zIndex=e.stack.min+f});this[0].style.zIndex=e.stack.min+d.length}});a.ui.plugin.add("draggable","zIndex",{start:function(c,d){var b=a(d.helper),e=a(this).data("draggable").options;if(b.css("zIndex")){e._zIndex=b.css("zIndex")}b.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;if(d._zIndex){a(c.helper).css("zIndex",d._zIndex)}}})})(jQuery);(function(a){a.widget("ui.droppable",{_init:function(){var c=this.options,b=c.accept;this.isover=0;this.isout=1;this.options.accept=this.options.accept&&a.isFunction(this.options.accept)?this.options.accept:function(e){return e.is(b)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[this.options.scope]=a.ui.ddmanager.droppables[this.options.scope]||[];a.ui.ddmanager.droppables[this.options.scope].push(this);(this.options.addClasses&&this.element.addClass("ui-droppable"))},destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];for(var c=0;c<b.length;c++){if(b[c]==this){b.splice(c,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable")},_setData:function(b,c){if(b=="accept"){this.options.accept=c&&a.isFunction(c)?c:function(e){return e.is(c)}}else{a.widget.prototype._setData.apply(this,arguments)}},_activate:function(c){var b=a.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}(b&&this._trigger("activate",c,this.ui(b)))},_deactivate:function(c){var b=a.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}(b&&this._trigger("deactivate",c,this.ui(b)))},_over:function(c){var b=a.ui.ddmanager.current;if(!b||(b.currentItem||b.element)[0]==this.element[0]){return}if(this.options.accept.call(this.element[0],(b.currentItem||b.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",c,this.ui(b))}},_out:function(c){var b=a.ui.ddmanager.current;if(!b||(b.currentItem||b.element)[0]==this.element[0]){return}if(this.options.accept.call(this.element[0],(b.currentItem||b.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",c,this.ui(b))}},_drop:function(c,d){var b=d||a.ui.ddmanager.current;if(!b||(b.currentItem||b.element)[0]==this.element[0]){return false}var e=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var f=a.data(this,"droppable");if(f.options.greedy&&a.ui.intersect(b,a.extend(f,{offset:f.element.offset()}),f.options.tolerance)){e=true;return false}});if(e){return false}if(this.options.accept.call(this.element[0],(b.currentItem||b.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",c,this.ui(b));return this.element}return false},ui:function(b){return{draggable:(b.currentItem||b.element),helper:b.helper,position:b.position,absolutePosition:b.positionAbs,offset:b.positionAbs}}});a.extend(a.ui.droppable,{version:"1.7.2",eventPrefix:"drop",defaults:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"}});a.ui.intersect=function(q,j,o){if(!j.offset){return false}var e=(q.positionAbs||q.position.absolute).left,d=e+q.helperProportions.width,n=(q.positionAbs||q.position.absolute).top,m=n+q.helperProportions.height;var g=j.offset.left,c=g+j.proportions.width,p=j.offset.top,k=p+j.proportions.height;switch(o){case"fit":return(g<e&&d<c&&p<n&&m<k);break;case"intersect":return(g<e+(q.helperProportions.width/2)&&d-(q.helperProportions.width/2)<c&&p<n+(q.helperProportions.height/2)&&m-(q.helperProportions.height/2)<k);break;case"pointer":var h=((q.positionAbs||q.position.absolute).left+(q.clickOffset||q.offset.click).left),i=((q.positionAbs||q.position.absolute).top+(q.clickOffset||q.offset.click).top),f=a.ui.isOver(i,h,p,g,j.proportions.height,j.proportions.width);return f;break;case"touch":return((n>=p&&n<=k)||(m>=p&&m<=k)||(n<p&&m>k))&&((e>=g&&e<=c)||(d>=g&&d<=c)||(e<g&&d>c));break;default:return false;break}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,g){var b=a.ui.ddmanager.droppables[e.options.scope];var f=g?g.type:null;var h=(e.currentItem||e.element).find(":data(droppable)").andSelf();droppablesLoop:for(var d=0;d<b.length;d++){if(b[d].options.disabled||(e&&!b[d].options.accept.call(b[d].element[0],(e.currentItem||e.element)))){continue}for(var c=0;c<h.length;c++){if(h[c]==b[d].element[0]){b[d].proportions.height=0;continue droppablesLoop}}b[d].visible=b[d].element.css("display")!="none";if(!b[d].visible){continue}b[d].offset=b[d].element.offset();b[d].proportions={width:b[d].element[0].offsetWidth,height:b[d].element[0].offsetHeight};if(f=="mousedown"){b[d]._activate.call(b[d],g)}}},drop:function(b,c){var d=false;a.each(a.ui.ddmanager.droppables[b.options.scope],function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)){d=this._drop.call(this,c)}if(!this.options.disabled&&this.visible&&this.options.accept.call(this.element[0],(b.currentItem||b.element))){this.isout=1;this.isover=0;this._deactivate.call(this,c)}});return d},drag:function(b,c){if(b.options.refreshPositions){a.ui.ddmanager.prepareOffsets(b,c)}a.each(a.ui.ddmanager.droppables[b.options.scope],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var e=a.ui.intersect(b,this,this.options.tolerance);var g=!e&&this.isover==1?"isout":(e&&this.isover==0?"isover":null);if(!g){return}var f;if(this.options.greedy){var d=this.element.parents(":data(droppable):eq(0)");if(d.length){f=a.data(d[0],"droppable");f.greedyChild=(g=="isover"?1:0)}}if(f&&g=="isover"){f.isover=0;f.isout=1;f._out.call(f,c)}this[g]=1;this[g=="isout"?"isover":"isout"]=0;this[g=="isover"?"_over":"_out"].call(this,c);if(f&&g=="isout"){f.isout=0;f.isover=1;f._over.call(f,c)}})}}})(jQuery);(function(c){c.widget("ui.resizable",c.extend({},c.ui.mouse,{_init:function(){var e=this,j=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(j.aspectRatio),aspectRatio:j.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:j.helper||j.ghost||j.animate?j.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){if(/relative/.test(this.element.css("position"))&&c.browser.opera){this.element.css({position:"relative",top:"auto",left:"auto"})}this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=j.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var k=this.handles.split(",");this.handles={};for(var f=0;f<k.length;f++){var h=c.trim(k[f]),d="ui-resizable-"+h;var g=c('<div class="ui-resizable-handle '+d+'"></div>');if(/sw|se|ne|nw/.test(h)){g.css({zIndex:++j.zIndex})}if("se"==h){g.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[h]=".ui-resizable-"+h;this.element.append(g)}}this._renderAxis=function(p){p=p||this.element;for(var m in this.handles){if(this.handles[m].constructor==String){this.handles[m]=c(this.handles[m],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n=c(this.handles[m],this.element),o=0;o=/sw|ne|nw|se|n|s/.test(m)?n.outerHeight():n.outerWidth();var l=["padding",/ne|nw|n/.test(m)?"Top":/se|sw|s/.test(m)?"Bottom":/^e$/.test(m)?"Right":"Left"].join("");p.css(l,o);this._proportionallyResize()}if(!c(this.handles[m]).length){continue}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!e.resizing){if(this.className){var i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}e.axis=i&&i[1]?i[1]:"se"}});if(j.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").hover(function(){c(this).removeClass("ui-resizable-autohide");e._handles.show()},function(){if(!e.resizing){c(this).addClass("ui-resizable-autohide");e._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var d=function(f){c(f).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){d(this.element);var e=this.element;e.parent().append(this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")})).end().remove()}this.originalElement.css("resize",this.originalResizeStyle);d(this.originalElement)},_mouseCapture:function(e){var f=false;for(var d in this.handles){if(c(this.handles[d])[0]==e.target){f=true}}return this.options.disabled||!!f},_mouseStart:function(f){var i=this.options,e=this.element.position(),d=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(d.is(".ui-draggable")||(/absolute/).test(d.css("position"))){d.css({position:"absolute",top:e.top,left:e.left})}if(c.browser.opera&&(/relative/).test(d.css("position"))){d.css({position:"relative",top:"auto",left:"auto"})}this._renderProxy();var j=b(this.helper.css("left")),g=b(this.helper.css("top"));if(i.containment){j+=c(i.containment).scrollLeft()||0;g+=c(i.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:j,top:g};this.size=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalSize=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalPosition={left:j,top:g};this.sizeDiff={width:d.outerWidth()-d.width(),height:d.outerHeight()-d.height()};this.originalMousePosition={left:f.pageX,top:f.pageY};this.aspectRatio=(typeof i.aspectRatio=="number")?i.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var h=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",h=="auto"?this.axis+"-resize":h);d.addClass("ui-resizable-resizing");this._propagate("start",f);return true},_mouseDrag:function(d){var g=this.helper,f=this.options,l={},p=this,i=this.originalMousePosition,m=this.axis;var q=(d.pageX-i.left)||0,n=(d.pageY-i.top)||0;var h=this._change[m];if(!h){return false}var k=h.apply(this,[d,q,n]),j=c.browser.msie&&c.browser.version<7,e=this.sizeDiff;if(this._aspectRatio||d.shiftKey){k=this._updateRatio(k,d)}k=this._respectSize(k,d);this._propagate("resize",d);g.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}this._updateCache(k);this._trigger("resize",d,this.ui());return false},_mouseStop:function(g){this.resizing=false;var h=this.options,l=this;if(this._helper){var f=this._proportionallyResizeElements,d=f.length&&(/textarea/i).test(f[0].nodeName),e=d&&c.ui.hasScroll(f[0],"left")?0:l.sizeDiff.height,j=d?0:l.sizeDiff.width;var m={width:(l.size.width-j),height:(l.size.height-e)},i=(parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left))||null,k=(parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top))||null;if(!h.animate){this.element.css(c.extend(m,{top:k,left:i}))}l.helper.height(l.size.height);l.helper.width(l.size.width);if(this._helper&&!h.animate){this._proportionallyResize()}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",g);if(this._helper){this.helper.remove()}return false},_updateCache:function(d){var e=this.options;this.offset=this.helper.offset();if(a(d.left)){this.position.left=d.left}if(a(d.top)){this.position.top=d.top}if(a(d.height)){this.size.height=d.height}if(a(d.width)){this.size.width=d.width}},_updateRatio:function(g,f){var h=this.options,i=this.position,e=this.size,d=this.axis;if(g.height){g.width=(e.height*this.aspectRatio)}else{if(g.width){g.height=(e.width/this.aspectRatio)}}if(d=="sw"){g.left=i.left+(e.width-g.width);g.top=null}if(d=="nw"){g.top=i.top+(e.height-g.height);g.left=i.left+(e.width-g.width)}return g},_respectSize:function(k,f){var i=this.helper,h=this.options,q=this._aspectRatio||f.shiftKey,p=this.axis,s=a(k.width)&&h.maxWidth&&(h.maxWidth<k.width),l=a(k.height)&&h.maxHeight&&(h.maxHeight<k.height),g=a(k.width)&&h.minWidth&&(h.minWidth>k.width),r=a(k.height)&&h.minHeight&&(h.minHeight>k.height);if(g){k.width=h.minWidth}if(r){k.height=h.minHeight}if(s){k.width=h.maxWidth}if(l){k.height=h.maxHeight}var e=this.originalPosition.left+this.originalSize.width,n=this.position.top+this.size.height;var j=/sw|nw|w/.test(p),d=/nw|ne|n/.test(p);if(g&&j){k.left=e-h.minWidth}if(s&&j){k.left=e-h.maxWidth}if(r&&d){k.top=n-h.minHeight}if(l&&d){k.top=n-h.maxHeight}var m=!k.width&&!k.height;if(m&&!k.left&&k.top){k.top=null}else{if(m&&!k.top&&k.left){k.left=null}}return k},_proportionallyResize:function(){var j=this.options;if(!this._proportionallyResizeElements.length){return}var f=this.helper||this.element;for(var e=0;e<this._proportionallyResizeElements.length;e++){var g=this._proportionallyResizeElements[e];if(!this.borderDif){var d=[g.css("borderTopWidth"),g.css("borderRightWidth"),g.css("borderBottomWidth"),g.css("borderLeftWidth")],h=[g.css("paddingTop"),g.css("paddingRight"),g.css("paddingBottom"),g.css("paddingLeft")];this.borderDif=c.map(d,function(k,m){var l=parseInt(k,10)||0,n=parseInt(h[m],10)||0;return l+n})}if(c.browser.msie&&!(!(c(f).is(":hidden")||c(f).parents(":hidden").length))){continue}g.css({height:(f.height()-this.borderDif[0]-this.borderDif[2])||0,width:(f.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var e=this.element,h=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var d=c.browser.msie&&c.browser.version<7,f=(d?1:0),g=(d?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+g,height:this.element.outerHeight()+g,position:"absolute",left:this.elementOffset.left-f+"px",top:this.elementOffset.top-f+"px",zIndex:++h.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(f,e,d){return{width:this.originalSize.width+e}},w:function(g,e,d){var i=this.options,f=this.originalSize,h=this.originalPosition;return{left:h.left+e,width:f.width-e}},n:function(g,e,d){var i=this.options,f=this.originalSize,h=this.originalPosition;return{top:h.top+d,height:f.height-d}},s:function(f,e,d){return{height:this.originalSize.height+d}},se:function(f,e,d){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[f,e,d]))},sw:function(f,e,d){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[f,e,d]))},ne:function(f,e,d){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[f,e,d]))},nw:function(f,e,d){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[f,e,d]))}},_propagate:function(e,d){c.ui.plugin.call(this,e,[d,this.ui()]);(e!="resize"&&this._trigger(e,d,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}));c.extend(c.ui.resizable,{version:"1.7.2",eventPrefix:"resize",defaults:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,cancel:":input,option",containment:false,delay:0,distance:1,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000}});c.ui.plugin.add("resizable","alsoResize",{start:function(e,f){var d=c(this).data("resizable"),g=d.options;_store=function(h){c(h).each(function(){c(this).data("resizable-alsoresize",{width:parseInt(c(this).width(),10),height:parseInt(c(this).height(),10),left:parseInt(c(this).css("left"),10),top:parseInt(c(this).css("top"),10)})})};if(typeof(g.alsoResize)=="object"&&!g.alsoResize.parentNode){if(g.alsoResize.length){g.alsoResize=g.alsoResize[0];_store(g.alsoResize)}else{c.each(g.alsoResize,function(h,i){_store(h)})}}else{_store(g.alsoResize)}},resize:function(f,h){var e=c(this).data("resizable"),i=e.options,g=e.originalSize,k=e.originalPosition;var j={height:(e.size.height-g.height)||0,width:(e.size.width-g.width)||0,top:(e.position.top-k.top)||0,left:(e.position.left-k.left)||0},d=function(l,m){c(l).each(function(){var p=c(this),q=c(this).data("resizable-alsoresize"),o={},n=m&&m.length?m:["width","height","top","left"];c.each(n||["width","height","top","left"],function(r,u){var s=(q[u]||0)+(j[u]||0);if(s&&s>=0){o[u]=s||null}});if(/relative/.test(p.css("position"))&&c.browser.opera){e._revertToRelativePosition=true;p.css({position:"absolute",top:"auto",left:"auto"})}p.css(o)})};if(typeof(i.alsoResize)=="object"&&!i.alsoResize.nodeType){c.each(i.alsoResize,function(l,m){d(l,m)})}else{d(i.alsoResize)}},stop:function(e,f){var d=c(this).data("resizable");if(d._revertToRelativePosition&&c.browser.opera){d._revertToRelativePosition=false;el.css({position:"relative"})}c(this).removeData("resizable-alsoresize-start")}});c.ui.plugin.add("resizable","animate",{stop:function(h,m){var n=c(this).data("resizable"),i=n.options;var g=n._proportionallyResizeElements,d=g.length&&(/textarea/i).test(g[0].nodeName),e=d&&c.ui.hasScroll(g[0],"left")?0:n.sizeDiff.height,k=d?0:n.sizeDiff.width;var f={width:(n.size.width-k),height:(n.size.height-e)},j=(parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left))||null,l=(parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top))||null;n.element.animate(c.extend(f,l&&j?{top:l,left:j}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var o={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};if(g&&g.length){c(g[0]).css({width:o.width,height:o.height})}n._updateCache(o);n._propagate("resize",h)}})}});c.ui.plugin.add("resizable","containment",{start:function(e,q){var s=c(this).data("resizable"),i=s.options,k=s.element;var f=i.containment,j=(f instanceof c)?f.get(0):(/parent/.test(f))?k.parent().get(0):f;if(!j){return}s.containerElement=c(j);if(/document/.test(f)||f==document){s.containerOffset={left:0,top:0};s.containerPosition={left:0,top:0};s.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var m=c(j),h=[];c(["Top","Right","Left","Bottom"]).each(function(p,o){h[p]=b(m.css("padding"+o))});s.containerOffset=m.offset();s.containerPosition=m.position();s.containerSize={height:(m.innerHeight()-h[3]),width:(m.innerWidth()-h[1])};var n=s.containerOffset,d=s.containerSize.height,l=s.containerSize.width,g=(c.ui.hasScroll(j,"left")?j.scrollWidth:l),r=(c.ui.hasScroll(j)?j.scrollHeight:d);s.parentData={element:j,left:n.left,top:n.top,width:g,height:r}}},resize:function(f,p){var s=c(this).data("resizable"),h=s.options,e=s.containerSize,n=s.containerOffset,l=s.size,m=s.position,q=s._aspectRatio||f.shiftKey,d={top:0,left:0},g=s.containerElement;if(g[0]!=document&&(/static/).test(g.css("position"))){d=n}if(m.left<(s._helper?n.left:0)){s.size.width=s.size.width+(s._helper?(s.position.left-n.left):(s.position.left-d.left));if(q){s.size.height=s.size.width/h.aspectRatio}s.position.left=h.helper?n.left:0}if(m.top<(s._helper?n.top:0)){s.size.height=s.size.height+(s._helper?(s.position.top-n.top):s.position.top);if(q){s.size.width=s.size.height*h.aspectRatio}s.position.top=s._helper?n.top:0}s.offset.left=s.parentData.left+s.position.left;s.offset.top=s.parentData.top+s.position.top;var k=Math.abs((s._helper?s.offset.left-d.left:(s.offset.left-d.left))+s.sizeDiff.width),r=Math.abs((s._helper?s.offset.top-d.top:(s.offset.top-n.top))+s.sizeDiff.height);var j=s.containerElement.get(0)==s.element.parent().get(0),i=/relative|absolute/.test(s.containerElement.css("position"));if(j&&i){k-=s.parentData.left}if(k+s.size.width>=s.parentData.width){s.size.width=s.parentData.width-k;if(q){s.size.height=s.size.width/s.aspectRatio}}if(r+s.size.height>=s.parentData.height){s.size.height=s.parentData.height-r;if(q){s.size.width=s.size.height*s.aspectRatio}}},stop:function(e,m){var p=c(this).data("resizable"),f=p.options,k=p.position,l=p.containerOffset,d=p.containerPosition,g=p.containerElement;var i=c(p.helper),q=i.offset(),n=i.outerWidth()-p.sizeDiff.width,j=i.outerHeight()-p.sizeDiff.height;if(p._helper&&!f.animate&&(/relative/).test(g.css("position"))){c(this).css({left:q.left-d.left-l.left,width:n,height:j})}if(p._helper&&!f.animate&&(/static/).test(g.css("position"))){c(this).css({left:q.left-d.left-l.left,width:n,height:j})}}});c.ui.plugin.add("resizable","ghost",{start:function(f,g){var d=c(this).data("resizable"),h=d.options,e=d.size;d.ghost=d.originalElement.clone();d.ghost.css({opacity:0.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof h.ghost=="string"?h.ghost:"");d.ghost.appendTo(d.helper)},resize:function(e,f){var d=c(this).data("resizable"),g=d.options;if(d.ghost){d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})}},stop:function(e,f){var d=c(this).data("resizable"),g=d.options;if(d.ghost&&d.helper){d.helper.get(0).removeChild(d.ghost.get(0))}}});c.ui.plugin.add("resizable","grid",{resize:function(d,l){var n=c(this).data("resizable"),g=n.options,j=n.size,h=n.originalSize,i=n.originalPosition,m=n.axis,k=g._aspectRatio||d.shiftKey;g.grid=typeof g.grid=="number"?[g.grid,g.grid]:g.grid;var f=Math.round((j.width-h.width)/(g.grid[0]||1))*(g.grid[0]||1),e=Math.round((j.height-h.height)/(g.grid[1]||1))*(g.grid[1]||1);if(/^(se|s|e)$/.test(m)){n.size.width=h.width+f;n.size.height=h.height+e}else{if(/^(ne)$/.test(m)){n.size.width=h.width+f;n.size.height=h.height+e;n.position.top=i.top-e}else{if(/^(sw)$/.test(m)){n.size.width=h.width+f;n.size.height=h.height+e;n.position.left=i.left-f}else{n.size.width=h.width+f;n.size.height=h.height+e;n.position.top=i.top-e;n.position.left=i.left-f}}}}});var b=function(d){return parseInt(d,10)||0};var a=function(d){return !isNaN(parseInt(d,10))}})(jQuery);(function(a){a.widget("ui.selectable",a.extend({},a.ui.mouse,{_init:function(){var b=this;this.element.addClass("ui-selectable");this.dragged=false;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]);c.each(function(){var d=a(this);var e=d.offset();a.data(this,"selectable-item",{element:this,$element:d,left:e.left,top:e.top,right:e.left+d.outerWidth(),bottom:e.top+d.outerHeight(),startselected:false,selected:d.hasClass("ui-selected"),selecting:d.hasClass("ui-selecting"),unselecting:d.hasClass("ui-unselecting")})})};this.refresh();this.selectees=c.addClass("ui-selectee");this._mouseInit();this.helper=a(document.createElement("div")).css({border:"1px dotted black"}).addClass("ui-selectable-helper")},destroy:function(){this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy()},_mouseStart:function(d){var b=this;this.opos=[d.pageX,d.pageY];if(this.options.disabled){return}var c=this.options;this.selectees=a(c.filter,this.element[0]);this._trigger("start",d);a(c.appendTo).append(this.helper);this.helper.css({"z-index":100,position:"absolute",left:d.clientX,top:d.clientY,width:0,height:0});if(c.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var e=a.data(this,"selectable-item");e.startselected=true;if(!d.metaKey){e.$element.removeClass("ui-selected");e.selected=false;e.$element.addClass("ui-unselecting");e.unselecting=true;b._trigger("unselecting",d,{unselecting:e.element})}});a(d.target).parents().andSelf().each(function(){var e=a.data(this,"selectable-item");if(e){e.$element.removeClass("ui-unselecting").addClass("ui-selecting");e.unselecting=false;e.selecting=true;e.selected=true;b._trigger("selecting",d,{selecting:e.element});return false}})},_mouseDrag:function(i){var c=this;this.dragged=true;if(this.options.disabled){return}var e=this.options;var d=this.opos[0],h=this.opos[1],b=i.pageX,g=i.pageY;if(d>b){var f=b;b=d;d=f}if(h>g){var f=g;g=h;h=f}this.helper.css({left:d,top:h,width:b-d,height:g-h});this.selectees.each(function(){var j=a.data(this,"selectable-item");if(!j||j.element==c.element[0]){return}var k=false;if(e.tolerance=="touch"){k=(!(j.left>b||j.right<d||j.top>g||j.bottom<h))}else{if(e.tolerance=="fit"){k=(j.left>d&&j.right<b&&j.top>h&&j.bottom<g)}}if(k){if(j.selected){j.$element.removeClass("ui-selected");j.selected=false}if(j.unselecting){j.$element.removeClass("ui-unselecting");j.unselecting=false}if(!j.selecting){j.$element.addClass("ui-selecting");j.selecting=true;c._trigger("selecting",i,{selecting:j.element})}}else{if(j.selecting){if(i.metaKey&&j.startselected){j.$element.removeClass("ui-selecting");j.selecting=false;j.$element.addClass("ui-selected");j.selected=true}else{j.$element.removeClass("ui-selecting");j.selecting=false;if(j.startselected){j.$element.addClass("ui-unselecting");j.unselecting=true}c._trigger("unselecting",i,{unselecting:j.element})}}if(j.selected){if(!i.metaKey&&!j.startselected){j.$element.removeClass("ui-selected");j.selected=false;j.$element.addClass("ui-unselecting");j.unselecting=true;c._trigger("unselecting",i,{unselecting:j.element})}}}});return false},_mouseStop:function(d){var b=this;this.dragged=false;var c=this.options;a(".ui-unselecting",this.element[0]).each(function(){var e=a.data(this,"selectable-item");e.$element.removeClass("ui-unselecting");e.unselecting=false;e.startselected=false;b._trigger("unselected",d,{unselected:e.element})});a(".ui-selecting",this.element[0]).each(function(){var e=a.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected");e.selecting=false;e.selected=true;e.startselected=true;b._trigger("selected",d,{selected:e.element})});this._trigger("stop",d);this.helper.remove();return false}}));a.extend(a.ui.selectable,{version:"1.7.2",defaults:{appendTo:"body",autoRefresh:true,cancel:":input,option",delay:0,distance:0,filter:"*",tolerance:"touch"}})})(jQuery);(function(a){a.widget("ui.sortable",a.extend({},a.ui.mouse,{_init:function(){var b=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?(/left|right/).test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--){this.items[b].item.removeData("sortable-item")}},_mouseCapture:function(e,f){if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(e);var d=null,c=this,b=a(e.target).parents().each(function(){if(a.data(this,"sortable-item")==c){d=a(this);return false}});if(a.data(e.target,"sortable-item")==c){d=a(e.target)}if(!d){return false}if(this.options.handle&&!f){var g=false;a(this.options.handle,d).find("*").andSelf().each(function(){if(this==e.target){g=true}});if(!g){return false}}this.currentItem=d;this._removeCurrentsFromItems();return true},_mouseStart:function(e,f,b){var g=this.options,c=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;if(g.cursorAt){this._adjustOffsetFromHelper(g.cursorAt)}this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(g.containment){this._setContainment()}if(g.cursor){if(a("body").css("cursor")){this._storedCursor=a("body").css("cursor")}a("body").css("cursor",g.cursor)}if(g.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",g.opacity)}if(g.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",g.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",e,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!b){for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("activate",e,c._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}if(a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,e)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(e);return true},_mouseDrag:function(f){this.position=this._generatePosition(f);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var g=this.options,b=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-f.pageY<g.scrollSensitivity){this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop+g.scrollSpeed}else{if(f.pageY-this.overflowOffset.top<g.scrollSensitivity){this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop-g.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-f.pageX<g.scrollSensitivity){this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft+g.scrollSpeed}else{if(f.pageX-this.overflowOffset.left<g.scrollSensitivity){this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft-g.scrollSpeed}}}else{if(f.pageY-a(document).scrollTop()<g.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed)}else{if(a(window).height()-(f.pageY-a(document).scrollTop())<g.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)}}if(f.pageX-a(document).scrollLeft()<g.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed)}else{if(a(window).width()-(f.pageX-a(document).scrollLeft())<g.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed)}}}if(b!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,f)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var d=this.items.length-1;d>=0;d--){var e=this.items[d],c=e.item[0],h=this._intersectsWithPointer(e);if(!h){continue}if(c!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=c&&!a.ui.contains(this.placeholder[0],c)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],c):true)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(e)){this._rearrange(f,e)}else{break}this._trigger("change",f,this._uiHash());break}}this._contactContainers(f);if(a.ui.ddmanager){a.ui.ddmanager.drag(this,f)}this._trigger("sort",f,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(c,d){if(!c){return}if(a.ui.ddmanager&&!this.options.dropBehaviour){a.ui.ddmanager.drop(this,c)}if(this.options.revert){var b=this;var e=b.placeholder.offset();b.reverting=true;a(this.helper).animate({left:e.left-this.offset.parent.left-b.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-b.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){b._clear(c)})}else{this._clear(c,d)}return false},cancel:function(){var b=this;if(this.dragging){this._mouseUp();if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",null,b._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",null,b._uiHash(this));this.containers[c].containerCache.over=0}}}if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){a(this.domPosition.prev).after(this.currentItem)}else{a(this.domPosition.parent).prepend(this.currentItem)}return true},serialize:function(d){var b=this._getItemsAsjQuery(d&&d.connected);var c=[];d=d||{};a(b).each(function(){var e=(a(d.item||this).attr(d.attribute||"id")||"").match(d.expression||(/(.+)[-=_](.+)/));if(e){c.push((d.key||e[1]+"[]")+"="+(d.key&&d.expression?e[1]:e[2]))}});return c.join("&")},toArray:function(d){var b=this._getItemsAsjQuery(d&&d.connected);var c=[];d=d||{};b.each(function(){c.push(a(d.item||this).attr(d.attribute||"id")||"")});return c},_intersectsWith:function(m){var e=this.positionAbs.left,d=e+this.helperProportions.width,k=this.positionAbs.top,j=k+this.helperProportions.height;var f=m.left,c=f+m.width,n=m.top,i=n+m.height;var o=this.offset.click.top,h=this.offset.click.left;var g=(k+o)>n&&(k+o)<i&&(e+h)>f&&(e+h)<c;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>m[this.floating?"width":"height"])){return g}else{return(f<e+(this.helperProportions.width/2)&&d-(this.helperProportions.width/2)<c&&n<k+(this.helperProportions.height/2)&&j-(this.helperProportions.height/2)<i)}},_intersectsWithPointer:function(d){var e=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top,d.height),c=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left,d.width),g=e&&c,b=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();if(!g){return false}return this.floating?(((f&&f=="right")||b=="down")?2:1):(b&&(b=="down"?2:1))},_intersectsWithSides:function(e){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+(e.height/2),e.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+(e.width/2),e.width),b=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();if(this.floating&&f){return((f=="right"&&d)||(f=="left"&&!d))}else{return b&&((b=="down"&&c)||(b=="up"&&!c))}},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!=0&&(b>0?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return b!=0&&(b>0?"right":"left")},refresh:function(b){this._refreshItems(b);this.refreshPositions()},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(b){var l=this;var g=[];var e=[];var h=this._connectWith();if(h&&b){for(var d=h.length-1;d>=0;d--){var k=a(h[d]);for(var c=k.length-1;c>=0;c--){var f=a.data(k[c],"sortable");if(f&&f!=this&&!f.options.disabled){e.push([a.isFunction(f.options.items)?f.options.items.call(f.element):a(f.options.items,f.element).not(".ui-sortable-helper"),f])}}}}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper"),this]);for(var d=e.length-1;d>=0;d--){e[d][0].each(function(){g.push(this)})}return a(g)},_removeCurrentsFromItems:function(){var d=this.currentItem.find(":data(sortable-item)");for(var c=0;c<this.items.length;c++){for(var b=0;b<d.length;b++){if(d[b]==this.items[c].item[0]){this.items.splice(c,1)}}}},_refreshItems:function(b){this.items=[];this.containers=[this];var h=this.items;var p=this;var f=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]];var l=this._connectWith();if(l){for(var e=l.length-1;e>=0;e--){var m=a(l[e]);for(var d=m.length-1;d>=0;d--){var g=a.data(m[d],"sortable");if(g&&g!=this&&!g.options.disabled){f.push([a.isFunction(g.options.items)?g.options.items.call(g.element[0],b,{item:this.currentItem}):a(g.options.items,g.element),g]);this.containers.push(g)}}}}for(var e=f.length-1;e>=0;e--){var k=f[e][1];var c=f[e][0];for(var d=0,n=c.length;d<n;d++){var o=a(c[d]);o.data("sortable-item",k);h.push({item:o,instance:k,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var d=this.items.length-1;d>=0;d--){var e=this.items[d];if(e.instance!=this.currentContainer&&this.currentContainer&&e.item[0]!=this.currentItem[0]){continue}var c=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item;if(!b){e.width=c.outerWidth();e.height=c.outerHeight()}var f=c.offset();e.left=f.left;e.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var d=this.containers.length-1;d>=0;d--){var f=this.containers[d].element.offset();this.containers[d].containerCache.left=f.left;this.containers[d].containerCache.top=f.top;this.containers[d].containerCache.width=this.containers[d].element.outerWidth();this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}}},_createPlaceholder:function(d){var b=d||this,e=b.options;if(!e.placeholder||e.placeholder.constructor==String){var c=e.placeholder;e.placeholder={element:function(){var f=a(document.createElement(b.currentItem[0].nodeName)).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!c){f.style.visibility="hidden"}return f},update:function(f,g){if(c&&!e.forcePlaceholderSize){return}if(!g.height()){g.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10))}if(!g.width()){g.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}}}}b.placeholder=a(e.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);e.placeholder.update(b,b.placeholder)},_contactContainers:function(d){for(var c=this.containers.length-1;c>=0;c--){if(this._intersectsWith(this.containers[c].containerCache)){if(!this.containers[c].containerCache.over){if(this.currentContainer!=this.containers[c]){var h=10000;var g=null;var e=this.positionAbs[this.containers[c].floating?"left":"top"];for(var b=this.items.length-1;b>=0;b--){if(!a.ui.contains(this.containers[c].element[0],this.items[b].item[0])){continue}var f=this.items[b][this.containers[c].floating?"left":"top"];if(Math.abs(f-e)<h){h=Math.abs(f-e);g=this.items[b]}}if(!g&&!this.options.dropOnEmpty){continue}this.currentContainer=this.containers[c];g?this._rearrange(d,g,null,true):this._rearrange(d,null,this.containers[c].element,true);this._trigger("change",d,this._uiHash());this.containers[c]._trigger("change",d,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder)}this.containers[c]._trigger("over",d,this._uiHash(this));this.containers[c].containerCache.over=1}}else{if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",d,this._uiHash(this));this.containers[c].containerCache.over=0}}}},_createHelper:function(c){var d=this.options;var b=a.isFunction(d.helper)?a(d.helper.apply(this.element[0],[c,this.currentItem])):(d.helper=="clone"?this.currentItem.clone():this.currentItem);if(!b.parents("body").length){a(d.appendTo!="parent"?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0])}if(b[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(b[0].style.width==""||d.forceHelperSize){b.width(this.currentItem.width())}if(b[0].style.height==""||d.forceHelperSize){b.height(this.currentItem.height())}return b},_adjustOffsetFromHelper:function(b){if(b.left!=undefined){this.offset.click.left=b.left+this.margins.left}if(b.right!=undefined){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if(b.top!=undefined){this.offset.click.top=b.top+this.margins.top}if(b.bottom!=undefined){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"){e.containment=this.helper[0].parentNode}if(e.containment=="document"||e.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(e.containment)){var c=a(e.containment)[0];var d=a(e.containment).offset();var b=(a(c).css("overflow")!="hidden");this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(b?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(b?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(f,h){if(!h){h=this.position}var c=f=="absolute"?1:-1;var e=this.options,b=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=(/(html|body)/i).test(b[0].tagName);return{top:(h.top+this.offset.relative.top*c+this.offset.parent.top*c-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(g?0:b.scrollTop()))*c)),left:(h.left+this.offset.relative.left*c+this.offset.parent.left*c-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:b.scrollLeft())*c))}},_generatePosition:function(e){var h=this.options,b=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,i=(/(html|body)/i).test(b[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var d=e.pageX;var c=e.pageY;if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){d=this.containment[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<this.containment[1]){c=this.containment[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>this.containment[2]){d=this.containment[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>this.containment[3]){c=this.containment[3]+this.offset.click.top}}if(h.grid){var g=this.originalPageY+Math.round((c-this.originalPageY)/h.grid[1])*h.grid[1];c=this.containment?(!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:(!(g-this.offset.click.top<this.containment[1])?g-h.grid[1]:g+h.grid[1])):g;var f=this.originalPageX+Math.round((d-this.originalPageX)/h.grid[0])*h.grid[0];d=this.containment?(!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:(!(f-this.offset.click.left<this.containment[0])?f-h.grid[0]:f+h.grid[0])):f}}return{top:(c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(i?0:b.scrollTop())))),left:(d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:b.scrollLeft())))}},_rearrange:function(g,f,c,e){c?c[0].appendChild(this.placeholder[0]):f.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?f.item[0]:f.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var d=this,b=this.counter;window.setTimeout(function(){if(b==d.counter){d.refreshPositions(!e)}},0)},_clear:function(d,e){this.reverting=false;var f=[],b=this;if(!this._noFinalSort&&this.currentItem[0].parentNode){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var c in this._storedCSS){if(this._storedCSS[c]=="auto"||this._storedCSS[c]=="static"){this._storedCSS[c]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!e){f.push(function(g){this._trigger("receive",g,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!e){f.push(function(g){this._trigger("update",g,this._uiHash())})}if(!a.ui.contains(this.element[0],this.currentItem[0])){if(!e){f.push(function(g){this._trigger("remove",g,this._uiHash())})}for(var c=this.containers.length-1;c>=0;c--){if(a.ui.contains(this.containers[c].element[0],this.currentItem[0])&&!e){f.push((function(g){return function(h){g._trigger("receive",h,this._uiHash(this))}}).call(this,this.containers[c]));f.push((function(g){return function(h){g._trigger("update",h,this._uiHash(this))}}).call(this,this.containers[c]))}}}for(var c=this.containers.length-1;c>=0;c--){if(!e){f.push((function(g){return function(h){g._trigger("deactivate",h,this._uiHash(this))}}).call(this,this.containers[c]))}if(this.containers[c].containerCache.over){f.push((function(g){return function(h){g._trigger("out",h,this._uiHash(this))}}).call(this,this.containers[c]));this.containers[c].containerCache.over=0}}if(this._storedCursor){a("body").css("cursor",this._storedCursor)}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",d,this._uiHash());for(var c=0;c<f.length;c++){f[c].call(this,d)}this._trigger("stop",d,this._uiHash())}return false}if(!e){this._trigger("beforeStop",d,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!e){for(var c=0;c<f.length;c++){f[c].call(this,d)}this._trigger("stop",d,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(a.widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(c){var b=c||this;return{helper:b.helper,placeholder:b.placeholder||a([]),position:b.position,absolutePosition:b.positionAbs,offset:b.positionAbs,item:b.currentItem,sender:c?c.element:null}}}));a.extend(a.ui.sortable,{getter:"serialize toArray",version:"1.7.2",eventPrefix:"sort",defaults:{appendTo:"parent",axis:false,cancel:":input,option",connectWith:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000}})})(jQuery);jQuery.effects||(function(d){d.effects={version:"1.7.2",save:function(g,h){for(var f=0;f<h.length;f++){if(h[f]!==null){g.data("ec.storage."+h[f],g[0].style[h[f]])}}},restore:function(g,h){for(var f=0;f<h.length;f++){if(h[f]!==null){g.css(h[f],g.data("ec.storage."+h[f]))}}},setMode:function(f,g){if(g=="toggle"){g=f.is(":hidden")?"show":"hide"}return g},getBaseline:function(g,h){var i,f;switch(g[0]){case"top":i=0;break;case"middle":i=0.5;break;case"bottom":i=1;break;default:i=g[0]/h.height}switch(g[1]){case"left":f=0;break;case"center":f=0.5;break;case"right":f=1;break;default:f=g[1]/h.width}return{x:f,y:i}},createWrapper:function(f){if(f.parent().is(".ui-effects-wrapper")){return f.parent()}var g={width:f.outerWidth(true),height:f.outerHeight(true),"float":f.css("float")};f.wrap('<div class="ui-effects-wrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>');var j=f.parent();if(f.css("position")=="static"){j.css({position:"relative"});f.css({position:"relative"})}else{var i=f.css("top");if(isNaN(parseInt(i,10))){i="auto"}var h=f.css("left");if(isNaN(parseInt(h,10))){h="auto"}j.css({position:f.css("position"),top:i,left:h,zIndex:f.css("z-index")}).show();f.css({position:"relative",top:0,left:0})}j.css(g);return j},removeWrapper:function(f){if(f.parent().is(".ui-effects-wrapper")){return f.parent().replaceWith(f)}return f},setTransition:function(g,i,f,h){h=h||{};d.each(i,function(k,j){unit=g.cssUnit(j);if(unit[0]>0){h[j]=unit[0]*f+unit[1]}});return h},animateClass:function(h,i,k,j){var f=(typeof k=="function"?k:(j?j:null));var g=(typeof k=="string"?k:null);return this.each(function(){var q={};var o=d(this);var p=o.attr("style")||"";if(typeof p=="object"){p=p.cssText}if(h.toggle){o.hasClass(h.toggle)?h.remove=h.toggle:h.add=h.toggle}var l=d.extend({},(document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle));if(h.add){o.addClass(h.add)}if(h.remove){o.removeClass(h.remove)}var m=d.extend({},(document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle));if(h.add){o.removeClass(h.add)}if(h.remove){o.addClass(h.remove)}for(var r in m){if(typeof m[r]!="function"&&m[r]&&r.indexOf("Moz")==-1&&r.indexOf("length")==-1&&m[r]!=l[r]&&(r.match(/color/i)||(!r.match(/color/i)&&!isNaN(parseInt(m[r],10))))&&(l.position!="static"||(l.position=="static"&&!r.match(/left|top|bottom|right/)))){q[r]=m[r]}}o.animate(q,i,g,function(){if(typeof d(this).attr("style")=="object"){d(this).attr("style")["cssText"]="";d(this).attr("style")["cssText"]=p}else{d(this).attr("style",p)}if(h.add){d(this).addClass(h.add)}if(h.remove){d(this).removeClass(h.remove)}if(f){f.apply(this,arguments)}})})}};function c(g,f){var i=g[1]&&g[1].constructor==Object?g[1]:{};if(f){i.mode=f}var h=g[1]&&g[1].constructor!=Object?g[1]:(i.duration?i.duration:g[2]);h=d.fx.off?0:typeof h==="number"?h:d.fx.speeds[h]||d.fx.speeds._default;var j=i.callback||(d.isFunction(g[1])&&g[1])||(d.isFunction(g[2])&&g[2])||(d.isFunction(g[3])&&g[3]);return[g[0],i,h,j]}d.fn.extend({_show:d.fn.show,_hide:d.fn.hide,__toggle:d.fn.toggle,_addClass:d.fn.addClass,_removeClass:d.fn.removeClass,_toggleClass:d.fn.toggleClass,effect:function(g,f,h,i){return d.effects[g]?d.effects[g].call(this,{method:g,options:f||{},duration:h,callback:i}):null},show:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))){return this._show.apply(this,arguments)}else{return this.effect.apply(this,c(arguments,"show"))}},hide:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))){return this._hide.apply(this,arguments)}else{return this.effect.apply(this,c(arguments,"hide"))}},toggle:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))||(d.isFunction(arguments[0])||typeof arguments[0]=="boolean")){return this.__toggle.apply(this,arguments)}else{return this.effect.apply(this,c(arguments,"toggle"))}},addClass:function(g,f,i,h){return f?d.effects.animateClass.apply(this,[{add:g},f,i,h]):this._addClass(g)},removeClass:function(g,f,i,h){return f?d.effects.animateClass.apply(this,[{remove:g},f,i,h]):this._removeClass(g)},toggleClass:function(g,f,i,h){return((typeof f!=="boolean")&&f)?d.effects.animateClass.apply(this,[{toggle:g},f,i,h]):this._toggleClass(g,f)},morph:function(f,h,g,j,i){return d.effects.animateClass.apply(this,[{add:h,remove:f},g,j,i])},switchClass:function(){return this.morph.apply(this,arguments)},cssUnit:function(f){var g=this.css(f),h=[];d.each(["em","px","%","pt"],function(j,k){if(g.indexOf(k)>0){h=[parseFloat(g),k]}});return h}});d.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(g,f){d.fx.step[f]=function(h){if(h.state==0){h.start=e(h.elem,f);h.end=b(h.end)}h.elem.style[f]="rgb("+[Math.max(Math.min(parseInt((h.pos*(h.end[0]-h.start[0]))+h.start[0],10),255),0),Math.max(Math.min(parseInt((h.pos*(h.end[1]-h.start[1]))+h.start[1],10),255),0),Math.max(Math.min(parseInt((h.pos*(h.end[2]-h.start[2]))+h.start[2],10),255),0)].join(",")+")"}});function b(g){var f;if(g&&g.constructor==Array&&g.length==3){return g}if(f=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(g)){return[parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10)]}if(f=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(g)){return[parseFloat(f[1])*2.55,parseFloat(f[2])*2.55,parseFloat(f[3])*2.55]}if(f=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(g)){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}if(f=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(g)){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}if(f=/rgba\(0, 0, 0, 0\)/.exec(g)){return a.transparent}return a[d.trim(g).toLowerCase()]}function e(h,f){var g;do{g=d.curCSS(h,f);if(g!=""&&g!="transparent"||d.nodeName(h,"body")){break}f="backgroundColor"}while(h=h.parentNode);return b(g)}var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};d.easing.jswing=d.easing.swing;d.extend(d.easing,{def:"easeOutQuad",swing:function(g,h,f,j,i){return d.easing[d.easing.def](g,h,f,j,i)},easeInQuad:function(g,h,f,j,i){return j*(h/=i)*h+f},easeOutQuad:function(g,h,f,j,i){return -j*(h/=i)*(h-2)+f},easeInOutQuad:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h+f}return -j/2*((--h)*(h-2)-1)+f},easeInCubic:function(g,h,f,j,i){return j*(h/=i)*h*h+f},easeOutCubic:function(g,h,f,j,i){return j*((h=h/i-1)*h*h+1)+f},easeInOutCubic:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h*h+f}return j/2*((h-=2)*h*h+2)+f},easeInQuart:function(g,h,f,j,i){return j*(h/=i)*h*h*h+f},easeOutQuart:function(g,h,f,j,i){return -j*((h=h/i-1)*h*h*h-1)+f},easeInOutQuart:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h*h*h+f}return -j/2*((h-=2)*h*h*h-2)+f},easeInQuint:function(g,h,f,j,i){return j*(h/=i)*h*h*h*h+f},easeOutQuint:function(g,h,f,j,i){return j*((h=h/i-1)*h*h*h*h+1)+f},easeInOutQuint:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h*h*h*h+f}return j/2*((h-=2)*h*h*h*h+2)+f},easeInSine:function(g,h,f,j,i){return -j*Math.cos(h/i*(Math.PI/2))+j+f},easeOutSine:function(g,h,f,j,i){return j*Math.sin(h/i*(Math.PI/2))+f},easeInOutSine:function(g,h,f,j,i){return -j/2*(Math.cos(Math.PI*h/i)-1)+f},easeInExpo:function(g,h,f,j,i){return(h==0)?f:j*Math.pow(2,10*(h/i-1))+f},easeOutExpo:function(g,h,f,j,i){return(h==i)?f+j:j*(-Math.pow(2,-10*h/i)+1)+f},easeInOutExpo:function(g,h,f,j,i){if(h==0){return f}if(h==i){return f+j}if((h/=i/2)<1){return j/2*Math.pow(2,10*(h-1))+f}return j/2*(-Math.pow(2,-10*--h)+2)+f},easeInCirc:function(g,h,f,j,i){return -j*(Math.sqrt(1-(h/=i)*h)-1)+f},easeOutCirc:function(g,h,f,j,i){return j*Math.sqrt(1-(h=h/i-1)*h)+f},easeInOutCirc:function(g,h,f,j,i){if((h/=i/2)<1){return -j/2*(Math.sqrt(1-h*h)-1)+f}return j/2*(Math.sqrt(1-(h-=2)*h)+1)+f},easeInElastic:function(g,i,f,m,l){var j=1.70158;var k=0;var h=m;if(i==0){return f}if((i/=l)==1){return f+m}if(!k){k=l*0.3}if(h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}return -(h*Math.pow(2,10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k))+f},easeOutElastic:function(g,i,f,m,l){var j=1.70158;var k=0;var h=m;if(i==0){return f}if((i/=l)==1){return f+m}if(!k){k=l*0.3}if(h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}return h*Math.pow(2,-10*i)*Math.sin((i*l-j)*(2*Math.PI)/k)+m+f},easeInOutElastic:function(g,i,f,m,l){var j=1.70158;var k=0;var h=m;if(i==0){return f}if((i/=l/2)==2){return f+m}if(!k){k=l*(0.3*1.5)}if(h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}if(i<1){return -0.5*(h*Math.pow(2,10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k))+f}return h*Math.pow(2,-10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k)*0.5+m+f},easeInBack:function(g,h,f,k,j,i){if(i==undefined){i=1.70158}return k*(h/=j)*h*((i+1)*h-i)+f},easeOutBack:function(g,h,f,k,j,i){if(i==undefined){i=1.70158}return k*((h=h/j-1)*h*((i+1)*h+i)+1)+f},easeInOutBack:function(g,h,f,k,j,i){if(i==undefined){i=1.70158}if((h/=j/2)<1){return k/2*(h*h*(((i*=(1.525))+1)*h-i))+f}return k/2*((h-=2)*h*(((i*=(1.525))+1)*h+i)+2)+f},easeInBounce:function(g,h,f,j,i){return j-d.easing.easeOutBounce(g,i-h,0,j,i)+f},easeOutBounce:function(g,h,f,j,i){if((h/=i)<(1/2.75)){return j*(7.5625*h*h)+f}else{if(h<(2/2.75)){return j*(7.5625*(h-=(1.5/2.75))*h+0.75)+f}else{if(h<(2.5/2.75)){return j*(7.5625*(h-=(2.25/2.75))*h+0.9375)+f}else{return j*(7.5625*(h-=(2.625/2.75))*h+0.984375)+f}}}},easeInOutBounce:function(g,h,f,j,i){if(h<i/2){return d.easing.easeInBounce(g,h*2,0,j,i)*0.5+f}return d.easing.easeOutBounce(g,h*2-i,0,j,i)*0.5+j*0.5+f}})})(jQuery);(function(a){a.effects.blind=function(b){return this.queue(function(){var d=a(this),c=["position","top","left"];var h=a.effects.setMode(d,b.options.mode||"hide");var g=b.options.direction||"vertical";a.effects.save(d,c);d.show();var j=a.effects.createWrapper(d).css({overflow:"hidden"});var e=(g=="vertical")?"height":"width";var i=(g=="vertical")?j.height():j.width();if(h=="show"){j.css(e,0)}var f={};f[e]=h=="show"?i:0;j.animate(f,b.duration,b.options.easing,function(){if(h=="hide"){d.hide()}a.effects.restore(d,c);a.effects.removeWrapper(d);if(b.callback){b.callback.apply(d[0],arguments)}d.dequeue()})})}})(jQuery);(function(a){a.effects.bounce=function(b){return this.queue(function(){var e=a(this),l=["position","top","left"];var k=a.effects.setMode(e,b.options.mode||"effect");var n=b.options.direction||"up";var c=b.options.distance||20;var d=b.options.times||5;var g=b.duration||250;if(/show|hide/.test(k)){l.push("opacity")}a.effects.save(e,l);e.show();a.effects.createWrapper(e);var f=(n=="up"||n=="down")?"top":"left";var p=(n=="up"||n=="left")?"pos":"neg";var c=b.options.distance||(f=="top"?e.outerHeight({margin:true})/3:e.outerWidth({margin:true})/3);if(k=="show"){e.css("opacity",0).css(f,p=="pos"?-c:c)}if(k=="hide"){c=c/(d*2)}if(k!="hide"){d--}if(k=="show"){var h={opacity:1};h[f]=(p=="pos"?"+=":"-=")+c;e.animate(h,g/2,b.options.easing);c=c/2;d--}for(var j=0;j<d;j++){var o={},m={};o[f]=(p=="pos"?"-=":"+=")+c;m[f]=(p=="pos"?"+=":"-=")+c;e.animate(o,g/2,b.options.easing).animate(m,g/2,b.options.easing);c=(k=="hide")?c*2:c/2}if(k=="hide"){var h={opacity:0};h[f]=(p=="pos"?"-=":"+=")+c;e.animate(h,g/2,b.options.easing,function(){e.hide();a.effects.restore(e,l);a.effects.removeWrapper(e);if(b.callback){b.callback.apply(this,arguments)}})}else{var o={},m={};o[f]=(p=="pos"?"-=":"+=")+c;m[f]=(p=="pos"?"+=":"-=")+c;e.animate(o,g/2,b.options.easing).animate(m,g/2,b.options.easing,function(){a.effects.restore(e,l);a.effects.removeWrapper(e);if(b.callback){b.callback.apply(this,arguments)}})}e.queue("fx",function(){e.dequeue()});e.dequeue()})}})(jQuery);(function(a){a.effects.clip=function(b){return this.queue(function(){var f=a(this),j=["position","top","left","height","width"];var i=a.effects.setMode(f,b.options.mode||"hide");var k=b.options.direction||"vertical";a.effects.save(f,j);f.show();var c=a.effects.createWrapper(f).css({overflow:"hidden"});var e=f[0].tagName=="IMG"?c:f;var g={size:(k=="vertical")?"height":"width",position:(k=="vertical")?"top":"left"};var d=(k=="vertical")?e.height():e.width();if(i=="show"){e.css(g.size,0);e.css(g.position,d/2)}var h={};h[g.size]=i=="show"?d:0;h[g.position]=i=="show"?0:d/2;e.animate(h,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){if(i=="hide"){f.hide()}a.effects.restore(f,j);a.effects.removeWrapper(f);if(b.callback){b.callback.apply(f[0],arguments)}f.dequeue()}})})}})(jQuery);(function(a){a.effects.drop=function(b){return this.queue(function(){var e=a(this),d=["position","top","left","opacity"];var i=a.effects.setMode(e,b.options.mode||"hide");var h=b.options.direction||"left";a.effects.save(e,d);e.show();a.effects.createWrapper(e);var f=(h=="up"||h=="down")?"top":"left";var c=(h=="up"||h=="left")?"pos":"neg";var j=b.options.distance||(f=="top"?e.outerHeight({margin:true})/2:e.outerWidth({margin:true})/2);if(i=="show"){e.css("opacity",0).css(f,c=="pos"?-j:j)}var g={opacity:i=="show"?1:0};g[f]=(i=="show"?(c=="pos"?"+=":"-="):(c=="pos"?"-=":"+="))+j;e.animate(g,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){if(i=="hide"){e.hide()}a.effects.restore(e,d);a.effects.removeWrapper(e);if(b.callback){b.callback.apply(this,arguments)}e.dequeue()}})})}})(jQuery);(function(a){a.effects.explode=function(b){return this.queue(function(){var k=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;var e=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode=="toggle"?(a(this).is(":visible")?"hide":"show"):b.options.mode;var h=a(this).show().css("visibility","hidden");var l=h.offset();l.top-=parseInt(h.css("marginTop"),10)||0;l.left-=parseInt(h.css("marginLeft"),10)||0;var g=h.outerWidth(true);var c=h.outerHeight(true);for(var f=0;f<k;f++){for(var d=0;d<e;d++){h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-d*(g/e),top:-f*(c/k)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/e,height:c/k,left:l.left+d*(g/e)+(b.options.mode=="show"?(d-Math.floor(e/2))*(g/e):0),top:l.top+f*(c/k)+(b.options.mode=="show"?(f-Math.floor(k/2))*(c/k):0),opacity:b.options.mode=="show"?0:1}).animate({left:l.left+d*(g/e)+(b.options.mode=="show"?0:(d-Math.floor(e/2))*(g/e)),top:l.top+f*(c/k)+(b.options.mode=="show"?0:(f-Math.floor(k/2))*(c/k)),opacity:b.options.mode=="show"?1:0},b.duration||500)}}setTimeout(function(){b.options.mode=="show"?h.css({visibility:"visible"}):h.css({visibility:"visible"}).hide();if(b.callback){b.callback.apply(h[0])}h.dequeue();a("div.ui-effects-explode").remove()},b.duration||500)})}})(jQuery);(function(a){a.effects.fold=function(b){return this.queue(function(){var e=a(this),k=["position","top","left"];var h=a.effects.setMode(e,b.options.mode||"hide");var o=b.options.size||15;var n=!(!b.options.horizFirst);var g=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(e,k);e.show();var d=a.effects.createWrapper(e).css({overflow:"hidden"});var i=((h=="show")!=n);var f=i?["width","height"]:["height","width"];var c=i?[d.width(),d.height()]:[d.height(),d.width()];var j=/([0-9]+)%/.exec(o);if(j){o=parseInt(j[1],10)/100*c[h=="hide"?0:1]}if(h=="show"){d.css(n?{height:0,width:o}:{height:o,width:0})}var m={},l={};m[f[0]]=h=="show"?c[0]:o;l[f[1]]=h=="show"?c[1]:0;d.animate(m,g,b.options.easing).animate(l,g,b.options.easing,function(){if(h=="hide"){e.hide()}a.effects.restore(e,k);a.effects.removeWrapper(e);if(b.callback){b.callback.apply(e[0],arguments)}e.dequeue()})})}})(jQuery);(function(a){a.effects.highlight=function(b){return this.queue(function(){var e=a(this),d=["backgroundImage","backgroundColor","opacity"];var h=a.effects.setMode(e,b.options.mode||"show");var c=b.options.color||"#ffff99";var g=e.css("backgroundColor");a.effects.save(e,d);e.show();e.css({backgroundImage:"none",backgroundColor:c});var f={backgroundColor:g};if(h=="hide"){f.opacity=0}e.animate(f,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){if(h=="hide"){e.hide()}a.effects.restore(e,d);if(h=="show"&&a.browser.msie){this.style.removeAttribute("filter")}if(b.callback){b.callback.apply(this,arguments)}e.dequeue()}})})}})(jQuery);(function(a){a.effects.pulsate=function(b){return this.queue(function(){var d=a(this);var g=a.effects.setMode(d,b.options.mode||"show");var f=b.options.times||5;var e=b.duration?b.duration/2:a.fx.speeds._default/2;if(g=="hide"){f--}if(d.is(":hidden")){d.css("opacity",0);d.show();d.animate({opacity:1},e,b.options.easing);f=f-2}for(var c=0;c<f;c++){d.animate({opacity:0},e,b.options.easing).animate({opacity:1},e,b.options.easing)}if(g=="hide"){d.animate({opacity:0},e,b.options.easing,function(){d.hide();if(b.callback){b.callback.apply(this,arguments)}})}else{d.animate({opacity:0},e,b.options.easing).animate({opacity:1},e,b.options.easing,function(){if(b.callback){b.callback.apply(this,arguments)}})}d.queue("fx",function(){d.dequeue()});d.dequeue()})}})(jQuery);(function(a){a.effects.puff=function(b){return this.queue(function(){var f=a(this);var c=a.extend(true,{},b.options);var h=a.effects.setMode(f,b.options.mode||"hide");var g=parseInt(b.options.percent,10)||150;c.fade=true;var e={height:f.height(),width:f.width()};var d=g/100;f.from=(h=="hide")?e:{height:e.height*d,width:e.width*d};c.from=f.from;c.percent=(h=="hide")?g:100;c.mode=h;f.effect("scale",c,b.duration,b.callback);f.dequeue()})};a.effects.scale=function(b){return this.queue(function(){var g=a(this);var d=a.extend(true,{},b.options);var j=a.effects.setMode(g,b.options.mode||"effect");var h=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:(j=="hide"?0:100));var i=b.options.direction||"both";var c=b.options.origin;if(j!="effect"){d.origin=c||["middle","center"];d.restore=true}var f={height:g.height(),width:g.width()};g.from=b.options.from||(j=="show"?{height:0,width:0}:f);var e={y:i!="horizontal"?(h/100):1,x:i!="vertical"?(h/100):1};g.to={height:f.height*e.y,width:f.width*e.x};if(b.options.fade){if(j=="show"){g.from.opacity=0;g.to.opacity=1}if(j=="hide"){g.from.opacity=1;g.to.opacity=0}}d.from=g.from;d.to=g.to;d.mode=j;g.effect("size",d,b.duration,b.callback);g.dequeue()})};a.effects.size=function(b){return this.queue(function(){var c=a(this),n=["position","top","left","width","height","overflow","opacity"];var m=["position","top","left","overflow","opacity"];var j=["width","height","overflow"];var p=["fontSize"];var k=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];var f=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"];var g=a.effects.setMode(c,b.options.mode||"effect");var i=b.options.restore||false;var e=b.options.scale||"both";var o=b.options.origin;var d={height:c.height(),width:c.width()};c.from=b.options.from||d;c.to=b.options.to||d;if(o){var h=a.effects.getBaseline(o,d);c.from.top=(d.height-c.from.height)*h.y;c.from.left=(d.width-c.from.width)*h.x;c.to.top=(d.height-c.to.height)*h.y;c.to.left=(d.width-c.to.width)*h.x}var l={from:{y:c.from.height/d.height,x:c.from.width/d.width},to:{y:c.to.height/d.height,x:c.to.width/d.width}};if(e=="box"||e=="both"){if(l.from.y!=l.to.y){n=n.concat(k);c.from=a.effects.setTransition(c,k,l.from.y,c.from);c.to=a.effects.setTransition(c,k,l.to.y,c.to)}if(l.from.x!=l.to.x){n=n.concat(f);c.from=a.effects.setTransition(c,f,l.from.x,c.from);c.to=a.effects.setTransition(c,f,l.to.x,c.to)}}if(e=="content"||e=="both"){if(l.from.y!=l.to.y){n=n.concat(p);c.from=a.effects.setTransition(c,p,l.from.y,c.from);c.to=a.effects.setTransition(c,p,l.to.y,c.to)}}a.effects.save(c,i?n:m);c.show();a.effects.createWrapper(c);c.css("overflow","hidden").css(c.from);if(e=="content"||e=="both"){k=k.concat(["marginTop","marginBottom"]).concat(p);f=f.concat(["marginLeft","marginRight"]);j=n.concat(k).concat(f);c.find("*[width]").each(function(){child=a(this);if(i){a.effects.save(child,j)}var q={height:child.height(),width:child.width()};child.from={height:q.height*l.from.y,width:q.width*l.from.x};child.to={height:q.height*l.to.y,width:q.width*l.to.x};if(l.from.y!=l.to.y){child.from=a.effects.setTransition(child,k,l.from.y,child.from);child.to=a.effects.setTransition(child,k,l.to.y,child.to)}if(l.from.x!=l.to.x){child.from=a.effects.setTransition(child,f,l.from.x,child.from);child.to=a.effects.setTransition(child,f,l.to.x,child.to)}child.css(child.from);child.animate(child.to,b.duration,b.options.easing,function(){if(i){a.effects.restore(child,j)}})})}c.animate(c.to,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){if(g=="hide"){c.hide()}a.effects.restore(c,i?n:m);a.effects.removeWrapper(c);if(b.callback){b.callback.apply(this,arguments)}c.dequeue()}})})}})(jQuery);(function(a){a.effects.shake=function(b){return this.queue(function(){var e=a(this),l=["position","top","left"];var k=a.effects.setMode(e,b.options.mode||"effect");var n=b.options.direction||"left";var c=b.options.distance||20;var d=b.options.times||3;var g=b.duration||b.options.duration||140;a.effects.save(e,l);e.show();a.effects.createWrapper(e);var f=(n=="up"||n=="down")?"top":"left";var p=(n=="up"||n=="left")?"pos":"neg";var h={},o={},m={};h[f]=(p=="pos"?"-=":"+=")+c;o[f]=(p=="pos"?"+=":"-=")+c*2;m[f]=(p=="pos"?"-=":"+=")+c*2;e.animate(h,g,b.options.easing);for(var j=1;j<d;j++){e.animate(o,g,b.options.easing).animate(m,g,b.options.easing)}e.animate(o,g,b.options.easing).animate(h,g/2,b.options.easing,function(){a.effects.restore(e,l);a.effects.removeWrapper(e);if(b.callback){b.callback.apply(this,arguments)}});e.queue("fx",function(){e.dequeue()});e.dequeue()})}})(jQuery);(function(a){a.effects.slide=function(b){return this.queue(function(){var e=a(this),d=["position","top","left"];var i=a.effects.setMode(e,b.options.mode||"show");var h=b.options.direction||"left";a.effects.save(e,d);e.show();a.effects.createWrapper(e).css({overflow:"hidden"});var f=(h=="up"||h=="down")?"top":"left";var c=(h=="up"||h=="left")?"pos":"neg";var j=b.options.distance||(f=="top"?e.outerHeight({margin:true}):e.outerWidth({margin:true}));if(i=="show"){e.css(f,c=="pos"?-j:j)}var g={};g[f]=(i=="show"?(c=="pos"?"+=":"-="):(c=="pos"?"-=":"+="))+j;e.animate(g,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){if(i=="hide"){e.hide()}a.effects.restore(e,d);a.effects.removeWrapper(e);if(b.callback){b.callback.apply(this,arguments)}e.dequeue()}})})}})(jQuery);(function(a){a.effects.transfer=function(b){return this.queue(function(){var f=a(this),h=a(b.options.to),e=h.offset(),g={top:e.top,left:e.left,height:h.innerHeight(),width:h.innerWidth()},d=f.offset(),c=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:d.top,left:d.left,height:f.innerHeight(),width:f.innerWidth(),position:"absolute"}).animate(g,b.duration,b.options.easing,function(){c.remove();(b.callback&&b.callback.apply(f[0],arguments));f.dequeue()})})}})(jQuery);(function(a){a.widget("ui.accordion",{_init:function(){var d=this.options,b=this;this.running=0;if(d.collapsible==a.ui.accordion.defaults.collapsible&&d.alwaysOpen!=a.ui.accordion.defaults.alwaysOpen){d.collapsible=!d.alwaysOpen}if(d.navigation){var c=this.element.find("a").filter(d.navigationFilter);if(c.length){if(c.filter(d.header).length){this.active=c}else{this.active=c.parent().parent().prev();c.addClass("ui-accordion-content-active")}}}this.element.addClass("ui-accordion ui-widget ui-helper-reset");if(this.element[0].nodeName=="UL"){this.element.children("li").addClass("ui-accordion-li-fix")}this.headers=this.element.find(d.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){a(this).removeClass("ui-state-focus")});this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");this.active=this._findActive(this.active||d.active).toggleClass("ui-state-default").toggleClass("ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");this.active.next().addClass("ui-accordion-content-active");a("<span/>").addClass("ui-icon "+d.icons.header).prependTo(this.headers);this.active.find(".ui-icon").toggleClass(d.icons.header).toggleClass(d.icons.headerSelected);if(a.browser.msie){this.element.find("a").css("zoom","1")}this.resize();this.element.attr("role","tablist");this.headers.attr("role","tab").bind("keydown",function(e){return b._keydown(e)}).next().attr("role","tabpanel");this.headers.not(this.active||"").attr("aria-expanded","false").attr("tabIndex","-1").next().hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex","0")}else{this.active.attr("aria-expanded","true").attr("tabIndex","0")}if(!a.browser.safari){this.headers.find("a").attr("tabIndex","-1")}if(d.event){this.headers.bind((d.event)+".accordion",function(e){return b._clickHandler.call(b,e,this)})}},destroy:function(){var c=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role").unbind(".accordion").removeData("accordion");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabindex");this.headers.find("a").removeAttr("tabindex");this.headers.children(".ui-icon").remove();var b=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active");if(c.autoHeight||c.fillHeight){b.css("height","")}},_setData:function(b,c){if(b=="alwaysOpen"){b="collapsible";c=!c}a.widget.prototype._setData.apply(this,arguments)},_keydown:function(e){var g=this.options,f=a.ui.keyCode;if(g.disabled||e.altKey||e.ctrlKey){return}var d=this.headers.length;var b=this.headers.index(e.target);var c=false;switch(e.keyCode){case f.RIGHT:case f.DOWN:c=this.headers[(b+1)%d];break;case f.LEFT:case f.UP:c=this.headers[(b-1+d)%d];break;case f.SPACE:case f.ENTER:return this._clickHandler({target:e.target},e.target)}if(c){a(e.target).attr("tabIndex","-1");a(c).attr("tabIndex","0");c.focus();return false}return true},resize:function(){var e=this.options,d;if(e.fillSpace){if(a.browser.msie){var b=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}d=this.element.parent().height();if(a.browser.msie){this.element.parent().css("overflow",b)}this.headers.each(function(){d-=a(this).outerHeight()});var c=0;this.headers.next().each(function(){c=Math.max(c,a(this).innerHeight()-a(this).height())}).height(Math.max(0,d-c)).css("overflow","auto")}else{if(e.autoHeight){d=0;this.headers.next().each(function(){d=Math.max(d,a(this).outerHeight())}).height(d)}}},activate:function(b){var c=this._findActive(b)[0];this._clickHandler({target:c},c)},_findActive:function(b){return b?typeof b=="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===false?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,f){var d=this.options;if(d.disabled){return false}if(!b.target&&d.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").find(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header);this.active.next().addClass("ui-accordion-content-active");var h=this.active.next(),e={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:h},c=(this.active=a([]));this._toggle(c,h,e);return false}var g=a(b.currentTarget||f);var i=g[0]==this.active[0];if(this.running||(!d.collapsible&&i)){return false}this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").find(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header);this.active.next().addClass("ui-accordion-content-active");if(!i){g.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").find(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected);g.next().addClass("ui-accordion-content-active")}var c=g.next(),h=this.active.next(),e={options:d,newHeader:i&&d.collapsible?a([]):g,oldHeader:this.active,newContent:i&&d.collapsible?a([]):c.find("> *"),oldContent:h.find("> *")},j=this.headers.index(this.active[0])>this.headers.index(g[0]);this.active=i?a([]):g;this._toggle(c,h,e,i,j);return false},_toggle:function(b,i,g,j,k){var d=this.options,m=this;this.toShow=b;this.toHide=i;this.data=g;var c=function(){if(!m){return}return m._completed.apply(m,arguments)};this._trigger("changestart",null,this.data);this.running=i.size()===0?b.size():i.size();if(d.animated){var f={};if(d.collapsible&&j){f={toShow:a([]),toHide:i,complete:c,down:k,autoHeight:d.autoHeight||d.fillSpace}}else{f={toShow:b,toHide:i,complete:c,down:k,autoHeight:d.autoHeight||d.fillSpace}}if(!d.proxied){d.proxied=d.animated}if(!d.proxiedDuration){d.proxiedDuration=d.duration}d.animated=a.isFunction(d.proxied)?d.proxied(f):d.proxied;d.duration=a.isFunction(d.proxiedDuration)?d.proxiedDuration(f):d.proxiedDuration;var l=a.ui.accordion.animations,e=d.duration,h=d.animated;if(!l[h]){l[h]=function(n){this.slide(n,{easing:h,duration:e||700})}}l[h](f)}else{if(d.collapsible&&j){b.toggle()}else{i.hide();b.show()}c(true)}i.prev().attr("aria-expanded","false").attr("tabIndex","-1").blur();b.prev().attr("aria-expanded","true").attr("tabIndex","0").focus()},_completed:function(b){var c=this.options;this.running=b?0:--this.running;if(this.running){return}if(c.clearStyle){this.toShow.add(this.toHide).css({height:"",overflow:""})}this._trigger("change",null,this.data)}});a.extend(a.ui.accordion,{version:"1.7.2",defaults:{active:null,alwaysOpen:true,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()==location.href.toLowerCase()}},animations:{slide:function(j,h){j=a.extend({easing:"swing",duration:300},j,h);if(!j.toHide.size()){j.toShow.animate({height:"show"},j);return}if(!j.toShow.size()){j.toHide.animate({height:"hide"},j);return}var c=j.toShow.css("overflow"),g,d={},f={},e=["height","paddingTop","paddingBottom"],b;var i=j.toShow;b=i[0].style.width;i.width(parseInt(i.parent().width(),10)-parseInt(i.css("paddingLeft"),10)-parseInt(i.css("paddingRight"),10)-(parseInt(i.css("borderLeftWidth"),10)||0)-(parseInt(i.css("borderRightWidth"),10)||0));a.each(e,function(k,m){f[m]="hide";var l=(""+a.css(j.toShow[0],m)).match(/^([\d+-.]+)(.*)$/);d[m]={value:l[1],unit:l[2]||"px"}});j.toShow.css({height:0,overflow:"hidden"}).show();j.toHide.filter(":hidden").each(j.complete).end().filter(":visible").animate(f,{step:function(k,l){if(l.prop=="height"){g=(l.now-l.start)/(l.end-l.start)}j.toShow[0].style[l.prop]=(g*d[l.prop].value)+d[l.prop].unit},duration:j.duration,easing:j.easing,complete:function(){if(!j.autoHeight){j.toShow.css("height","")}j.toShow.css("width",b);j.toShow.css({overflow:c});j.complete()}})},bounceslide:function(b){this.slide(b,{easing:b.down?"easeOutBounce":"swing",duration:b.down?1000:200})},easeslide:function(b){this.slide(b,{easing:"easeinout",duration:700})}}})})(jQuery);(function($){$.extend($.ui,{datepicker:{version:"1.7.2"}});var PROP_NAME="datepicker";function Datepicker(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dateFormat:"mm/dd/yy",firstDay:0,isRTL:false};this._defaults={showOn:"focus",showAnim:"show",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,showMonthAfterYear:false,yearRange:"-10:+10",showOtherMonths:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"normal",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=$('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible"></div>')}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",log:function(){if(this.debug){console.log.apply("",arguments)}},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase();var inline=(nodeName=="div"||nodeName=="span");if(!target.id){target.id="dp"+(++this.uuid)}var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName=="input"){this._connectDatepicker(target,inst)}else{if(inline){this._inlineDatepicker(target,inst)}}},_newInst:function(target,inline){var id=target[0].id.replace(/([:\[\]\.])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:$('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return}var appendText=this._get(inst,"appendText");var isRTL=this._get(inst,"isRTL");if(appendText){inst.append=$('<span class="'+this._appendClass+'">'+appendText+"</span>");input[isRTL?"before":"after"](inst.append)}var showOn=this._get(inst,"showOn");if(showOn=="focus"||showOn=="both"){input.focus(this._showDatepicker)}if(showOn=="button"||showOn=="both"){var buttonText=this._get(inst,"buttonText");var buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type="button"></button>').addClass(this._triggerClass).html(buttonImage==""?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput==target){$.datepicker._hideDatepicker()}else{$.datepicker._showDatepicker(target)}return false})}input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst)},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return}divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst));this._updateDatepicker(inst);this._updateAlternate(inst)},_dialogDatepicker:function(input,dateText,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){var id="dp"+(++this.uuid);this._dialogInput=$('<input type="text" id="'+id+'" size="1" style="position: absolute; top: -100px;"/>');this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst)}extendRemove(inst.settings,settings||{});this._dialogInput.val(dateText);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){var browserWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var browserHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY]}this._dialogInput.css("left",this._pos[0]+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv)}$.data(this._dialogInput[0],PROP_NAME,inst);return this},_destroyDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName=="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress)}else{if(nodeName=="div"||nodeName=="span"){$target.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)})},_disableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)});this._disabledInputs[this._disabledInputs.length]=target},_isDisabledDatepicker:function(target){if(!target){return false}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]==target){return true}}return false},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(arguments.length==2&&typeof name=="string"){return(name=="defaults"?$.extend({},$.datepicker._defaults):(inst?(name=="all"?$.extend({},inst.settings):this._get(inst,name)):null))}var settings=name||{};if(typeof name=="string"){settings={};settings[name]=value}if(inst){if(this._curInst==inst){this._hideDatepicker(null)}var date=this._getDateDatepicker(target);extendRemove(inst.settings,settings);this._setDateDatepicker(target,date);this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst)}},_setDateDatepicker:function(target,date,endDate){var inst=this._getInst(target);if(inst){this._setDate(inst,date,endDate);this._updateDatepicker(inst);this._updateAlternate(inst)}},_getDateDatepicker:function(target){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst)}return(inst?this._getDate(inst):null)},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target);var handled=true;var isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker(null,"");break;case 13:var sel=$("td."+$.datepicker._dayOverClass+", td."+$.datepicker._currentClass,inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0])}else{$.datepicker._hideDatepicker(null,$.datepicker._get(inst,"duration"))}return false;break;case 27:$.datepicker._hideDatepicker(null,$.datepicker._get(inst,"duration"));break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target)}handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target)}handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M")}break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D")}handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M")}break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D")}handled=event.ctrlKey||event.metaKey;break;default:handled=false}}else{if(event.keyCode==36&&event.ctrlKey){$.datepicker._showDatepicker(this)}else{handled=false}}if(handled){event.preventDefault();event.stopPropagation()}},_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){var chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));var chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||(chr<" "||!chars||chars.indexOf(chr)>-1)}},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!="input"){input=$("input",input.parentNode)[0]}if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput==input){return}var inst=$.datepicker._getInst(input);var beforeShow=$.datepicker._get(inst,"beforeShow");extendRemove(inst.settings,(beforeShow?beforeShow.apply(input,[input,inst]):{}));$.datepicker._hideDatepicker(null,"");$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value=""}if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight}var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")=="fixed";return !isFixed});if(isFixed&&$.browser.opera){$.datepicker._pos[0]-=document.documentElement.scrollLeft;$.datepicker._pos[1]-=document.documentElement.scrollTop}var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.rangeStart=null;inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){var showAnim=$.datepicker._get(inst,"showAnim")||"show";var duration=$.datepicker._get(inst,"duration");var postProcess=function(){$.datepicker._datepickerShowing=true;if($.browser.msie&&parseInt($.browser.version,10)<7){$("iframe.ui-datepicker-cover").css({width:inst.dpDiv.width()+4,height:inst.dpDiv.height()+4})}};if($.effects&&$.effects[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[showAnim](duration,postProcess)}if(duration==""){postProcess()}if(inst.input[0].type!="hidden"){inst.input[0].focus()}$.datepicker._curInst=inst}},_updateDatepicker:function(inst){var dims={width:inst.dpDiv.width()+4,height:inst.dpDiv.height()+4};var self=this;inst.dpDiv.empty().append(this._generateHTML(inst)).find("iframe.ui-datepicker-cover").css({width:dims.width,height:dims.height}).end().find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1){$(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!=-1){$(this).removeClass("ui-datepicker-next-hover")}}).bind("mouseover",function(){if(!self._isDisabledDatepicker(inst.inline?inst.dpDiv.parent()[0]:inst.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1){$(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!=-1){$(this).addClass("ui-datepicker-next-hover")}}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();var numMonths=this._getNumberOfMonths(inst);var cols=numMonths[1];var width=17;if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em")}else{inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("")}inst.dpDiv[(numMonths[0]!=1||numMonths[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst.input&&inst.input[0].type!="hidden"&&inst==$.datepicker._curInst){$(inst.input[0]).focus()}},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth();var dpHeight=inst.dpDiv.outerHeight();var inputWidth=inst.input?inst.input.outerWidth():0;var inputHeight=inst.input?inst.input.outerHeight():0;var viewWidth=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)+$(document).scrollLeft();var viewHeight=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)+$(document).scrollTop();offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left==inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top==(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0;offset.top-=(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(offset.top+dpHeight+inputHeight*2-viewHeight):0;return offset},_findPos:function(obj){while(obj&&(obj.type=="hidden"||obj.nodeType!=1)){obj=obj.nextSibling}var position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input,duration){var inst=this._curInst;if(!inst||(input&&inst!=$.data(input,PROP_NAME))){return}if(inst.stayOpen){this._selectDate("#"+inst.id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))}inst.stayOpen=false;if(this._datepickerShowing){duration=(duration!=null?duration:this._get(inst,"duration"));var showAnim=this._get(inst,"showAnim");var postProcess=function(){$.datepicker._tidyDialog(inst)};if(duration!=""&&$.effects&&$.effects[showAnim]){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[(duration==""?"hide":(showAnim=="slideDown"?"slideUp":(showAnim=="fadeIn"?"fadeOut":"hide")))](duration,postProcess)}if(duration==""){this._tidyDialog(inst)}var onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst])}this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv)}}this._inDialog=false}this._curInst=null},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(event){if(!$.datepicker._curInst){return}var $target=$(event.target);if(($target.parents("#"+$.datepicker._mainDivId).length==0)&&!$target.hasClass($.datepicker.markerClassName)&&!$target.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)){$.datepicker._hideDatepicker(null,"")}},_adjustDate:function(id,offset,period){var target=$(id);var inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return}this._adjustInstDate(inst,offset+(period=="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst)},_gotoToday:function(id){var target=$(id);var inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear}else{var date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst);this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id);var inst=this._getInst(target[0]);inst._selectingMonthYear=false;inst["selected"+(period=="M"?"Month":"Year")]=inst["draw"+(period=="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target)},_clickMonthYear:function(id){var target=$(id);var inst=this._getInst(target[0]);if(inst.input&&inst._selectingMonthYear&&!$.browser.msie){inst.input[0].focus()}inst._selectingMonthYear=!inst._selectingMonthYear},_selectDay:function(id,month,year,td){var target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return}var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;if(inst.stayOpen){inst.endDay=inst.endMonth=inst.endYear=null}this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));if(inst.stayOpen){inst.rangeStart=this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));this._updateDatepicker(inst)}},_clearDate:function(id){var target=$(id);var inst=this._getInst(target[0]);inst.stayOpen=false;inst.endDay=inst.endMonth=inst.endYear=inst.rangeStart=null;this._selectDate(target,"")},_selectDate:function(id,dateStr){var target=$(id);var inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr)}this._updateAlternate(inst);var onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst])}else{if(inst.input){inst.input.trigger("change")}}if(inst.inline){this._updateDatepicker(inst)}else{if(!inst.stayOpen){this._hideDatepicker(null,this._get(inst,"duration"));this._lastInput=inst.input[0];if(typeof(inst.input[0])!="object"){inst.input[0].focus()}this._lastInput=null}}},_updateAlternate:function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");var date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""]},iso8601Week:function(date){var checkDate=new Date(date.getFullYear(),date.getMonth(),date.getDate());var firstMon=new Date(checkDate.getFullYear(),1-1,4);var firstDay=firstMon.getDay()||7;firstMon.setDate(firstMon.getDate()+1-firstDay);if(firstDay<4&&checkDate<firstMon){checkDate.setDate(checkDate.getDate()-3);return $.datepicker.iso8601Week(checkDate)}else{if(checkDate>new Date(checkDate.getFullYear(),12-1,28)){firstDay=new Date(checkDate.getFullYear()+1,1-1,4).getDay()||7;if(firstDay>4&&(checkDate.getDay()||7)<firstDay-3){return 1}}}return Math.floor(((checkDate-firstMon)/86400000)/7)+1},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments"}value=(typeof value=="object"?value.toString():value+"");if(value==""){return null}var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var year=-1;var month=-1;var day=-1;var doy=-1;var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var getNumber=function(match){lookAhead(match);var origSize=(match=="@"?14:(match=="y"?4:(match=="o"?3:2)));var size=origSize;var num=0;while(size>0&&iValue<value.length&&value.charAt(iValue)>="0"&&value.charAt(iValue)<="9"){num=num*10+parseInt(value.charAt(iValue++),10);size--}if(size==origSize){throw"Missing number at position "+iValue}return num};var getName=function(match,shortNames,longNames){var names=(lookAhead(match)?longNames:shortNames);var size=0;for(var j=0;j<names.length;j++){size=Math.max(size,names[j].length)}var name="";var iInit=iValue;while(size>0&&iValue<value.length){name+=value.charAt(iValue++);for(var i=0;i<names.length;i++){if(name==names[i]){return i+1}}size--}throw"Unknown name at position "+iInit};var checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat)){throw"Unexpected literal at position "+iValue}iValue++};var iValue=0;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{checkLiteral()}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":var date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral()}else{literal=true}break;default:checkLiteral()}}}if(year==-1){year=new Date().getFullYear()}else{if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+(year<=shortYearCutoff?0:-100)}}if(doy>-1){month=1;day=doy;do{var dim=this._getDaysInMonth(year,month-1);if(day<=dim){break}month++;day-=dim}while(true)}var date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day){throw"Invalid date"}return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TIMESTAMP:"@",W3C:"yy-mm-dd",formatDate:function(format,date,settings){if(!date){return""}var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num}}return num};var formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value])};var output="";var literal=false;if(date){for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{output+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":var doy=date.getDate();for(var m=date.getMonth()-1;m>=0;m--){doy+=this._getDaysInMonth(date.getFullYear(),m)}output+=formatNumber("o",doy,3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"'":if(lookAhead("'")){output+="'"}else{literal=true}break;default:output+=format.charAt(iFormat)}}}}return output},_possibleChars:function(format){var chars="";var literal=false;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{chars+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'"}else{literal=true}break;default:chars+=format.charAt(iFormat)}}}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst){var dateFormat=this._get(inst,"dateFormat");var dates=inst.input?inst.input.val():null;inst.endDay=inst.endMonth=inst.endYear=null;var date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){this.log(event);date=defaultDate}inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst)},_getDefaultDate:function(inst){var date=this._determineDate(this._get(inst,"defaultDate"),new Date());var minDate=this._getMinMaxDate(inst,"min",true);var maxDate=this._getMinMaxDate(inst,"max");date=(minDate&&date<minDate?minDate:date);date=(maxDate&&date>maxDate?maxDate:date);return date},_determineDate:function(date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date};var offsetString=function(offset,getDaysInMonth){var date=new Date();var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();var pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,getDaysInMonth(year,month));break}matches=pattern.exec(offset)}return new Date(year,month,day)};date=(date==null?defaultDate:(typeof date=="string"?offsetString(date,this._getDaysInMonth):(typeof date=="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):date)));date=(date&&date.toString()=="Invalid Date"?defaultDate:date);if(date){date.setHours(0);date.setMinutes(0);date.setSeconds(0);date.setMilliseconds(0)}return this._daylightSavingAdjust(date)},_daylightSavingAdjust:function(date){if(!date){return null}date.setHours(date.getHours()>12?date.getHours()+2:0);return date},_setDate:function(inst,date,endDate){var clear=!(date);var origMonth=inst.selectedMonth;var origYear=inst.selectedYear;date=this._determineDate(date,new Date());inst.selectedDay=inst.currentDay=date.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=date.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=date.getFullYear();if(origMonth!=inst.selectedMonth||origYear!=inst.selectedYear){this._notifyChange(inst)}this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst))}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()=="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate},_generateHTML:function(inst){var today=new Date();today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,"isRTL");var showButtonPanel=this._get(inst,"showButtonPanel");var hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext");var navigationAsDateFormat=this._get(inst,"navigationAsDateFormat");var numMonths=this._getNumberOfMonths(inst);var showCurrentAtPos=this._get(inst,"showCurrentAtPos");var stepMonths=this._get(inst,"stepMonths");var stepBigMonths=this._get(inst,"stepBigMonths");var isMultiMonth=(numMonths[0]!=1||numMonths[1]!=1);var currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));var minDate=this._getMinMaxDate(inst,"min",true);var maxDate=this._getMinMaxDate(inst,"max");var drawMonth=inst.drawMonth-showCurrentAtPos;var drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--}if(maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[1]+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--}}}inst.drawMonth=drawMonth;inst.drawYear=drawYear;var prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));var prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery.datepicker._adjustDate(\'#'+inst.id+"', -"+stepMonths+", 'M');\" title=\""+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>"));var nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));var next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery.datepicker._adjustDate(\'#'+inst.id+"', +"+stepMonths+", 'M');\" title=\""+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>"));var currentText=this._get(inst,"currentText");var gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));var controls=(!inst.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery.datepicker._hideDatepicker();">'+this._get(inst,"closeText")+"</button>":"");var buttonPanel=(showButtonPanel)?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery.datepicker._gotoToday(\'#'+inst.id+"');\">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";var firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);var dayNames=this._get(inst,"dayNames");var dayNamesShort=this._get(inst,"dayNamesShort");var dayNamesMin=this._get(inst,"dayNamesMin");var monthNames=this._get(inst,"monthNames");var monthNamesShort=this._get(inst,"monthNamesShort");var beforeShowDay=this._get(inst,"beforeShowDay");var showOtherMonths=this._get(inst,"showOtherMonths");var calculateWeek=this._get(inst,"calculateWeek")||this.iso8601Week;var endDate=inst.endDay?this._daylightSavingAdjust(new Date(inst.endYear,inst.endMonth,inst.endDay)):currentDate;var defaultDate=this._getDefaultDate(inst);var html="";for(var row=0;row<numMonths[0];row++){var group="";for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));var cornerClass=" ui-corner-all";var calender="";if(isMultiMonth){calender+='<div class="ui-datepicker-group ui-datepicker-group-';switch(col){case 0:calender+="first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+="last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+="middle";cornerClass="";break}calender+='">'}calender+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'">'+(/all|left/.test(cornerClass)&&row==0?(isRTL?next:prev):"")+(/all|right/.test(cornerClass)&&row==0?(isRTL?prev:next):"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,selectedDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var thead="";for(var dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+dayNames[day]+'">'+dayNamesMin[day]+"</span></th>"}calender+=thead+"</tr></thead><tbody>";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)}var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;var numRows=(isMultiMonth?6:Math.ceil((leadDays+daysInMonth)/7));var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(var dRow=0;dRow<numRows;dRow++){calender+="<tr>";var tbody="";for(var dow=0;dow<7;dow++){var daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);var otherMonth=(printDate.getMonth()!=drawMonth);var unselectable=otherMonth||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+='<td class="'+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+((printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime())?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()>=currentDate.getTime()&&printDate.getTime()<=endDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()==today.getTime()?" ui-datepicker-today":""))+'"'+((!otherMonth||showOtherMonths)&&daySettings[2]?' title="'+daySettings[2]+'"':"")+(unselectable?"":" onclick=\"DP_jQuery.datepicker._selectDay('#"+inst.id+"',"+drawMonth+","+drawYear+', this);return false;"')+">"+(otherMonth?(showOtherMonths?printDate.getDate():"&#xa0;"):(unselectable?'<span class="ui-state-default">'+printDate.getDate()+"</span>":'<a class="ui-state-default'+(printDate.getTime()==today.getTime()?" ui-state-highlight":"")+(printDate.getTime()>=currentDate.getTime()&&printDate.getTime()<=endDate.getTime()?" ui-state-active":"")+'" href="#">'+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"</tr>"}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++}calender+="</tbody></table>"+(isMultiMonth?"</div>"+((numMonths[0]>0&&col==numMonths[1]-1)?'<div class="ui-datepicker-row-break"></div>':""):"");group+=calender}html+=group}html+=buttonPanel+($.browser.msie&&parseInt($.browser.version,10)<7&&!inst.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");inst._keyEvent=false;return html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,selectedDate,secondary,monthNames,monthNamesShort){minDate=(inst.rangeStart&&minDate&&selectedDate<minDate?selectedDate:minDate);var changeMonth=this._get(inst,"changeMonth");var changeYear=this._get(inst,"changeYear");var showMonthAfterYear=this._get(inst,"showMonthAfterYear");var html='<div class="ui-datepicker-title">';var monthHtml="";if(secondary||!changeMonth){monthHtml+='<span class="ui-datepicker-month">'+monthNames[drawMonth]+"</span> "}else{var inMinYear=(minDate&&minDate.getFullYear()==drawYear);var inMaxYear=(maxDate&&maxDate.getFullYear()==drawYear);monthHtml+='<select class="ui-datepicker-month" onchange="DP_jQuery.datepicker._selectMonthYear(\'#'+inst.id+"', this, 'M');\" onclick=\"DP_jQuery.datepicker._clickMonthYear('#"+inst.id+"');\">";for(var month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+='<option value="'+month+'"'+(month==drawMonth?' selected="selected"':"")+">"+monthNamesShort[month]+"</option>"}}monthHtml+="</select>"}if(!showMonthAfterYear){html+=monthHtml+((secondary||changeMonth||changeYear)&&(!(changeMonth&&changeYear))?"&#xa0;":"")}if(secondary||!changeYear){html+='<span class="ui-datepicker-year">'+drawYear+"</span>"}else{var years=this._get(inst,"yearRange").split(":");var year=0;var endYear=0;if(years.length!=2){year=drawYear-10;endYear=drawYear+10}else{if(years[0].charAt(0)=="+"||years[0].charAt(0)=="-"){year=drawYear+parseInt(years[0],10);endYear=drawYear+parseInt(years[1],10)}else{year=parseInt(years[0],10);endYear=parseInt(years[1],10)}}year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);html+='<select class="ui-datepicker-year" onchange="DP_jQuery.datepicker._selectMonthYear(\'#'+inst.id+"', this, 'Y');\" onclick=\"DP_jQuery.datepicker._clickMonthYear('#"+inst.id+"');\">";for(;year<=endYear;year++){html+='<option value="'+year+'"'+(year==drawYear?' selected="selected"':"")+">"+year+"</option>"}html+="</select>"}if(showMonthAfterYear){html+=(secondary||changeMonth||changeYear?"&#xa0;":"")+monthHtml}html+="</div>";return html},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period=="Y"?offset:0);var month=inst.drawMonth+(period=="M"?offset:0);var day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period=="D"?offset:0);var date=this._daylightSavingAdjust(new Date(year,month,day));var minDate=this._getMinMaxDate(inst,"min",true);var maxDate=this._getMinMaxDate(inst,"max");date=(minDate&&date<minDate?minDate:date);date=(maxDate&&date>maxDate?maxDate:date);inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period=="M"||period=="Y"){this._notifyChange(inst)}},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst])}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths=="number"?[1,numMonths]:numMonths))},_getMinMaxDate:function(inst,minMax,checkRange){var date=this._determineDate(this._get(inst,minMax+"Date"),null);return(!checkRange||!inst.rangeStart?date:(!date||inst.rangeStart>date?inst.rangeStart:date))},_getDaysInMonth:function(year,month){return 32-new Date(year,month,32).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst);var date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()))}return this._isInRange(inst,date)},_isInRange:function(inst,date){var newMinDate=(!inst.rangeStart?null:this._daylightSavingAdjust(new Date(inst.selectedYear,inst.selectedMonth,inst.selectedDay)));newMinDate=(newMinDate&&inst.rangeStart<newMinDate?inst.rangeStart:newMinDate);var minDate=newMinDate||this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");return((!minDate||date>=minDate)&&(!maxDate||date<=maxDate))},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear}var date=(day?(typeof day=="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}});function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null||props[name]==undefined){target[name]=props[name]}}return target}function isArray(a){return(a&&(($.browser.safari&&typeof a=="object"&&a.length)||(a.constructor&&a.constructor.toString().match(/\Array\(\)/))))}$.fn.datepicker=function(options){if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv);$.datepicker.initialized=true}var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=="string"&&(options=="isDisabled"||options=="getDate")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}if(options=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}return this.each(function(){typeof options=="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.7.2";window.DP_jQuery=$})(jQuery);(function(c){var b={dragStart:"start.draggable",drag:"drag.draggable",dragStop:"stop.draggable",maxHeight:"maxHeight.resizable",minHeight:"minHeight.resizable",maxWidth:"maxWidth.resizable",minWidth:"minWidth.resizable",resizeStart:"start.resizable",resize:"drag.resizable",resizeStop:"stop.resizable"},a="ui-dialog ui-widget ui-widget-content ui-corner-all ";c.widget("ui.dialog",{_init:function(){this.originalTitle=this.element.attr("title");var l=this,m=this.options,j=m.title||this.originalTitle||"&nbsp;",e=c.ui.dialog.getTitleId(this.element),k=(this.uiDialog=c("<div/>")).appendTo(document.body).hide().addClass(a+m.dialogClass).css({position:"absolute",overflow:"hidden",zIndex:m.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(n){(m.closeOnEscape&&n.keyCode&&n.keyCode==c.ui.keyCode.ESCAPE&&l.close(n))}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(n){l.moveToTop(false,n)}),g=this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(k),f=(this.uiDialogTitlebar=c("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(k),i=c('<a href="#"/>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){i.addClass("ui-state-hover")},function(){i.removeClass("ui-state-hover")}).focus(function(){i.addClass("ui-state-focus")}).blur(function(){i.removeClass("ui-state-focus")}).mousedown(function(n){n.stopPropagation()}).click(function(n){l.close(n);return false}).appendTo(f),h=(this.uiDialogTitlebarCloseText=c("<span/>")).addClass("ui-icon ui-icon-closethick").text(m.closeText).appendTo(i),d=c("<span/>").addClass("ui-dialog-title").attr("id",e).html(j).prependTo(f);f.find("*").add(f).disableSelection();(m.draggable&&c.fn.draggable&&this._makeDraggable());(m.resizable&&c.fn.resizable&&this._makeResizable());this._createButtons(m.buttons);this._isOpen=false;(m.bgiframe&&c.fn.bgiframe&&k.bgiframe());(m.autoOpen&&this.open())},destroy:function(){(this.overlay&&this.overlay.destroy());this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();(this.originalTitle&&this.element.attr("title",this.originalTitle))},close:function(f){var d=this;if(false===d._trigger("beforeclose",f)){return}(d.overlay&&d.overlay.destroy());d.uiDialog.unbind("keypress.ui-dialog");(d.options.hide?d.uiDialog.hide(d.options.hide,function(){d._trigger("close",f)}):d.uiDialog.hide()&&d._trigger("close",f));c.ui.dialog.overlay.resize();d._isOpen=false;if(d.options.modal){var e=0;c(".ui-dialog").each(function(){if(this!=d.uiDialog[0]){e=Math.max(e,c(this).css("z-index"))}});c.ui.dialog.maxZ=e}},isOpen:function(){return this._isOpen},moveToTop:function(f,e){if((this.options.modal&&!f)||(!this.options.stack&&!this.options.modal)){return this._trigger("focus",e)}if(this.options.zIndex>c.ui.dialog.maxZ){c.ui.dialog.maxZ=this.options.zIndex}(this.overlay&&this.overlay.$el.css("z-index",c.ui.dialog.overlay.maxZ=++c.ui.dialog.maxZ));var d={scrollTop:this.element.attr("scrollTop"),scrollLeft:this.element.attr("scrollLeft")};this.uiDialog.css("z-index",++c.ui.dialog.maxZ);this.element.attr(d);this._trigger("focus",e)},open:function(){if(this._isOpen){return}var e=this.options,d=this.uiDialog;this.overlay=e.modal?new c.ui.dialog.overlay(this):null;(d.next().length&&d.appendTo("body"));this._size();this._position(e.position);d.show(e.show);this.moveToTop(true);(e.modal&&d.bind("keypress.ui-dialog",function(h){if(h.keyCode!=c.ui.keyCode.TAB){return}var g=c(":tabbable",this),i=g.filter(":first")[0],f=g.filter(":last")[0];if(h.target==f&&!h.shiftKey){setTimeout(function(){i.focus()},1)}else{if(h.target==i&&h.shiftKey){setTimeout(function(){f.focus()},1)}}}));c([]).add(d.find(".ui-dialog-content :tabbable:first")).add(d.find(".ui-dialog-buttonpane :tabbable:first")).add(d).filter(":first").focus();this._trigger("open");this._isOpen=true},_createButtons:function(g){var f=this,d=false,e=c("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiDialog.find(".ui-dialog-buttonpane").remove();(typeof g=="object"&&g!==null&&c.each(g,function(){return !(d=true)}));if(d){c.each(g,function(h,i){c('<button type="button"></button>').addClass("ui-state-default ui-corner-all").text(h).click(function(){i.apply(f.element[0],arguments)}).hover(function(){c(this).addClass("ui-state-hover")},function(){c(this).removeClass("ui-state-hover")}).focus(function(){c(this).addClass("ui-state-focus")}).blur(function(){c(this).removeClass("ui-state-focus")}).appendTo(e)});e.appendTo(this.uiDialog)}},_makeDraggable:function(){var d=this,f=this.options,e;this.uiDialog.draggable({cancel:".ui-dialog-content",handle:".ui-dialog-titlebar",containment:"document",start:function(){e=f.height;c(this).height(c(this).height()).addClass("ui-dialog-dragging");(f.dragStart&&f.dragStart.apply(d.element[0],arguments))},drag:function(){(f.drag&&f.drag.apply(d.element[0],arguments))},stop:function(){c(this).removeClass("ui-dialog-dragging").height(e);(f.dragStop&&f.dragStop.apply(d.element[0],arguments));c.ui.dialog.overlay.resize()}})},_makeResizable:function(g){g=(g===undefined?this.options.resizable:g);var d=this,f=this.options,e=typeof g=="string"?g:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",alsoResize:this.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:f.minHeight,start:function(){c(this).addClass("ui-dialog-resizing");(f.resizeStart&&f.resizeStart.apply(d.element[0],arguments))},resize:function(){(f.resize&&f.resize.apply(d.element[0],arguments))},handles:e,stop:function(){c(this).removeClass("ui-dialog-resizing");f.height=c(this).height();f.width=c(this).width();(f.resizeStop&&f.resizeStop.apply(d.element[0],arguments));c.ui.dialog.overlay.resize()}}).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_position:function(i){var e=c(window),f=c(document),g=f.scrollTop(),d=f.scrollLeft(),h=g;if(c.inArray(i,["center","top","right","bottom","left"])>=0){i=[i=="right"||i=="left"?i:"center",i=="top"||i=="bottom"?i:"middle"]}if(i.constructor!=Array){i=["center","middle"]}if(i[0].constructor==Number){d+=i[0]}else{switch(i[0]){case"left":d+=0;break;case"right":d+=e.width()-this.uiDialog.outerWidth();break;default:case"center":d+=(e.width()-this.uiDialog.outerWidth())/2}}if(i[1].constructor==Number){g+=i[1]}else{switch(i[1]){case"top":g+=0;break;case"bottom":g+=e.height()-this.uiDialog.outerHeight();break;default:case"middle":g+=(e.height()-this.uiDialog.outerHeight())/2}}g=Math.max(g,h);this.uiDialog.css({top:g,left:d})},_setData:function(e,f){(b[e]&&this.uiDialog.data(b[e],f));switch(e){case"buttons":this._createButtons(f);break;case"closeText":this.uiDialogTitlebarCloseText.text(f);break;case"dialogClass":this.uiDialog.removeClass(this.options.dialogClass).addClass(a+f);break;case"draggable":(f?this._makeDraggable():this.uiDialog.draggable("destroy"));break;case"height":this.uiDialog.height(f);break;case"position":this._position(f);break;case"resizable":var d=this.uiDialog,g=this.uiDialog.is(":data(resizable)");(g&&!f&&d.resizable("destroy"));(g&&typeof f=="string"&&d.resizable("option","handles",f));(g||this._makeResizable(f));break;case"title":c(".ui-dialog-title",this.uiDialogTitlebar).html(f||"&nbsp;");break;case"width":this.uiDialog.width(f);break}c.widget.prototype._setData.apply(this,arguments)},_size:function(){var e=this.options;this.element.css({height:0,minHeight:0,width:"auto"});var d=this.uiDialog.css({height:"auto",width:e.width}).height();this.element.css({minHeight:Math.max(e.minHeight-d,0),height:e.height=="auto"?"auto":Math.max(e.height-d,0)})}});c.extend(c.ui.dialog,{version:"1.7.2",defaults:{autoOpen:true,bgiframe:false,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:"center",resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},getter:"isOpen",uuid:0,maxZ:0,getTitleId:function(d){return"ui-dialog-title-"+(d.attr("id")||++this.uuid)},overlay:function(d){this.$el=c.ui.dialog.overlay.create(d)}});c.extend(c.ui.dialog.overlay,{instances:[],maxZ:0,events:c.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(d){return d+".dialog-overlay"}).join(" "),create:function(e){if(this.instances.length===0){setTimeout(function(){if(c.ui.dialog.overlay.instances.length){c(document).bind(c.ui.dialog.overlay.events,function(f){var g=c(f.target).parents(".ui-dialog").css("zIndex")||0;return(g>c.ui.dialog.overlay.maxZ)})}},1);c(document).bind("keydown.dialog-overlay",function(f){(e.options.closeOnEscape&&f.keyCode&&f.keyCode==c.ui.keyCode.ESCAPE&&e.close(f))});c(window).bind("resize.dialog-overlay",c.ui.dialog.overlay.resize)}var d=c("<div></div>").appendTo(document.body).addClass("ui-widget-overlay").css({width:this.width(),height:this.height()});(e.options.bgiframe&&c.fn.bgiframe&&d.bgiframe());this.instances.push(d);return d},destroy:function(d){this.instances.splice(c.inArray(this.instances,d),1);if(this.instances.length===0){c([document,window]).unbind(".dialog-overlay")}d.remove();var e=0;c.each(this.instances,function(){e=Math.max(e,this.css("z-index"))});this.maxZ=e},height:function(){if(c.browser.msie&&c.browser.version<7){var e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);var d=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(e<d){return c(window).height()+"px"}else{return e+"px"}}else{return c(document).height()+"px"}},width:function(){if(c.browser.msie&&c.browser.version<7){var d=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);var e=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(d<e){return c(window).width()+"px"}else{return d+"px"}}else{return c(document).width()+"px"}},resize:function(){var d=c([]);c.each(c.ui.dialog.overlay.instances,function(){d=d.add(this)});d.css({width:0,height:0}).css({width:c.ui.dialog.overlay.width(),height:c.ui.dialog.overlay.height()})}});c.extend(c.ui.dialog.overlay.prototype,{destroy:function(){c.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(a){a.widget("ui.progressbar",{_init:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this._valueMin(),"aria-valuemax":this._valueMax(),"aria-valuenow":this._value()});this.valueDiv=a('<div class="ui-progressbar-value ui-widget-header ui-corner-left"></div>').appendTo(this.element);this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow").removeData("progressbar").unbind(".progressbar");this.valueDiv.remove();a.widget.prototype.destroy.apply(this,arguments)},value:function(b){if(b===undefined){return this._value()}this._setData("value",b);return this},_setData:function(b,c){switch(b){case"value":this.options.value=c;this._refreshValue();this._trigger("change",null,{});break}a.widget.prototype._setData.apply(this,arguments)},_value:function(){var b=this.options.value;if(b<this._valueMin()){b=this._valueMin()}if(b>this._valueMax()){b=this._valueMax()}return b},_valueMin:function(){var b=0;return b},_valueMax:function(){var b=100;return b},_refreshValue:function(){var b=this.value();this.valueDiv[b==this._valueMax()?"addClass":"removeClass"]("ui-corner-right");this.valueDiv.width(b+"%");this.element.attr("aria-valuenow",b)}});a.extend(a.ui.progressbar,{version:"1.7.2",defaults:{value:0}})})(jQuery);(function(a){a.widget("ui.slider",a.extend({},a.ui.mouse,{_init:function(){var b=this,c=this.options;this._keySliding=false;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this.range=a([]);if(c.range){if(c.range===true){this.range=a("<div></div>");if(!c.values){c.values=[this._valueMin(),this._valueMin()]}if(c.values.length&&c.values.length!=2){c.values=[c.values[0],c.values[0]]}}else{this.range=a("<div></div>")}this.range.appendTo(this.element).addClass("ui-slider-range");if(c.range=="min"||c.range=="max"){this.range.addClass("ui-slider-range-"+c.range)}this.range.addClass("ui-widget-header")}if(a(".ui-slider-handle",this.element).length==0){a('<a href="#"></a>').appendTo(this.element).addClass("ui-slider-handle")}if(c.values&&c.values.length){while(a(".ui-slider-handle",this.element).length<c.values.length){a('<a href="#"></a>').appendTo(this.element).addClass("ui-slider-handle")}}this.handles=a(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(d){d.preventDefault()}).hover(function(){if(!c.disabled){a(this).addClass("ui-state-hover")}},function(){a(this).removeClass("ui-state-hover")}).focus(function(){if(!c.disabled){a(".ui-slider .ui-state-focus").removeClass("ui-state-focus");a(this).addClass("ui-state-focus")}else{a(this).blur()}}).blur(function(){a(this).removeClass("ui-state-focus")});this.handles.each(function(d){a(this).data("index.ui-slider-handle",d)});this.handles.keydown(function(i){var f=true;var e=a(this).data("index.ui-slider-handle");if(b.options.disabled){return}switch(i.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:f=false;if(!b._keySliding){b._keySliding=true;a(this).addClass("ui-state-active");b._start(i,e)}break}var g,d,h=b._step();if(b.options.values&&b.options.values.length){g=d=b.values(e)}else{g=d=b.value()}switch(i.keyCode){case a.ui.keyCode.HOME:d=b._valueMin();break;case a.ui.keyCode.END:d=b._valueMax();break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g==b._valueMax()){return}d=g+h;break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g==b._valueMin()){return}d=g-h;break}b._slide(i,e,d);return f}).keyup(function(e){var d=a(this).data("index.ui-slider-handle");if(b._keySliding){b._stop(e,d);b._change(e,d);b._keySliding=false;a(this).removeClass("ui-state-active")}});this._refreshValue()},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy()},_mouseCapture:function(d){var e=this.options;if(e.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();var h={x:d.pageX,y:d.pageY};var j=this._normValueFromMouse(h);var c=this._valueMax()-this._valueMin()+1,f;var k=this,i;this.handles.each(function(l){var m=Math.abs(j-k.values(l));if(c>m){c=m;f=a(this);i=l}});if(e.range==true&&this.values(1)==e.min){f=a(this.handles[++i])}this._start(d,i);k._handleIndex=i;f.addClass("ui-state-active").focus();var g=f.offset();var b=!a(d.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=b?{left:0,top:0}:{left:d.pageX-g.left-(f.width()/2),top:d.pageY-g.top-(f.height()/2)-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)};j=this._normValueFromMouse(h);this._slide(d,i,j);return true},_mouseStart:function(b){return true},_mouseDrag:function(d){var b={x:d.pageX,y:d.pageY};var c=this._normValueFromMouse(b);this._slide(d,this._handleIndex,c);return false},_mouseStop:function(b){this.handles.removeClass("ui-state-active");this._stop(b,this._handleIndex);this._change(b,this._handleIndex);this._handleIndex=null;this._clickOffset=null;return false},_detectOrientation:function(){this.orientation=this.options.orientation=="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(d){var c,h;if("horizontal"==this.orientation){c=this.elementSize.width;h=d.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{c=this.elementSize.height;h=d.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}var f=(h/c);if(f>1){f=1}if(f<0){f=0}if("vertical"==this.orientation){f=1-f}var e=this._valueMax()-this._valueMin(),i=f*e,b=i%this.options.step,g=this._valueMin()+i-b;if(b>(this.options.step/2)){g+=this.options.step}return parseFloat(g.toFixed(5))},_start:function(d,c){var b={handle:this.handles[c],value:this.value()};if(this.options.values&&this.options.values.length){b.value=this.values(c);b.values=this.values()}this._trigger("start",d,b)},_slide:function(f,e,d){var g=this.handles[e];if(this.options.values&&this.options.values.length){var b=this.values(e?0:1);if((this.options.values.length==2&&this.options.range===true)&&((e==0&&d>b)||(e==1&&d<b))){d=b}if(d!=this.values(e)){var c=this.values();c[e]=d;var h=this._trigger("slide",f,{handle:this.handles[e],value:d,values:c});var b=this.values(e?0:1);if(h!==false){this.values(e,d,(f.type=="mousedown"&&this.options.animate),true)}}}else{if(d!=this.value()){var h=this._trigger("slide",f,{handle:this.handles[e],value:d});if(h!==false){this._setData("value",d,(f.type=="mousedown"&&this.options.animate))}}}},_stop:function(d,c){var b={handle:this.handles[c],value:this.value()};if(this.options.values&&this.options.values.length){b.value=this.values(c);b.values=this.values()}this._trigger("stop",d,b)},_change:function(d,c){var b={handle:this.handles[c],value:this.value()};if(this.options.values&&this.options.values.length){b.value=this.values(c);b.values=this.values()}this._trigger("change",d,b)},value:function(b){if(arguments.length){this._setData("value",b);this._change(null,0)}return this._value()},values:function(b,e,c,d){if(arguments.length>1){this.options.values[b]=e;this._refreshValue(c);if(!d){this._change(null,b)}}if(arguments.length){if(this.options.values&&this.options.values.length){return this._values(b)}else{return this.value()}}else{return this._values()}},_setData:function(b,d,c){a.widget.prototype._setData.apply(this,arguments);switch(b){case"disabled":if(d){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled")}else{this.handles.removeAttr("disabled")}case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue(c);break;case"value":this._refreshValue(c);break}},_step:function(){var b=this.options.step;return b},_value:function(){var b=this.options.value;if(b<this._valueMin()){b=this._valueMin()}if(b>this._valueMax()){b=this._valueMax()}return b},_values:function(b){if(arguments.length){var c=this.options.values[b];if(c<this._valueMin()){c=this._valueMin()}if(c>this._valueMax()){c=this._valueMax()}return c}else{return this.options.values}},_valueMin:function(){var b=this.options.min;return b},_valueMax:function(){var b=this.options.max;return b},_refreshValue:function(c){var f=this.options.range,d=this.options,l=this;if(this.options.values&&this.options.values.length){var i,h;this.handles.each(function(p,n){var o=(l.values(p)-l._valueMin())/(l._valueMax()-l._valueMin())*100;var m={};m[l.orientation=="horizontal"?"left":"bottom"]=o+"%";a(this).stop(1,1)[c?"animate":"css"](m,d.animate);if(l.options.range===true){if(l.orientation=="horizontal"){(p==0)&&l.range.stop(1,1)[c?"animate":"css"]({left:o+"%"},d.animate);(p==1)&&l.range[c?"animate":"css"]({width:(o-lastValPercent)+"%"},{queue:false,duration:d.animate})}else{(p==0)&&l.range.stop(1,1)[c?"animate":"css"]({bottom:(o)+"%"},d.animate);(p==1)&&l.range[c?"animate":"css"]({height:(o-lastValPercent)+"%"},{queue:false,duration:d.animate})}}lastValPercent=o})}else{var j=this.value(),g=this._valueMin(),k=this._valueMax(),e=k!=g?(j-g)/(k-g)*100:0;var b={};b[l.orientation=="horizontal"?"left":"bottom"]=e+"%";this.handle.stop(1,1)[c?"animate":"css"](b,d.animate);(f=="min")&&(this.orientation=="horizontal")&&this.range.stop(1,1)[c?"animate":"css"]({width:e+"%"},d.animate);(f=="max")&&(this.orientation=="horizontal")&&this.range[c?"animate":"css"]({width:(100-e)+"%"},{queue:false,duration:d.animate});(f=="min")&&(this.orientation=="vertical")&&this.range.stop(1,1)[c?"animate":"css"]({height:e+"%"},d.animate);(f=="max")&&(this.orientation=="vertical")&&this.range[c?"animate":"css"]({height:(100-e)+"%"},{queue:false,duration:d.animate})}}}));a.extend(a.ui.slider,{getter:"value values",version:"1.7.2",eventPrefix:"slide",defaults:{animate:false,delay:0,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null}})})(jQuery);(function(a){a.widget("ui.tabs",{_init:function(){if(this.options.deselectable!==undefined){this.options.collapsible=this.options.deselectable}this._tabify(true)},_setData:function(b,c){if(b=="selected"){if(this.options.collapsible&&c==this.options.selected){return}this.select(c)}else{this.options[b]=c;if(b=="deselectable"){this.options.collapsible=c}this._tabify()}},_tabId:function(b){return b.title&&b.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+a.data(b)},_sanitizeSelector:function(b){return b.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+a.data(this.list[0]));return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(c,b){return{tab:c,panel:b,index:this.anchors.index(c)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(n){this.list=this.element.children("ul:first");this.lis=a("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return a("a",this)[0]});this.panels=a([]);var p=this,d=this.options;var c=/^#.+/;this.anchors.each(function(r,o){var q=a(o).attr("href");var s=q.split("#")[0],u;if(s&&(s===location.toString().split("#")[0]||(u=a("base")[0])&&s===u.href)){q=o.hash;o.href=q}if(c.test(q)){p.panels=p.panels.add(p._sanitizeSelector(q))}else{if(q!="#"){a.data(o,"href.tabs",q);a.data(o,"load.tabs",q.replace(/#.*$/,""));var w=p._tabId(o);o.href="#"+w;var v=a("#"+w);if(!v.length){v=a(d.panelTemplate).attr("id",w).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(p.panels[r-1]||p.list);v.data("destroy.tabs",true)}p.panels=p.panels.add(v)}else{d.disabled.push(r)}}});if(n){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(d.selected===undefined){if(location.hash){this.anchors.each(function(q,o){if(o.hash==location.hash){d.selected=q;return false}})}if(typeof d.selected!="number"&&d.cookie){d.selected=parseInt(p._cookie(),10)}if(typeof d.selected!="number"&&this.lis.filter(".ui-tabs-selected").length){d.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}d.selected=d.selected||0}else{if(d.selected===null){d.selected=-1}}d.selected=((d.selected>=0&&this.anchors[d.selected])||d.selected<0)?d.selected:0;d.disabled=a.unique(d.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(q,o){return p.lis.index(q)}))).sort();if(a.inArray(d.selected,d.disabled)!=-1){d.disabled.splice(a.inArray(d.selected,d.disabled),1)}this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(d.selected>=0&&this.anchors.length){this.panels.eq(d.selected).removeClass("ui-tabs-hide");this.lis.eq(d.selected).addClass("ui-tabs-selected ui-state-active");p.element.queue("tabs",function(){p._trigger("show",null,p._ui(p.anchors[d.selected],p.panels[d.selected]))});this.load(d.selected)}a(window).bind("unload",function(){p.lis.add(p.anchors).unbind(".tabs");p.lis=p.anchors=p.panels=null})}else{d.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}this.element[d.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");if(d.cookie){this._cookie(d.selected,d.cookie)}for(var g=0,m;(m=this.lis[g]);g++){a(m)[a.inArray(g,d.disabled)!=-1&&!a(m).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled")}if(d.cache===false){this.anchors.removeData("cache.tabs")}this.lis.add(this.anchors).unbind(".tabs");if(d.event!="mouseover"){var f=function(o,i){if(i.is(":not(.ui-state-disabled)")){i.addClass("ui-state-"+o)}};var j=function(o,i){i.removeClass("ui-state-"+o)};this.lis.bind("mouseover.tabs",function(){f("hover",a(this))});this.lis.bind("mouseout.tabs",function(){j("hover",a(this))});this.anchors.bind("focus.tabs",function(){f("focus",a(this).closest("li"))});this.anchors.bind("blur.tabs",function(){j("focus",a(this).closest("li"))})}var b,h;if(d.fx){if(a.isArray(d.fx)){b=d.fx[0];h=d.fx[1]}else{b=h=d.fx}}function e(i,o){i.css({display:""});if(a.browser.msie&&o.opacity){i[0].style.removeAttribute("filter")}}var k=h?function(i,o){a(i).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");o.hide().removeClass("ui-tabs-hide").animate(h,h.duration||"normal",function(){e(o,h);p._trigger("show",null,p._ui(i,o[0]))})}:function(i,o){a(i).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");o.removeClass("ui-tabs-hide");p._trigger("show",null,p._ui(i,o[0]))};var l=b?function(o,i){i.animate(b,b.duration||"normal",function(){p.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");i.addClass("ui-tabs-hide");e(i,b);p.element.dequeue("tabs")})}:function(o,i,q){p.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");i.addClass("ui-tabs-hide");p.element.dequeue("tabs")};this.anchors.bind(d.event+".tabs",function(){var o=this,r=a(this).closest("li"),i=p.panels.filter(":not(.ui-tabs-hide)"),q=a(p._sanitizeSelector(this.hash));if((r.hasClass("ui-tabs-selected")&&!d.collapsible)||r.hasClass("ui-state-disabled")||r.hasClass("ui-state-processing")||p._trigger("select",null,p._ui(this,q[0]))===false){this.blur();return false}d.selected=p.anchors.index(this);p.abort();if(d.collapsible){if(r.hasClass("ui-tabs-selected")){d.selected=-1;if(d.cookie){p._cookie(d.selected,d.cookie)}p.element.queue("tabs",function(){l(o,i)}).dequeue("tabs");this.blur();return false}else{if(!i.length){if(d.cookie){p._cookie(d.selected,d.cookie)}p.element.queue("tabs",function(){k(o,q)});p.load(p.anchors.index(this));this.blur();return false}}}if(d.cookie){p._cookie(d.selected,d.cookie)}if(q.length){if(i.length){p.element.queue("tabs",function(){l(o,i)})}p.element.queue("tabs",function(){k(o,q)});p.load(p.anchors.index(this))}else{throw"jQuery UI Tabs: Mismatching fragment identifier."}if(a.browser.msie){this.blur()}});this.anchors.bind("click.tabs",function(){return false})},destroy:function(){var b=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var c=a.data(this,"href.tabs");if(c){this.href=c}var d=a(this).unbind(".tabs");a.each(["href","load","cache"],function(e,f){d.removeData(f+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){if(a.data(this,"destroy.tabs")){a(this).remove()}else{a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}});if(b.cookie){this._cookie(null,b.cookie)}},add:function(e,d,c){if(c===undefined){c=this.anchors.length}var b=this,g=this.options,i=a(g.tabTemplate.replace(/#\{href\}/g,e).replace(/#\{label\}/g,d)),h=!e.indexOf("#")?e.replace("#",""):this._tabId(a("a",i)[0]);i.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var f=a("#"+h);if(!f.length){f=a(g.panelTemplate).attr("id",h).data("destroy.tabs",true)}f.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(c>=this.lis.length){i.appendTo(this.list);f.appendTo(this.list[0].parentNode)}else{i.insertBefore(this.lis[c]);f.insertBefore(this.panels[c])}g.disabled=a.map(g.disabled,function(k,j){return k>=c?++k:k});this._tabify();if(this.anchors.length==1){i.addClass("ui-tabs-selected ui-state-active");f.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){b._trigger("show",null,b._ui(b.anchors[0],b.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[c],this.panels[c]))},remove:function(b){var d=this.options,e=this.lis.eq(b).remove(),c=this.panels.eq(b).remove();if(e.hasClass("ui-tabs-selected")&&this.anchors.length>1){this.select(b+(b+1<this.anchors.length?1:-1))}d.disabled=a.map(a.grep(d.disabled,function(g,f){return g!=b}),function(g,f){return g>=b?--g:g});this._tabify();this._trigger("remove",null,this._ui(e.find("a")[0],c[0]))},enable:function(b){var c=this.options;if(a.inArray(b,c.disabled)==-1){return}this.lis.eq(b).removeClass("ui-state-disabled");c.disabled=a.grep(c.disabled,function(e,d){return e!=b});this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]))},disable:function(c){var b=this,d=this.options;if(c!=d.selected){this.lis.eq(c).addClass("ui-state-disabled");d.disabled.push(c);d.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[c],this.panels[c]))}},select:function(b){if(typeof b=="string"){b=this.anchors.index(this.anchors.filter("[href$="+b+"]"))}else{if(b===null){b=-1}}if(b==-1&&this.options.collapsible){b=this.options.selected}this.anchors.eq(b).trigger(this.options.event+".tabs")},load:function(e){var c=this,g=this.options,b=this.anchors.eq(e)[0],d=a.data(b,"load.tabs");this.abort();if(!d||this.element.queue("tabs").length!==0&&a.data(b,"cache.tabs")){this.element.dequeue("tabs");return}this.lis.eq(e).addClass("ui-state-processing");if(g.spinner){var f=a("span",b);f.data("label.tabs",f.html()).html(g.spinner)}this.xhr=a.ajax(a.extend({},g.ajaxOptions,{url:d,success:function(i,h){a(c._sanitizeSelector(b.hash)).html(i);c._cleanup();if(g.cache){a.data(b,"cache.tabs",true)}c._trigger("load",null,c._ui(c.anchors[e],c.panels[e]));try{g.ajaxOptions.success(i,h)}catch(j){}c.element.dequeue("tabs")}}))},abort:function(){this.element.queue([]);this.panels.stop(false,true);if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup()},url:function(c,b){this.anchors.eq(c).removeData("cache.tabs").data("load.tabs",b)},length:function(){return this.anchors.length}});a.extend(a.ui.tabs,{version:"1.7.2",getter:"length",defaults:{ajaxOptions:null,cache:false,cookie:null,collapsible:false,disabled:[],event:"click",fx:null,idPrefix:"ui-tabs-",panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'}});a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(d,f){var b=this,g=this.options;var c=b._rotate||(b._rotate=function(h){clearTimeout(b.rotation);b.rotation=setTimeout(function(){var i=g.selected;b.select(++i<b.anchors.length?i:0)},d);if(h){h.stopPropagation()}});var e=b._unrotate||(b._unrotate=!f?function(h){if(h.clientX){b.rotate(null)}}:function(h){t=g.selected;c()});if(d){this.element.bind("tabsshow",c);this.anchors.bind(g.event+".tabs",e);c()}else{clearTimeout(b.rotation);this.element.unbind("tabsshow",c);this.anchors.unbind(g.event+".tabs",e);delete this._rotate;delete this._unrotate}}})})(jQuery);
------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline; filename=php.gif
Content-Type: image/gif; name=php.gif
Content-Location: http://static.php.net/www.php.net/images/php.gif
Content-Transfer-Encoding: Base64

R0lGODlheABDAOZqAH+CuDk3RyglKszN4qGky9PV57K01ENCWIOGuYKDs1JScpCS
wsLE3qqs0ExLY1tcg93e7Ds4PG5xpWptnWFjjXV5sXt+teXm8JmcxoyNwbm62Wtr
kk5Oa3F0qXp6o4iLvXJ0o3RzmI6QwVpbfuLj73t9raSl0G1wonJ2rJWWyLu92XR4
roWIu5KVw9jZ6pKSxGRmkmtun6WozpSWxS4rL1NRaLO012xqjFxbdoqNv2Zolmhq
mpyfyDEuOa6w05yczVVWeJ6hypaZxYGCr2dplz89ULy+2l5giZiZyIyOv4mKuldY
fLa319XX6CIeIGxvns7Q5L/A3Hd7tHZ4p19efZmZzG5vmHN3riIeH////5COj1lW
V8fGx+7u9dXU1fb2+oKAgayqq3Ryc/Hw8Z6cnePi40tISbm4uWdkZYmJtgD/AEdG
X9/g7ZuczGlrnG9zp4yMuri52bi615qbzKeqz9vc65qcyWZkhGhniaeo0m5woIuL
ucbH4MfJ4WlsnJeYyyH5BAEAAGoALAAAAAB4AEMAAAf/gGqCg4SFhoeIiYqLjI2O
j5CRkpOUlZaXlm0/bXOYnp+gP3l5Nj4acUwaGkwGPj4NMgRBPBhCLQtJIjkfGTki
LymgwqENGgx9TQVQUAN9fAxRUSpyrK90sbNCMy26HwgAFhYVVyglFgkZwcPrjCZx
fC5sbBAQdS7JA9QysyIf/iwAEQgEQLDgN4LhpKxA8UbCCT87nkwZkoSdRTVBbAxg
Q+KCRxIk8jUQskCKyZMoU6pceXJcBwkTduiAQeEIBStDRFzEFIQJFI4eL7gwQqcF
y6NIk6K88iYGjCNHHoxYcsSDzp2Qfmh0AYEjBCMEWCgdSzbplRM6HiwBokDBiCkz
/7AuMqGhQBMXdQoYSFK2r1+kHWAsUcCBgwM8CeQayhNlAJQCA3zk+LtyAYbLmDF8
oJz0DQUFDtasUeBBsZo8Rvj0GcBkBueVH7JwmU2bS5fXSt0sWXPggIMQO91FYcCg
AQLcKzFwwcK8uZnbyJN22F2kyJrSw374kGNEBQ8L0VeqINO8uZgC4ZVeeXAgQAAO
cECZMMBEDgEA6VcWEFOeORkV+Sn1hgLu9XAHJnPQ4YMBMhwXoEpdmNEfFlwQ8KBS
MazRQw8H7FHJDzI00EBJF6YEQBYTYpHFZiUm9UAAGwInSRsE7ONgiycpN6EZX+Co
lB9F0EADFZHYEQQBM4CH1P8HmTXZJItHqRDGhGJc0CSJLDHp5Jb4jYWCAzQIUMMj
SGAQBJRHffBFFmy26eabWXRRQANdolQAGBOSAWebFwxg4UkL7Ckom10M0IBSQAgg
gAONzCAEBmIpRcByKVZqBhhcfAEgSl1sUWmKNGyhRRldkGjAlJ9OuAUYXnRxKFIj
COAEo4psI8SNSY2X6qdbeAFBlyfu+ikYY2AgxQB4CqtqGQMkNYITTuCQSAoitIBm
UhDwp2yKYUBgEgZebJsiGrdd4Km45dHgRbNIrQEtdoX84ctkZX0hIbr9eQGglPjm
2wCK/TZHQxl/HhWAEwIsYEg/9JIVW8DlbdHjnRAzp8X/BeFWjIUY0B3VgaxjEpIC
Ah/UOdakO8I5xhnaTugFAZ1OyMWbY3CBRopaZIFqxHCWcca5E5aBJUsKQJsGId7g
Opau/YnhLUoLNNAFeRNqwQDA/a2IEgYNfBFB1VloUTW7gBrwRbL9hWGAUjTMOsgf
ACCgZFnZ5rmpiVl83XQWGZfH40oQAN1czoIzd8baKn0wBs53H7UEtAqrIYIFJpNl
r8wFpxS4qjpT+XRKMfd3RhY0BG3sSqGXp0XjLHUA7Q2CsJBQXw9POMa1J23eHxpZ
oN3cfyoFG3QZE9KQxVGpD846S0W4rUY4c5OFcn8R9MjS5f0RjrlK4BafxRmqXnAU
/9blAa8UB070IEgFlDFdHhqfp1R72uQ3d7tK/Pa3Rdhjs4QB8dtTCgWgJYgVUKZu
2VueSQwAvqD1rTnV04/vmAOGLBQOC4djCQOo1p/7CZCAKbgC+/yCvfJUiCXJY04E
Ore7+J0khVgIA+lMtxIAeG1C5CLLAJ0gCBQYsC/C6yDujkWp7PWuassLYnm8AMB0
HU8/HCxPGBS4kh0KogMoGCFZdES9J6LkAwXwQun6Q4MxfOGCJ0xJ9yb0vfBxDwJi
nFD1KncUK6phIVpcWhSZQy4V+FEFEOjCGLQwRtENoH7M8SBK8sczsWWvC38EZBfK
4EiZUXEl6FPf8zpwhb7sR/9VWghlKMVwrxSJ4QsEeKAKvWinCWKhghcUlSi1QMph
ia8szaPVB97Qgb5ESGNo+MICToVDF5rEXBOSYSEDdsqhSed1gkiBBN7wQ6UosV/N
PJYrrbYSRGKBiRoDgzD78jgnRO55EujlWNbYLxqcYZxSQGZ/uPCqramSOW0MWATO
cAFnss15gnjBCSTQSaUwUlxmIMMYBlCnGXbQn8TUH//wZQYZMoCOSSmaE45GiCGc
4A1joZj+ZjlLMnBhDIVCU6BIGkpWnkQFXGDp6C4oBpaG0qQoZcAQpQMyQ6TgBCdQ
J1JgyIUL0IMeBfgjAfxpEkAe9aiZA9QAnkqPQy6TOV7/MOpRk+pHAux0LAdL2CGS
EIMToAAp10wkU30khQU0sTxZwChy3OUEeBkiAWUtaHLuuUK2sqQBDYxYx/JTTmkp
ogR5ZclB+WhMv0qBAZVsDhjQE6By0moRiDWrBKvGAMeqRHdSvCRlNHpZRpRgAjHo
QB6lQNR6etYkeXPZ6aLTgQNAq7SNSABqJaDFtGJhDGv10QIWx0a5+oUIPYCWYSOh
hCdMQLNS+N8Wpktd3r3WntSlLhgG+xoFyEoAMprEC0DghxjwFgAFoCo9EHddKaBX
vRBwLWWIcDAnRICjlkiAG1D7htW2168nsK1yQfGCKfgBtar9r19RwAFZOaEI+AWF
/xL04IYD91fBJTrBGhzcg/CygwUUPrAEzorh8BzhAIoSQA9gpxgWgGAHbnBDDKhZ
Ysr4gQMBCJMAAsBi0wgiCSUgwg5gPAEa1zgpEyBQD4QkJrv6eBApSIAedEAEIbsh
qP7F8BuOgOMNLbkIeHjBkxfxAinr4Mxn3sFHSXzdHRxBAe2B0YYOcAMPjfkRL0DA
FIgAgz77mQh++KhQ8zMBIjwANNVxj6JxEAI735kSIhjCnilA6UpT+gh9rnCg38Bp
Tkvg058GKlCJcGm2iKY3B6hOEQJwABxsIDGPFkYKPlACEFgBKlB5gK53PZUlrAUI
bGkLYQpjmNCcujdFUAAVbjgwBDHHWjEpUAICPOCBDWwgLb4GdrDbQmzDcIAKIxiB
FaxQgmY/+9yLEEEaEHAVdLv73fCOd7wDAQA7

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline; filename=small_submit_white.gif
Content-Type: image/gif; name=small_submit_white.gif
Content-Location: http://static.php.net/www.php.net/images/small_submit_white.gif
Content-Transfer-Encoding: Base64

R0lGODlhCwALAID/AP///8DAwCH5BAEAAAEALAAAAAALAAsAQAIUhI8JEcn/1GoI
QokPxVHbXjFcUgAAOylQpBQAOw==

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline; filename=caret-r.gif
Content-Type: image/gif; name=caret-r.gif
Content-Location: http://static.php.net/www.php.net/images/caret-r.gif
Content-Transfer-Encoding: Base64

R0lGODlhCwAHAIAAAMDAwAAAACH5BAEAAAAALAAAAAALAAcAQAIPRAKGyZrXnJQw
1moXvgsUADs=

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline; filename=caret-l.gif
Content-Type: image/gif; name=caret-l.gif
Content-Location: http://static.php.net/www.php.net/images/caret-l.gif
Content-Transfer-Encoding: Base64

R0lGODlhCwAHAIAAAMDAwAAAACH5BAEAAAAALAAAAAALAAcAQAIPhBFheYx63oJR
2omzq84VADs=

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline; filename=small_submit.gif
Content-Type: image/gif; name=small_submit.gif
Content-Location: http://static.php.net/www.php.net/images/small_submit.gif
Content-Transfer-Encoding: Base64

R0lGODlhCwALAID/AAAAmf///yH5BAEAAAEALAAAAAALAAsAQAIUhI8JEcn/1GoI
QokPxVHbXjFcUgAAOw==

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline; filename=21009b70229598c6a80eef8b45bf282b-imagecopyresized.jpg
Content-Type: image/jpeg; name=21009b70229598c6a80eef8b45bf282b-imagecopyresized.jpg
Content-Location: http://www.php.net/manual/en/images/21009b70229598c6a80eef8b45bf282b-imagecopyresized.jpg
Content-Transfer-Encoding: Base64

/9j/4AAQSkZJRgABAQAAAQABAAD//gA+Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1
c2luZyBJSkcgSlBFRyB2NjIpLCBkZWZhdWx0IHF1YWxpdHkK/9sAQwAIBgYHBgUI
BwcHCQkICgwUDQwLCwwZEhMPFB0aHx4dGhwcICQuJyAiLCMcHCg3KSwwMTQ0NB8n
OT04MjwuMzQy/9sAQwEJCQkMCwwYDQ0YMiEcITIyMjIyMjIyMjIyMjIyMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIy/8AAEQgAGQAvAwEiAAIRAQMR
Af/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMF
BQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYX
GBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6
g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV
1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAAB
AgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXET
IjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJ
SlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5
+v/aAAwDAQACEQMRAD8A9I1v4gQ20slvpiLOV488nK5749e3Pf6YNefap8Q5JbyW
1vNdigljkZHiWYJsYHBGc5HI9arJJbxIstw5S2UBpHHVUHJP5Vw3h3WrFPC1zbzT
/wBoapezyymwjtpHklkbACn5dpBKg9cgMcAniu6UY0rJfiQm2dJr3iN9NvdJDT2k
sF7I4mlmkLbUUIQysGx8wY4JyOB2q2uo6dPYS3y3drLbQkCWRZFYR5OBu5+XJ6Z6
44rlfDlg0PiK0sr4MtzpOlcbTlRJJKZMZ/65zH8QcZHNUNekkhtvFTGKKBbjVILA
sowrCIOXOB1O5I2J/wBr3qfbTS5u4WR6NofjU2lxHFpOvRZXhbVp1eN8sDtEZPc/
3cNyeRXpXhT4gQa3qA0fUoUstVKb4AHzHdqAN5jJ6MOSUOSBggsMkeGaxdWXii/s
LTREaaGG7jnkv4IWRbSMbsopdVOcYIHAJVep6aPiMaj/AGan9jfbv7WEo+x/YN/n
b8Hdt2fN/q/Mz7ZpSgpxcuwXseoeJ/h40zXMmkxBrW6ikjms0kEbLvBUmIkFRwxO
D0xx1wODWwXRLeDTvs1xZxxxrsiugVcj+8cgZJIJyBjOa+gqzPEf/Isat/15Tf8A
oBrOnXcXrqNxPE9xIAzkVUv7GxvLixu7uSdJrCXzoGSYIu75SNwKnIBUdCOprPfp
U3h//kb9F/6/4P8A0YtdE6ytZoSialst/qp26Ppt3qcm5kDQpiIMF3YaVsIvGOpz
yOORXo3grwC+jXZ1nXXt7rWBuS3WHJhs4zxhCwBLsPvOQDj5QAM7u6ormqVpT0ex
Sikf/9k=

------------6nhAxGuvOMzG6waYgcmWNI
Content-Disposition: inline; filename=notes-add.gif
Content-Type: image/gif; name=notes-add.gif
Content-Location: http://static.php.net/www.php.net/images/notes-add.gif
Content-Transfer-Encoding: Base64

R0lGODlhDQANAID/AMDAwGZmZiH5BAEAAAAALAAAAAANAA0AQAIfjI8IC8cdnmOp
KmpktDnjiD3i4pElBFkot4Gmi45SAQA7

------------6nhAxGuvOMzG6waYgcmWNI--
